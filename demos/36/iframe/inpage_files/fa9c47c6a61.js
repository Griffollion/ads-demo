var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(c,d,u){var p=function(t){d.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var e,i,s=this.vars;for(i in s)e=s[i],_(e)&&-1!==e.join("").indexOf("{self}")&&(s[i]=this._swapSelfInParams(e));_(s.tweens)&&this.add(s.tweens,0,s.align,s.stagger)},m=1e-10,t=u._internals,e=p._internals={},f=t.isSelector,_=t.isArray,v=t.lazyTweens,g=t.lazyRender,r=_gsScope._gsDefine.globals,T=function(t){var e,i={};for(e in t)i[e]=t[e];return i},A=function(t,e,i){var s,n,o=t.cycle;for(s in o)n=o[s],t[s]="function"==typeof n?n(i,e[i]):n[i%n.length];delete t.cycle},o=e.pauseCallback=function(){},y=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},i=p.prototype=new d;return p.version="1.19.0",i.constructor=p,i.kill()._gc=i._forcingPlayhead=i._hasPause=!1,i.to=function(t,e,i,s){var n=i.repeat&&r.TweenMax||u;return e?this.add(new n(t,e,i),s):this.set(t,i,s)},i.from=function(t,e,i,s){return this.add((i.repeat&&r.TweenMax||u).from(t,e,i),s)},i.fromTo=function(t,e,i,s,n){var o=s.repeat&&r.TweenMax||u;return e?this.add(o.fromTo(t,e,i,s),n):this.set(t,s,n)},i.staggerTo=function(t,e,i,s,n,o,r,a){var h,l,c=new p({onComplete:o,onCompleteParams:r,callbackScope:a,smoothChildTiming:this.smoothChildTiming}),d=i.cycle;for("string"==typeof t&&(t=u.selector(t)||t),f(t=t||[])&&(t=y(t)),(s=s||0)<0&&((t=y(t)).reverse(),s*=-1),l=0;l<t.length;l++)(h=T(i)).startAt&&(h.startAt=T(h.startAt),h.startAt.cycle&&A(h.startAt,t,l)),d&&(A(h,t,l),null!=h.duration&&(e=h.duration,delete h.duration)),c.to(t[l],e,h,l*s);return this.add(c,n)},i.staggerFrom=function(t,e,i,s,n,o,r,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,s,n,o,r,a)},i.staggerFromTo=function(t,e,i,s,n,o,r,a,h){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,s,n,o,r,a,h)},i.call=function(t,e,i,s){return this.add(u.delayedCall(0,t,e,i),s)},i.set=function(t,e,i){return i=this._parseTimeOrLabel(i,0,!0),null==e.immediateRender&&(e.immediateRender=i===this._time&&!this._paused),this.add(new u(t,0,e),i)},p.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var i,s,n=new p(t),o=n._timeline;for(null==e&&(e=!0),o._remove(n,!0),n._startTime=0,n._rawPrevTime=n._time=n._totalTime=o._time,i=o._first;i;)s=i._next,e&&i instanceof u&&i.target===i.vars.onComplete||n.add(i,i._startTime-i._delay),i=s;return o.add(n,0),n},i.add=function(t,e,i,s){var n,o,r,a,h,l;if("number"!=typeof e&&(e=this._parseTimeOrLabel(e,0,!0,t)),!(t instanceof c)){if(t instanceof Array||t&&t.push&&_(t)){for(i=i||"normal",s=s||0,n=e,o=t.length,r=0;r<o;r++)_(a=t[r])&&(a=new p({tweens:a})),this.add(a,n),"string"!=typeof a&&"function"!=typeof a&&("sequence"===i?n=a._startTime+a.totalDuration()/a._timeScale:"start"===i&&(a._startTime-=a.delay())),n+=s;return this._uncache(!0)}if("string"==typeof t)return this.addLabel(t,e);if("function"!=typeof t)throw"Cannot add "+t+" into the timeline; it is not a tween, timeline, function, or string.";t=u.delayedCall(0,t)}if(d.prototype.add.call(this,t,e),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(l=(h=this).rawTime()>t._startTime;h._timeline;)l&&h._timeline.smoothChildTiming?h.totalTime(h._totalTime,!0):h._gc&&h._enabled(!0,!1),h=h._timeline;return this},i.remove=function(t){if(t instanceof c){this._remove(t,!1);var e=t._timeline=t.vars.useFrames?c._rootFramesTimeline:c._rootTimeline;return t._startTime=(t._paused?t._pauseTime:e._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&_(t)){for(var i=t.length;-1<--i;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},i._remove=function(t,e){d.prototype._remove.call(this,t,e);var i=this._last;return i?this._time>i._startTime+i._totalDuration/i._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},i.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},i.insert=i.insertMultiple=function(t,e,i,s){return this.add(t,e||0,i,s)},i.appendMultiple=function(t,e,i,s){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,s)},i.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},i.addPause=function(t,e,i,s){var n=u.delayedCall(0,o,i,s||this);return n.vars.onComplete=n.vars.onReverseComplete=e,n.data="isPause",this._hasPause=!0,this.add(n,t)},i.removeLabel=function(t){return delete this._labels[t],this},i.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},i._parseTimeOrLabel=function(t,e,i,s){var n;if(s instanceof c&&s.timeline===this)this.remove(s);else if(s&&(s instanceof Array||s.push&&_(s)))for(n=s.length;-1<--n;)s[n]instanceof c&&s[n].timeline===this&&this.remove(s[n]);if("string"==typeof e)return this._parseTimeOrLabel(e,i&&"number"==typeof t&&null==this._labels[e]?t-this.duration():0,i);if(e=e||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(-1===(n=t.indexOf("=")))return null==this._labels[t]?i?this._labels[t]=this.duration()+e:e:this._labels[t]+e;e=parseInt(t.charAt(n-1)+"1",10)*Number(t.substr(n+1)),t=1<n?this._parseTimeOrLabel(t.substr(0,n-1),0,i):this.duration()}return Number(t)+e},i.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},i.stop=function(){return this.paused(!0)},i.gotoAndPlay=function(t,e){return this.play(t,e)},i.gotoAndStop=function(t,e){return this.pause(t,e)},i.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var s,n,o,r,a,h,l,c=this._dirty?this.totalDuration():this._totalDuration,d=this._time,u=this._startTime,p=this._timeScale,f=this._paused;if(c-1e-7<=t)this._totalTime=this._time=c,this._reversed||this._hasPausedChild()||(n=!0,r="onComplete",a=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&-1e-7<=t||this._rawPrevTime<0||this._rawPrevTime===m)&&this._rawPrevTime!==t&&this._first&&(a=!0,this._rawPrevTime>m&&(r="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:m,t=c+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==d||0===this._duration&&this._rawPrevTime!==m&&(0<this._rawPrevTime||t<0&&0<=this._rawPrevTime))&&(r="onReverseComplete",n=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(a=n=!0,r="onReverseComplete"):0<=this._rawPrevTime&&this._first&&(a=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:m,0===t&&n)for(s=this._first;s&&0===s._startTime;)s._duration||(n=!1),s=s._next;t=0,this._initted||(a=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(d<=t)for(s=this._first;s&&s._startTime<=t&&!h;)s._duration||"isPause"!==s.data||s.ratio||0===s._startTime&&0===this._rawPrevTime||(h=s),s=s._next;else for(s=this._last;s&&s._startTime>=t&&!h;)s._duration||"isPause"===s.data&&0<s._rawPrevTime&&(h=s),s=s._prev;h&&(this._time=t=h._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==d&&this._first||i||a||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==d&&0<t&&(this._active=!0),0===d&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),d<=(l=this._time))for(s=this._first;s&&(o=s._next,l===this._time&&(!this._paused||f));)(s._active||s._startTime<=l&&!s._paused&&!s._gc)&&(h===s&&this.pause(),s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=o;else for(s=this._last;s&&(o=s._prev,l===this._time&&(!this._paused||f));){if(s._active||s._startTime<=d&&!s._paused&&!s._gc){if(h===s){for(h=s._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,i),h=h._prev;h=null,this.pause()}s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)}s=o}this._onUpdate&&(e||(v.length&&g(),this._callback("onUpdate"))),r&&(this._gc||(u===this._startTime||p!==this._timeScale)&&(0===this._time||c>=this.totalDuration())&&(n&&(v.length&&g(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r)))}},i._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof p&&t._hasPausedChild())return!0;t=t._next}return!1},i.getChildren=function(t,e,i,s){s=s||-9999999999;for(var n=[],o=this._first,r=0;o;)o._startTime<s||(o instanceof u?!1!==e&&(n[r++]=o):(!1!==i&&(n[r++]=o),!1!==t&&(r=(n=n.concat(o.getChildren(!0,e,i))).length))),o=o._next;return n},i.getTweensOf=function(t,e){var i,s,n=this._gc,o=[],r=0;for(n&&this._enabled(!0,!0),s=(i=u.getTweensOf(t)).length;-1<--s;)(i[s].timeline===this||e&&this._contains(i[s]))&&(o[r++]=i[s]);return n&&this._enabled(!1,!0),o},i.recent=function(){return this._recent},i._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},i.shiftChildren=function(t,e,i){i=i||0;for(var s,n=this._first,o=this._labels;n;)n._startTime>=i&&(n._startTime+=t),n=n._next;if(e)for(s in o)o[s]>=i&&(o[s]+=t);return this._uncache(!0)},i._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),s=i.length,n=!1;-1<--s;)i[s]._kill(t,e)&&(n=!0);return n},i.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;-1<--i;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},i.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return c.prototype.invalidate.call(this)},i._enabled=function(t,e){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return d.prototype._enabled.call(this,t,e)},i.totalTime=function(t,e,i){this._forcingPlayhead=!0;var s=c.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,s},i.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},i.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,s=0,n=this._last,o=999999999999;n;)e=n._prev,n._dirty&&n.totalDuration(),n._startTime>o&&this._sortChildren&&!n._paused?this.add(n,n._startTime-n._delay):o=n._startTime,n._startTime<0&&!n._paused&&(s-=n._startTime,this._timeline.smoothChildTiming&&(this._startTime+=n._startTime/this._timeScale),this.shiftChildren(-n._startTime,!1,-9999999999),o=0),s<(i=n._startTime+n._totalDuration/n._timeScale)&&(s=i),n=e;this._duration=this._totalDuration=s,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},i.paused=function(t){if(!t)for(var e=this._first,i=this._time;e;)e._startTime===i&&"isPause"===e.data&&(e._rawPrevTime=0),e=e._next;return c.prototype.paused.apply(this,arguments)},i.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===c._rootFramesTimeline},i.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},p},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope).TimelineLite};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("./TweenLite.js"),module.exports=e())}(),function(p,f){"use strict";var e,i,m={},_=p.GreenSockGlobals=p.GreenSockGlobals||p;if(!_.TweenLite){var t,s,n,v,g,T=function(t){var e,i=t.split("."),s=_;for(e=0;e<i.length;e++)s[i[e]]=s=s[i[e]]||{};return s},d=T("com.greensock"),A=1e-10,h=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},y=function(){},w=(e=Object.prototype.toString,i=e.call([]),function(t){return null!=t&&(t instanceof Array||"object"==typeof t&&!!t.push&&e.call(t)===i)}),b={},S=function(h,l,c,d){this.sc=b[h]?b[h].sc:[],(b[h]=this).gsClass=null,this.func=c;var u=[];this.check=function(t){for(var e,i,s,n,o,r=l.length,a=r;-1<--r;)(e=b[l[r]]||new S(l[r],[])).gsClass?(u[r]=e.gsClass,a--):t&&e.sc.push(this);if(0===a&&c){if(s=(i=("com.greensock."+h).split(".")).pop(),n=T(i.join("."))[s]=this.gsClass=c.apply(c,u),d)if(_[s]=m[s]=n,!(o="undefined"!=typeof module&&module.exports)&&"function"==typeof define&&define.amd)define((p.GreenSockAMDPath?p.GreenSockAMDPath+"/":"")+h.split(".").pop(),[],function(){return n});else if(o)if(h===f)for(r in module.exports=m[f]=n,m)n[r]=m[r];else m[f]&&(m[f][s]=n);for(r=0;r<this.sc.length;r++)this.sc[r].check()}},this.check(!0)},o=p._gsDefine=function(t,e,i,s){return new S(t,e,i,s)},u=d._class=function(t,e,i){return e=e||function(){},o(t,[],function(){return e},i),e};o.globals=_;var r=[0,0,1,1],P=u("easing.Ease",function(t,e,i,s){this._func=t,this._type=i||0,this._power=s||0,this._params=e?r.concat(e):r},!0),E=P.map={},a=P.register=function(t,e,i,s){for(var n,o,r,a,h=e.split(","),l=h.length,c=(i||"easeIn,easeOut,easeInOut").split(",");-1<--l;)for(o=h[l],n=s?u("easing."+o,null,!0):d.easing[o]||{},r=c.length;-1<--r;)a=c[r],E[o+"."+a]=E[a+o]=n[a]=t.getRatio?t:t[a]||new t};for((n=P.prototype)._calcEnd=!1,n.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,s=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?s*=s:2===i?s*=s*s:3===i?s*=s*s*s:4===i&&(s*=s*s*s*s),1===e?1-s:2===e?s:t<.5?s/2:1-s/2},s=(t=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--s;)n=t[s]+",Power"+s,a(new P(null,null,1,s),n,"easeOut",!0),a(new P(null,null,2,s),n,"easeIn"+(0===s?",easeNone":"")),a(new P(null,null,3,s),n,"easeInOut");E.linear=d.easing.Linear.easeIn,E.swing=d.easing.Quad.easeInOut;var x=u("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(n=x.prototype).addEventListener=function(t,e,i,s,n){n=n||0;var o,r,a=this._listeners[t],h=0;for(this!==v||g||v.wake(),null==a&&(this._listeners[t]=a=[]),r=a.length;-1<--r;)(o=a[r]).c===e&&o.s===i?a.splice(r,1):0===h&&o.pr<n&&(h=r+1);a.splice(h,0,{c:e,s:i,up:s,pr:n})},n.removeEventListener=function(t,e){var i,s=this._listeners[t];if(s)for(i=s.length;-1<--i;)if(s[i].c===e)return void s.splice(i,1)},n.dispatchEvent=function(t){var e,i,s,n=this._listeners[t];if(n)for(1<(e=n.length)&&(n=n.slice(0)),i=this._eventTarget;-1<--e;)(s=n[e])&&(s.up?s.c.call(s.s||i,{type:t,target:i}):s.c.call(s.s||i))};var I=p.requestAnimationFrame,C=p.cancelAnimationFrame,O=Date.now||function(){return(new Date).getTime()},k=O();for(s=(t=["ms","moz","webkit","o"]).length;-1<--s&&!I;)I=p[t[s]+"RequestAnimationFrame"],C=p[t[s]+"CancelAnimationFrame"]||p[t[s]+"CancelRequestAnimationFrame"];u("Ticker",function(t,e){var n,o,r,a,h,l=this,c=O(),i=!(!1===e||!I)&&"auto",d=500,u=33,p=function(t){var e,i,s=O()-k;d<s&&(c+=s-u),k+=s,l.time=(k-c)/1e3,e=l.time-h,(!n||0<e||!0===t)&&(l.frame++,h+=e+(a<=e?.004:a-e),i=!0),!0!==t&&(r=o(p)),i&&l.dispatchEvent("tick")};x.call(l),l.time=l.frame=0,l.tick=function(){p(!0)},l.lagSmoothing=function(t,e){d=t||1e10,u=Math.min(e,d,0)},l.sleep=function(){null!=r&&(i&&C?C(r):clearTimeout(r),o=y,r=null,l===v&&(g=!1))},l.wake=function(t){null!==r?l.sleep():t?c+=-k+(k=O()):10<l.frame&&(k=O()-d+5),o=0===n?y:i&&I?I:function(t){return setTimeout(t,1e3*(h-l.time)+1|0)},l===v&&(g=!0),p(2)},l.fps=function(t){return arguments.length?(a=1/((n=t)||60),h=this.time+a,void l.wake()):n},l.useRAF=function(t){return arguments.length?(l.sleep(),i=t,void l.fps(n)):i},l.fps(t),setTimeout(function(){"auto"===i&&l.frame<5&&"hidden"!==document.visibilityState&&l.useRAF(!1)},1500)}),(n=d.Ticker.prototype=new d.events.EventDispatcher).constructor=d.Ticker;var l=u("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,J){g||v.wake();var i=this.vars.useFrames?j:J;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});v=l.ticker=new d.Ticker,(n=l.prototype)._dirty=n._gc=n._initted=n._paused=!1,n._totalTime=n._time=0,n._rawPrevTime=-1,n._next=n._last=n._onUpdate=n._timeline=n.timeline=null,n._paused=!1;var c=function(){g&&2e3<O()-k&&v.wake(),setTimeout(c,2e3)};c(),n.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},n.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},n.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},n.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},n.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},n.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},n.render=function(t,e,i){},n.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},n.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&t<i+this.totalDuration()/this._timeScale},n._enabled=function(t,e){return g||v.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},n._kill=function(t,e){return this._enabled(!1,!1)},n.kill=function(t,e){return this._kill(t,e),this},n._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},n._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();-1<--e;)"{self}"===t[e]&&(i[e]=this);return i},n._callback=function(t){var e=this.vars,i=e[t],s=e[t+"Params"],n=e[t+"Scope"]||e.callbackScope||this;switch(s?s.length:0){case 0:i.call(n);break;case 1:i.call(n,s[0]);break;case 2:i.call(n,s[0],s[1]);break;default:i.apply(n,s)}},n.eventCallback=function(t,e,i,s){if("on"===(t||"").substr(0,2)){var n=this.vars;if(1===arguments.length)return n[t];null==e?delete n[t]:(n[t]=e,n[t+"Params"]=w(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,n[t+"Scope"]=s),"onUpdate"===t&&(this._onUpdate=e)}return this},n.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},n.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},n.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},n.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},n.totalTime=function(t,e,i){if(g||v.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var s=this._totalDuration,n=this._timeline;if(s<t&&!i&&(t=s),this._startTime=(this._paused?this._pauseTime:n._time)-(this._reversed?s-t:t)/this._timeScale,n._dirty||this._uncache(!1),n._timeline)for(;n._timeline;)n._timeline._time!==(n._startTime+n._totalTime)/n._timeScale&&n.totalTime(n._totalTime,!0),n=n._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(L.length&&q(),this.render(t,e,!1),L.length&&q())}return this},n.progress=n.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},n.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},n.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},n.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||A,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},n.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},n.paused=function(t){if(!arguments.length)return this._paused;var e,i,s=this._timeline;return t!=this._paused&&s&&(g||t||v.wake(),i=(e=s.rawTime())-this._pauseTime,!t&&s.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=s.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var M=u("core.SimpleTimeline",function(t){l.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(n=M.prototype=new l).constructor=M,n.kill()._gc=!1,n._first=n._last=n._recent=null,n._sortChildren=!1,n.add=n.insert=function(t,e,i,s){var n,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),n=this._last,this._sortChildren)for(o=t._startTime;n&&n._startTime>o;)n=n._prev;return n?(t._next=n._next,n._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=n,this._recent=t,this._timeline&&this._uncache(!0),this},n._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},n.render=function(t,e,i){var s,n=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;n;)s=n._next,(n._active||t>=n._startTime&&!n._paused)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=s},n.rawTime=function(){return g||v.wake(),this._totalTime};var N=u("TweenLite",function(t,e,i){if(l.call(this,e,i),this.render=N.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:N.selector(t)||t;var s,n,o,r=t.jquery||t.length&&t!==p&&t[0]&&(t[0]===p||t[0].nodeType&&t[0].style&&!t.nodeType),a=this.vars.overwrite;if(this._overwrite=a=null==a?X[N.defaultOverwrite]:"number"==typeof a?a>>0:X[a],(r||t instanceof Array||t.push&&w(t))&&"number"!=typeof t[0])for(this._targets=o=h(t),this._propLookup=[],this._siblings=[],s=0;s<o.length;s++)(n=o[s])?"string"!=typeof n?n.length&&n!==p&&n[0]&&(n[0]===p||n[0].nodeType&&n[0].style&&!n.nodeType)?(o.splice(s--,1),this._targets=o=o.concat(h(n))):(this._siblings[s]=K(n,this,!1),1===a&&1<this._siblings[s].length&&$(n,this,null,1,this._siblings[s])):"string"==typeof(n=o[s--]=N.selector(n))&&o.splice(s+1,1):o.splice(s--,1);else this._propLookup={},this._siblings=K(t,this,!1),1===a&&1<this._siblings.length&&$(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-A,this.render(Math.min(0,-this._delay)))},!0),R=function(t){return t&&t.length&&t!==p&&t[0]&&(t[0]===p||t[0].nodeType&&t[0].style&&!t.nodeType)};(n=N.prototype=new l).constructor=N,n.kill()._gc=!1,n.ratio=0,n._firstPT=n._targets=n._overwrittenProps=n._startAt=null,n._notifyPluginsOfEnabled=n._lazy=!1,N.version="1.19.0",N.defaultEase=n._ease=new P(null,null,1,1),N.defaultOverwrite="auto",N.ticker=v,N.autoSleep=120,N.lagSmoothing=function(t,e){v.lagSmoothing(t,e)},N.selector=p.$||p.jQuery||function(t){var e=p.$||p.jQuery;return e?(N.selector=e)(t):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var L=[],B={},D=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,V=function(t){for(var e,i=this._firstPT;i;)e=i.blob?t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m(e,this._target||i.t):e<1e-6&&-1e-6<e&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},W=function(t,e,i,s){var n,o,r,a,h,l,c,d=[t,e],u=0,p="",f=0;for(d.start=t,i&&(i(d),t=d[0],e=d[1]),d.length=0,n=t.match(D)||[],o=e.match(D)||[],s&&(s._next=null,s.blob=1,d._firstPT=d._applyPT=s),h=o.length,a=0;a<h;a++)c=o[a],p+=(l=e.substr(u,e.indexOf(c,u)-u))||!a?l:",",u+=l.length,f?f=(f+1)%5:"rgba("===l.substr(-5)&&(f=1),c===n[a]||n.length<=a?p+=c:(p&&(d.push(p),p=""),r=parseFloat(n[a]),d.push(r),d._firstPT={_next:d._firstPT,t:d,p:d.length-1,s:r,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-r)||0,f:0,m:f&&f<4?Math.round:0}),u+=c.length;return(p+=e.substr(u))&&d.push(p),d.setRatio=V,d},F=function(t,e,i,s,n,o,r,a,h){"function"==typeof s&&(s=s(h||0,t));var l,c="get"===i?t[e]:i,d=typeof t[e],u="string"==typeof s&&"="===s.charAt(1),p={t:t,p:e,s:c,f:"function"===d,pg:0,n:n||e,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:u?parseInt(s.charAt(0)+"1",10)*parseFloat(s.substr(2)):parseFloat(s)-c||0};return"number"!==d&&("function"===d&&"get"===i&&(l=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),p.s=c=r?t[l](r):t[l]()),"string"==typeof c&&(r||isNaN(c))?(p.fp=r,p={t:W(c,s,a||N.defaultStringFilter,p),p:"setRatio",s:0,c:1,f:2,pg:0,n:n||e,pr:0,m:0}):u||(p.s=parseFloat(c),p.c=parseFloat(s)-p.s||0)),p.c?((p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p):void 0},H=N._internals={isArray:w,isSelector:R,lazyTweens:L,blobDif:W},U=N._plugins={},z=H.tweenLookup={},Y=0,G=H.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},X={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},j=l._rootFramesTimeline=new M,J=l._rootTimeline=new M,Q=30,q=H.lazyRender=function(){var t,e=L.length;for(B={};-1<--e;)(t=L[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);L.length=0};J._startTime=v.time,j._startTime=v.frame,J._active=j._active=!0,setTimeout(q,1),l._updateRoot=N.render=function(){var t,e,i;if(L.length&&q(),J.render((v.time-J._startTime)*J._timeScale,!1,!1),j.render((v.frame-j._startTime)*j._timeScale,!1,!1),L.length&&q(),v.frame>=Q){for(i in Q=v.frame+(parseInt(N.autoSleep,10)||120),z){for(t=(e=z[i].tweens).length;-1<--t;)e[t]._gc&&e.splice(t,1);0===e.length&&delete z[i]}if((!(i=J._first)||i._paused)&&N.autoSleep&&!j._first&&1===v._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||v.sleep()}}},v.addEventListener("tick",l._updateRoot);var K=function(t,e,i){var s,n,o=t._gsTweenID;if(z[o||(t._gsTweenID=o="t"+Y++)]||(z[o]={target:t,tweens:[]}),e&&((s=z[o].tweens)[n=s.length]=e,i))for(;-1<--n;)s[n]===e&&s.splice(n,1);return z[o].tweens},Z=function(t,e,i,s){var n,o,r=t.vars.onOverwrite;return r&&(n=r(t,e,i,s)),(r=N.onOverwrite)&&(o=r(t,e,i,s)),!1!==n&&!1!==o},$=function(t,e,i,s,n){var o,r,a,h;if(1===s||4<=s){for(h=n.length,o=0;o<h;o++)if((a=n[o])!==e)a._gc||a._kill(null,t,e)&&(r=!0);else if(5===s)break;return r}var l,c=e._startTime+A,d=[],u=0,p=0===e._duration;for(o=n.length;-1<--o;)(a=n[o])===e||a._gc||a._paused||(a._timeline!==e._timeline?(l=l||tt(e,0,p),0===tt(a,l,p)&&(d[u++]=a)):a._startTime<=c&&a._startTime+a.totalDuration()/a._timeScale>c&&((p||!a._initted)&&c-a._startTime<=2e-10||(d[u++]=a)));for(o=u;-1<--o;)if(a=d[o],2===s&&a._kill(i,t,e)&&(r=!0),2!==s||!a._firstPT&&a._initted){if(2!==s&&!Z(a,e))continue;a._enabled(!1,!1)&&(r=!0)}return r},tt=function(t,e,i){for(var s=t._timeline,n=s._timeScale,o=t._startTime;s._timeline;){if(o+=s._startTime,n*=s._timeScale,s._paused)return-100;s=s._timeline}return e<(o/=n)?o-e:i&&o===e||!t._initted&&o-e<2*A?A:(o+=t.totalDuration()/t._timeScale/n)>e+A?0:o-e-A};n._init=function(){var t,e,i,s,n,o,r=this.vars,a=this._overwrittenProps,h=this._duration,l=!!r.immediateRender,c=r.ease;if(r.startAt){for(s in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),n={},r.startAt)n[s]=r.startAt[s];if(n.overwrite=!1,n.immediateRender=!0,n.lazy=l&&!1!==r.lazy,n.startAt=n.delay=null,this._startAt=N.to(this.target,0,n),l)if(0<this._time)this._startAt=null;else if(0!==h)return}else if(r.runBackwards&&0!==h)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(s in 0!==this._time&&(l=!1),i={},r)G[s]&&"autoCSS"!==s||(i[s]=r[s]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&!1!==r.lazy,i.immediateRender=l,this._startAt=N.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof P?c:"function"==typeof c?new P(c,r.easeParams):E[c]||N.defaultEase:N.defaultEase,r.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,r.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,t=0;t<o;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a,0);if(e&&N._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),r.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=r.onUpdate,this._initted=!0},n._initProps=function(t,e,i,s,n){var o,r,a,h,l,c;if(null==t)return!1;for(o in B[t._gsTweenID]&&q(),this.vars.css||t.style&&t!==p&&t.nodeType&&U.css&&!1!==this.vars.autoCSS&&function(t,e){var i,s={};for(i in t)G[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!U[i]||U[i]&&U[i]._autoCSS)||(s[i]=t[i],delete t[i]);t.css=s}(this.vars,t),this.vars)if(c=this.vars[o],G[o])c&&(c instanceof Array||c.push&&w(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[o]=c=this._swapSelfInParams(c,this));else if(U[o]&&(h=new U[o])._onInitTween(t,this.vars[o],this,n)){for(this._firstPT=l={_next:this._firstPT,t:h,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:h._priority,m:0},r=h._overwriteProps.length;-1<--r;)e[h._overwriteProps[r]]=this._firstPT;(h._priority||h._onInitAllProps)&&(a=!0),(h._onDisable||h._onEnable)&&(this._notifyPluginsOfEnabled=!0),l._next&&(l._next._prev=l)}else e[o]=F.call(this,t,o,"get",c,o,0,null,this.vars.stringFilter,n);return s&&this._kill(s,t)?this._initProps(t,e,i,s,n):1<this._overwrite&&this._firstPT&&1<i.length&&$(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,s,n)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(B[t._gsTweenID]=!0),a)},n.render=function(t,e,i){var s,n,o,r,a=this._time,h=this._duration,l=this._rawPrevTime;if(h-1e-7<=t)this._totalTime=this._time=h,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(s=!0,n="onComplete",i=i||this._timeline.autoRemoveChildren),0===h&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(l<0||t<=0&&-1e-7<=t||l===A&&"isPause"!==this.data)&&l!==t&&(i=!0,A<l&&(n="onReverseComplete")),this._rawPrevTime=r=!e||t||l===t?t:A);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===h&&0<l)&&(n="onReverseComplete",s=this._reversed),t<0&&(this._active=!1,0===h&&(this._initted||!this.vars.lazy||i)&&(0<=l&&(l!==A||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=r=!e||t||l===t?t:A)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/h,d=this._easeType,u=this._easePower;(1===d||3===d&&.5<=c)&&(c=1-c),3===d&&(c*=2),1===u?c*=c:2===u?c*=c*c:3===u?c*=c*c*c:4===u&&(c*=c*c*c*c),this.ratio=1===d?1-c:2===d?c:t/h<.5?c/2:1-c/2}else this.ratio=this._ease.getRatio(t/h);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=l,L.push(this),void(this._lazy=[t,e]);this._time&&!s?this.ratio=this._ease.getRatio(this._time/h):s&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&0<=t&&(this._active=!0),0===a&&(this._startAt&&(0<=t?this._startAt.render(t,e,i):n||(n="_dummyGS")),this.vars.onStart&&(0!==this._time||0===h)&&(e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,e,i),e||(this._time!==a||s||i)&&this._callback("onUpdate")),n&&(!this._gc||i)&&(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,e,i),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this._callback(n),0===h&&this._rawPrevTime===A&&r!==A&&(this._rawPrevTime=0))}},n._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:N.selector(e)||e;var s,n,o,r,a,h,l,c,d,u=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((w(e)||R(e))&&"number"!=typeof e[0])for(s=e.length;-1<--s;)this._kill(t,e[s],i)&&(h=!0);else{if(this._targets){for(s=this._targets.length;-1<--s;)if(e===this._targets[s]){a=this._propLookup[s]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[s]=t?this._overwrittenProps[s]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,n=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(l=t||a,c=t!==n&&"all"!==n&&t!==a&&("object"!=typeof t||!t._tempKill),i&&(N.onOverwrite||this.vars.onOverwrite)){for(o in l)a[o]&&(d||(d=[]),d.push(o));if((d||!t)&&!Z(this,i,e,d))return!1}for(o in l)(r=a[o])&&(u&&(r.f?r.t[r.p](r.s):r.t[r.p]=r.s,h=!0),r.pg&&r.t._kill(l)&&(h=!0),r.pg&&0!==r.t._overwriteProps.length||(r._prev?r._prev._next=r._next:r===this._firstPT&&(this._firstPT=r._next),r._next&&(r._next._prev=r._prev),r._next=r._prev=null),delete a[o]),c&&(n[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},n.invalidate=function(){return this._notifyPluginsOfEnabled&&N._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],l.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-A,this.render(Math.min(0,-this._delay))),this},n._enabled=function(t,e){if(g||v.wake(),t&&this._gc){var i,s=this._targets;if(s)for(i=s.length;-1<--i;)this._siblings[i]=K(s[i],this,!0);else this._siblings=K(this.target,this,!0)}return l.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&N._onPluginEvent(t?"_onEnable":"_onDisable",this)},N.to=function(t,e,i){return new N(t,e,i)},N.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new N(t,e,i)},N.fromTo=function(t,e,i,s){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,new N(t,e,s)},N.delayedCall=function(t,e,i,s,n){return new N(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:s,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:n,overwrite:0})},N.set=function(t,e){return new N(t,0,e)},N.getTweensOf=function(t,e){if(null==t)return[];var i,s,n,o;if(t="string"!=typeof t?t:N.selector(t)||t,(w(t)||R(t))&&"number"!=typeof t[0]){for(i=t.length,s=[];-1<--i;)s=s.concat(N.getTweensOf(t[i],e));for(i=s.length;-1<--i;)for(o=s[i],n=i;-1<--n;)o===s[n]&&s.splice(i,1)}else for(i=(s=K(t).concat()).length;-1<--i;)(s[i]._gc||e&&!s[i].isActive())&&s.splice(i,1);return s},N.killTweensOf=N.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var s=N.getTweensOf(t,e),n=s.length;-1<--n;)s[n]._kill(i,t)};var et=u("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=et.prototype},!0);if(n=et.prototype,et.version="1.19.0",et.API=2,n._firstPT=null,n._addTween=F,n.setRatio=V,n._kill=function(t){var e,i=this._overwriteProps,s=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;-1<--e;)null!=t[i[e]]&&i.splice(e,1);for(;s;)null!=t[s.n]&&(s._next&&(s._next._prev=s._prev),s._prev?(s._prev._next=s._next,s._prev=null):this._firstPT===s&&(this._firstPT=s._next)),s=s._next;return!1},n._mod=n._roundProps=function(t){for(var e,i=this._firstPT;i;)(e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},N._onPluginEvent=function(t,e){var i,s,n,o,r,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(r=a._next,s=n;s&&s.pr>a.pr;)s=s._next;(a._prev=s?s._prev:o)?a._prev._next=a:n=a,(a._next=s)?s._prev=a:o=a,a=r}a=e._firstPT=n}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},et.activate=function(t){for(var e=t.length;-1<--e;)t[e].API===et.API&&(U[(new t[e])._propName]=t[e]);return!0},o.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,s=t.priority||0,n=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},r=u("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){et.call(this,i,s),this._overwriteProps=n||[]},!0===t.global),a=r.prototype=new et(i);for(e in(a.constructor=r).API=t.API,o)"function"==typeof t[e]&&(a[o[e]]=t[e]);return r.version=t.version,et.activate([r]),r},t=p._gsQueue){for(s=0;s<t.length;s++)t[s]();for(n in b)b[n].func||p.console.log("GSAP encountered missing dependency: "+n)}g=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(o,F){var f,S,P,m,H=function(){o.call(this,"css"),this._overwriteProps.length=0,this.setRatio=H.prototype.setRatio},l=_gsScope._gsDefine.globals,_={},t=H.prototype=new o("css");(t.constructor=H).version="1.19.0",H.API=2,H.defaultTransformPerspective=0,H.defaultSkewType="compensated",H.defaultSmoothOrigin=!0,t="px",H.suffixMap={top:t,right:t,bottom:t,left:t,width:t,height:t,fontSize:t,padding:t,margin:t,perspective:t,lineHeight:""};var x,v,g,V,T,E,I,C,e,i,O=/(?:\-|\.|\b)(\d|\.|e\-)+/g,k=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,A=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,c=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,M=/(?:\d|\-|\+|=|#|\.)*/g,N=/opacity *= *([^)]*)/i,y=/opacity:([^;]*)/i,r=/alpha\(opacity *=.+?\)/i,w=/^(rgb|hsl)/,a=/([A-Z])/g,h=/-([a-z])/gi,b=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,d=function(t,e){return e.toUpperCase()},p=/(?:Left|Right|Width)/i,u=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,R=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,L=/,(?=[^\)]*(?:\(|$))/gi,B=/[\s,\(]/i,W=Math.PI/180,U=180/Math.PI,D={},z=document,s=function(t){return z.createElementNS?z.createElementNS("http://www.w3.org/1999/xhtml",t):z.createElement(t)},Y=s("div"),G=s("img"),n=H._internals={_specialProps:_},X=navigator.userAgent,j=(e=X.indexOf("Android"),i=s("a"),g=-1!==X.indexOf("Safari")&&-1===X.indexOf("Chrome")&&(-1===e||3<Number(X.substr(e+8,1))),T=g&&Number(X.substr(X.indexOf("Version/")+8,1))<6,V=-1!==X.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(X)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(X))&&(E=parseFloat(RegExp.$1)),!!i&&(i.style.cssText="top:1px;opacity:.55;",/^0.55/.test(i.style.opacity))),J=function(t){return N.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Q=function(t){window.console&&console.log(t)},q="",K="",Z=function(t,e){var i,s,n=(e=e||Y).style;if(void 0!==n[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],s=5;-1<--s&&void 0===n[i[s]+t];);return 0<=s?(q="-"+(K=3===s?"ms":i[s]).toLowerCase()+"-",K+t):null},$=z.defaultView?z.defaultView.getComputedStyle:function(){},tt=H.getStyle=function(t,e,i,s,n){var o;return j||"opacity"!==e?(!s&&t.style[e]?o=t.style[e]:(i=i||$(t))?o=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(a,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==n||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:n):J(t)},et=n.convertToPixels=function(t,e,i,s,n){if("px"===s||!s)return i;if("auto"===s||!i)return 0;var o,r,a,h=p.test(e),l=t,c=Y.style,d=i<0,u=1===i;if(d&&(i=-i),u&&(i*=100),"%"===s&&-1!==e.indexOf("border"))o=i/100*(h?t.clientWidth:t.clientHeight);else{if(c.cssText="border:0 solid red;position:"+tt(t,"position")+";line-height:0;","%"!==s&&l.appendChild&&"v"!==s.charAt(0)&&"rem"!==s)c[h?"borderLeftWidth":"borderTopWidth"]=i+s;else{if(r=(l=t.parentNode||z.body)._gsCache,a=F.ticker.frame,r&&h&&r.time===a)return r.width*i/100;c[h?"width":"height"]=i+s}l.appendChild(Y),o=parseFloat(Y[h?"offsetWidth":"offsetHeight"]),l.removeChild(Y),h&&"%"===s&&!1!==H.cacheWidths&&((r=l._gsCache=l._gsCache||{}).time=a,r.width=o/i*100),0!==o||n||(o=et(t,e,i,s,!0))}return u&&(o/=100),d?-o:o},it=n.calculateOffset=function(t,e,i){if("absolute"!==tt(t,"position",i))return 0;var s="left"===e?"Left":"Top",n=tt(t,"margin"+s,i);return t["offset"+s]-(et(t,e,parseFloat(n),n.replace(M,""))||0)},st=function(t,e){var i,s,n,o={};if(e=e||$(t,null))if(i=e.length)for(;-1<--i;)(-1===(n=e[i]).indexOf("-transform")||Rt===n)&&(o[n.replace(h,d)]=e.getPropertyValue(n));else for(i in e)(-1===i.indexOf("Transform")||Nt===i)&&(o[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===o[i]&&(o[i.replace(h,d)]=e[i]);return j||(o.opacity=J(t)),s=Xt(t,e,!1),o.rotation=s.rotation,o.skewX=s.skewX,o.scaleX=s.scaleX,o.scaleY=s.scaleY,o.x=s.x,o.y=s.y,Bt&&(o.z=s.z,o.rotationX=s.rotationX,o.rotationY=s.rotationY,o.scaleZ=s.scaleZ),o.filters&&delete o.filters,o},nt=function(t,e,i,s,n){var o,r,a,h={},l=t.style;for(r in i)"cssText"!==r&&"length"!==r&&isNaN(r)&&(e[r]!==(o=i[r])||n&&n[r])&&-1===r.indexOf("Origin")&&("number"==typeof o||"string"==typeof o)&&(h[r]="auto"!==o||"left"!==r&&"top"!==r?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[r]||""===e[r].replace(c,"")?o:0:it(t,r),void 0!==l[r]&&(a=new Tt(l,r,l[r],a)));if(s)for(r in s)"className"!==r&&(h[r]=s[r]);return{difs:h,firstMPT:a}},ot={width:["Left","Right"],height:["Top","Bottom"]},rt=["marginLeft","marginRight","marginTop","marginBottom"],at=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||$(t))[e]||0;if(t.getBBox&&zt(t))return t.getBBox()[e]||0;var s=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),n=ot[e],o=n.length;for(i=i||$(t,null);-1<--o;)s-=parseFloat(tt(t,"padding"+n[o],i,!0))||0,s-=parseFloat(tt(t,"border"+n[o]+"Width",i,!0))||0;return s},ht=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";(null==t||""===t)&&(t="0 0");var i,s=t.split(" "),n=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":s[0],o=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":s[1];if(3<s.length&&!e){for(s=t.split(", ").join(",").split(","),t=[],i=0;i<s.length;i++)t.push(ht(s[i]));return t.join(",")}return null==o?o="center"===n?"50%":"0":"center"===o&&(o="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),t=n+" "+o+(2<s.length?" "+s[2]:""),e&&(e.oxp=-1!==n.indexOf("%"),e.oyp=-1!==o.indexOf("%"),e.oxr="="===n.charAt(1),e.oyr="="===o.charAt(1),e.ox=parseFloat(n.replace(c,"")),e.oy=parseFloat(o.replace(c,"")),e.v=t),e||t},lt=function(t,e){return"function"==typeof t&&(t=t(C,I)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ct=function(t,e){return"function"==typeof t&&(t=t(C,I)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},dt=function(t,e,i,s){var n,o,r,a,h;return"function"==typeof t&&(t=t(C,I)),null==t?a=e:"number"==typeof t?a=t:(n=360,o=t.split("_"),r=((h="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===t.indexOf("rad")?1:U)-(h?0:e),o.length&&(s&&(s[i]=e+r),-1!==t.indexOf("short")&&((r%=n)!==r%180&&(r=r<0?r+n:r-n)),-1!==t.indexOf("_cw")&&r<0?r=(r+3599999999640)%n-(r/n|0)*n:-1!==t.indexOf("ccw")&&0<r&&(r=(r-3599999999640)%n-(r/n|0)*n)),a=e+r),a<1e-6&&-1e-6<a&&(a=0),a},ut={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},pt=function(t,e,i){return 255*(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},ft=H.parseColor=function(t,e){var i,s,n,o,r,a,h,l,c,d,u;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ut[t])i=ut[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(s=t.charAt(1))+s+(n=t.charAt(2))+n+(o=t.charAt(3))+o),i=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=u=t.match(O),e){if(-1!==t.indexOf("="))return t.match(k)}else r=Number(i[0])%360/360,a=Number(i[1])/100,s=2*(h=Number(i[2])/100)-(n=h<=.5?h*(a+1):h+a-h*a),3<i.length&&(i[3]=Number(t[3])),i[0]=pt(r+1/3,s,n),i[1]=pt(r,s,n),i[2]=pt(r-1/3,s,n);else i=t.match(O)||ut.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),3<i.length&&(i[3]=Number(i[3]))}else i=ut.black;return e&&!u&&(s=i[0]/255,n=i[1]/255,o=i[2]/255,h=((l=Math.max(s,n,o))+(c=Math.min(s,n,o)))/2,l===c?r=a=0:(d=l-c,a=.5<h?d/(2-l-c):d/(l+c),r=l===s?(n-o)/d+(n<o?6:0):l===n?(o-s)/d+2:(s-n)/d+4,r*=60),i[0]=r+.5|0,i[1]=100*a+.5|0,i[2]=100*h+.5|0),i},mt=function(t,e){var i,s,n,o=t.match(_t)||[],r=0,a=o.length?"":t;for(i=0;i<o.length;i++)s=o[i],r+=(n=t.substr(r,t.indexOf(s,r)-r)).length+s.length,3===(s=ft(s,e)).length&&s.push(1),a+=n+(e?"hsla("+s[0]+","+s[1]+"%,"+s[2]+"%,"+s[3]:"rgba("+s.join(","))+")";return a+t.substr(r)},_t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(t in ut)_t+="|"+t+"\\b";_t=new RegExp(_t+")","gi"),H.colorStringFilter=function(t){var e,i=t[0]+t[1];_t.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=mt(t[0],e),t[1]=mt(t[1],e)),_t.lastIndex=0},F.defaultStringFilter||(F.defaultStringFilter=H.colorStringFilter);var vt=function(t,e,o,r){if(null==t)return function(t){return t};var a,h=e?(t.match(_t)||[""])[0]:"",l=t.split(h).join("").match(A)||[],c=t.substr(0,t.indexOf(l[0])),d=")"===t.charAt(t.length-1)?")":"",u=-1!==t.indexOf(" ")?" ":",",p=l.length,f=0<p?l[0].replace(O,""):"";return p?a=e?function(t){var e,i,s,n;if("number"==typeof t)t+=f;else if(r&&L.test(t)){for(n=t.replace(L,"|").split("|"),s=0;s<n.length;s++)n[s]=a(n[s]);return n.join(",")}if(e=(t.match(_t)||[h])[0],s=(i=t.split(e).join("").match(A)||[]).length,p>s--)for(;++s<p;)i[s]=o?i[(s-1)/2|0]:l[s];return c+i.join(u)+u+e+d+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,i,s;if("number"==typeof t)t+=f;else if(r&&L.test(t)){for(i=t.replace(L,"|").split("|"),s=0;s<i.length;s++)i[s]=a(i[s]);return i.join(",")}if(s=(e=t.match(A)||[]).length,p>s--)for(;++s<p;)e[s]=o?e[(s-1)/2|0]:l[s];return c+e.join(u)+d}:function(t){return t}},gt=function(l){return l=l.split(","),function(t,e,i,s,n,o,r){var a,h=(e+"").split(" ");for(r={},a=0;a<4;a++)r[l[a]]=h[a]=h[a]||h[(a-1)/2>>0];return s.parse(t,r,n,o)}},Tt=(n._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,s,n,o,r=this.data,a=r.proxy,h=r.firstMPT;h;)e=a[h.v],h.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),h.t[h.p]=e,h=h._next;if(r.autoRotate&&(r.autoRotate.rotation=r.mod?r.mod(a.rotation,this.t):a.rotation),1===t||0===t)for(h=r.firstMPT,o=1===t?"e":"b";h;){if((i=h.t).type){if(1===i.type){for(n=i.xs0+i.s+i.xs1,s=1;s<i.l;s++)n+=i["xn"+s]+i["xs"+(s+1)];i[o]=n}}else i[o]=i.s+i.xs0;h=h._next}},function(t,e,i,s,n){this.t=t,this.p=e,this.v=i,this.r=n,s&&((s._prev=this)._next=s)}),At=(n._parseToProxy=function(t,e,i,s,n,o){var r,a,h,l,c,d=s,u={},p={},f=i._transform,m=D;for(i._transform=null,D=e,s=c=i.parse(t,e,s,n),D=m,o&&(i._transform=f,d&&(d._prev=null,d._prev&&(d._prev._next=null)));s&&s!==d;){if(s.type<=1&&(p[a=s.p]=s.s+s.c,u[a]=s.s,o||(l=new Tt(s,"s",a,l,s.r),s.c=0),1===s.type))for(r=s.l;0<--r;)h="xn"+r,p[a=s.p+"_"+h]=s.data[h],u[a]=s[h],o||(l=new Tt(s,h,a,l,s.rxp[h]));s=s._next}return{proxy:u,end:p,firstMPT:l,pt:c}},n.CSSPropTween=function(t,e,i,s,n,o,r,a,h,l,c){this.t=t,this.p=e,this.s=i,this.c=s,this.n=r||e,t instanceof At||m.push(this.n),this.r=a,this.type=o||0,h&&(this.pr=h,f=!0),this.b=void 0===l?i:l,this.e=void 0===c?i+s:c,n&&((this._next=n)._prev=this)}),yt=function(t,e,i,s,n,o){var r=new At(t,e,i,s-i,n,-1,o);return r.b=i,r.e=r.xs0=s,r},wt=H.parseComplex=function(t,e,i,s,n,o,r,a,h,l){i=i||o||"","function"==typeof s&&(s=s(C,I)),r=new At(t,e,0,0,r,l?2:1,null,!1,a,i,s),s+="",n&&_t.test(s+i)&&(s=[i,s],H.colorStringFilter(s),i=s[0],s=s[1]);var c,d,u,p,f,m,_,v,g,T,A,y,w,b=i.split(", ").join(",").split(" "),S=s.split(", ").join(",").split(" "),P=b.length,E=!1!==x;for((-1!==s.indexOf(",")||-1!==i.indexOf(","))&&(b=b.join(" ").replace(L,", ").split(" "),S=S.join(" ").replace(L,", ").split(" "),P=b.length),P!==S.length&&(P=(b=(o||"").split(" ")).length),r.plugin=h,r.setRatio=l,c=_t.lastIndex=0;c<P;c++)if(p=b[c],f=S[c],(v=parseFloat(p))||0===v)r.appendXtra("",v,lt(f,v),f.replace(k,""),E&&-1!==f.indexOf("px"),!0);else if(n&&_t.test(p))y=")"+((y=f.indexOf(")")+1)?f.substr(y):""),w=-1!==f.indexOf("hsl")&&j,p=ft(p,w),f=ft(f,w),(g=6<p.length+f.length)&&!j&&0===f[3]?(r["xs"+r.l]+=r.l?" transparent":"transparent",r.e=r.e.split(S[c]).join("transparent")):(j||(g=!1),w?r.appendXtra(g?"hsla(":"hsl(",p[0],lt(f[0],p[0]),",",!1,!0).appendXtra("",p[1],lt(f[1],p[1]),"%,",!1).appendXtra("",p[2],lt(f[2],p[2]),g?"%,":"%"+y,!1):r.appendXtra(g?"rgba(":"rgb(",p[0],f[0]-p[0],",",!0,!0).appendXtra("",p[1],f[1]-p[1],",",!0).appendXtra("",p[2],f[2]-p[2],g?",":y,!0),g&&(p=p.length<4?1:p[3],r.appendXtra("",p,(f.length<4?1:f[3])-p,y,!1))),_t.lastIndex=0;else if(m=p.match(O)){if(!(_=f.match(k))||_.length!==m.length)return r;for(d=u=0;d<m.length;d++)A=m[d],T=p.indexOf(A,u),r.appendXtra(p.substr(u,T-u),Number(A),lt(_[d],A),"",E&&"px"===p.substr(T+A.length,2),0===d),u=T+A.length;r["xs"+r.l]+=p.substr(u)}else r["xs"+r.l]+=r.l||r["xs"+r.l]?" "+f:f;if(-1!==s.indexOf("=")&&r.data){for(y=r.xs0+r.data.s,c=1;c<r.l;c++)y+=r["xs"+c]+r.data["xn"+c];r.e=y+r["xs"+c]}return r.l||(r.type=-1,r.xs0=r.e),r.xfirst||r},bt=9;for((t=At.prototype).l=t.pr=0;0<--bt;)t["xn"+bt]=0,t["xs"+bt]="";t.xs0="",t._next=t._prev=t.xfirst=t.data=t.plugin=t.setRatio=t.rxp=null,t.appendXtra=function(t,e,i,s,n,o){var r=this,a=r.l;return r["xs"+a]+=o&&(a||r["xs"+a])?" "+t:t||"",i||0===a||r.plugin?(r.l++,r.type=r.setRatio?2:1,r["xs"+r.l]=s||"",0<a?(r.data["xn"+a]=e+i,r.rxp["xn"+a]=n,r["xn"+a]=e,r.plugin||(r.xfirst=new At(r,"xn"+a,e,i,r.xfirst||r,0,r.n,n,r.pr),r.xfirst.xs0=0)):(r.data={s:e+i},r.rxp={},r.s=e,r.c=i,r.r=n)):r["xs"+a]+=e+(s||""),r};var St=function(t,e){e=e||{},this.p=e.prefix&&Z(t)||t,_[t]=_[this.p]=this,this.format=e.formatter||vt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Pt=n._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var s,n=t.split(","),o=e.defaultValue;for(i=i||[o],s=0;s<n.length;s++)e.prefix=0===s&&e.prefix,e.defaultValue=i[s]||o,new St(n[s],e)},Et=n._registerPluginProp=function(t){if(!_[t]){var h=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Pt(t,{parser:function(t,e,i,s,n,o,r){var a=l.com.greensock.plugins[h];return a?(a._cssRegister(),_[i].parse(t,e,i,s,n,o,r)):(Q("Error: "+h+" js file not loaded."),n)}})}};(t=St.prototype).parseComplex=function(t,e,i,s,n,o){var r,a,h,l,c,d,u=this.keyword;if(this.multi&&(L.test(i)||L.test(e)?(a=e.replace(L,"|").split("|"),h=i.replace(L,"|").split("|")):u&&(a=[e],h=[i])),h){for(l=h.length>a.length?h.length:a.length,r=0;r<l;r++)e=a[r]=a[r]||this.dflt,i=h[r]=h[r]||this.dflt,u&&((c=e.indexOf(u))!==(d=i.indexOf(u))&&(-1===d?a[r]=a[r].split(u).join(""):-1===c&&(a[r]+=" "+u)));e=a.join(", "),i=h.join(", ")}return wt(t,this.p,e,i,this.clrs,this.dflt,s,this.pr,n,o)},t.parse=function(t,e,i,s,n,o,r){return this.parseComplex(t.style,this.format(tt(t,this.p,P,!1,this.dflt)),this.format(e),n,o)},H.registerSpecialProp=function(t,h,l){Pt(t,{parser:function(t,e,i,s,n,o,r){var a=new At(t,i,0,0,n,2,i,!1,l);return a.plugin=o,a.setRatio=h(t,e,s._tween,i),a},priority:l})},H.useSVGTransformAttr=g||V;var xt,It,Ct,Ot,kt,Mt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Nt=Z("transform"),Rt=q+"transform",Lt=Z("transformOrigin"),Bt=null!==Z("perspective"),Dt=n.Transform=function(){this.perspective=parseFloat(H.defaultTransformPerspective)||0,this.force3D=!(!1===H.defaultForce3D||!Bt)&&(H.defaultForce3D||"auto")},Vt=window.SVGElement,Wt=function(t,e,i){var s,n=z.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(s in i)n.setAttributeNS(null,s.replace(o,"$1-$2").toLowerCase(),i[s]);return e.appendChild(n),n},Ft=z.documentElement,Ht=(kt=E||/Android/i.test(X)&&!window.chrome,z.createElementNS&&!kt&&(It=Wt("svg",Ft),Ot=(Ct=Wt("rect",It,{width:100,height:50,x:100})).getBoundingClientRect().width,Ct.style[Lt]="50% 50%",Ct.style[Nt]="scaleX(0.5)",kt=Ot===Ct.getBoundingClientRect().width&&!(V&&Bt),Ft.removeChild(It)),kt),Ut=function(t,e,i,s,n,o){var r,a,h,l,c,d,u,p,f,m,_,v,g,T,A=t._gsTransform,y=Gt(t,!0);A&&(g=A.xOrigin,T=A.yOrigin),(!s||(r=s.split(" ")).length<2)&&(u=t.getBBox(),r=[(-1!==(e=ht(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*u.width:parseFloat(e[0]))+u.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*u.height:parseFloat(e[1]))+u.y]),i.xOrigin=l=parseFloat(r[0]),i.yOrigin=c=parseFloat(r[1]),s&&y!==Yt&&(d=y[0],u=y[1],p=y[2],f=y[3],m=y[4],a=l*(f/(v=d*f-u*p))+c*(-p/v)+(p*(_=y[5])-f*m)/v,h=l*(-u/v)+c*(d/v)-(d*_-u*m)/v,l=i.xOrigin=r[0]=a,c=i.yOrigin=r[1]=h),A&&(o&&(i.xOffset=A.xOffset,i.yOffset=A.yOffset,A=i),n||!1!==n&&!1!==H.defaultSmoothOrigin?(a=l-g,h=c-T,A.xOffset+=a*y[0]+h*y[2]-a,A.yOffset+=a*y[1]+h*y[3]-h):A.xOffset=A.yOffset=0),o||t.setAttribute("data-svg-origin",r.join(" "))},zt=function(t){return!!(Vt&&t.getBBox&&t.getCTM&&function(t){try{return t.getBBox()}catch(t){}}(t)&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Yt=[1,0,0,1,0,0],Gt=function(t,e){var i,s,n,o,r,a,h=t._gsTransform||new Dt,l=t.style;if(Nt?s=tt(t,Rt,null,!0):t.currentStyle&&(s=(s=t.currentStyle.filter.match(u))&&4===s.length?[s[0].substr(4),Number(s[2].substr(4)),Number(s[1].substr(4)),s[3].substr(4),h.x||0,h.y||0].join(","):""),(i=!s||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s)&&Nt&&((a="none"===$(t).display)||!t.parentNode)&&(a&&(o=l.display,l.display="block"),t.parentNode||(r=1,Ft.appendChild(t)),i=!(s=tt(t,Rt,null,!0))||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s,o?l.display=o:a&&qt(l,"display"),r&&Ft.removeChild(t)),(h.svg||t.getBBox&&zt(t))&&(i&&-1!==(l[Nt]+"").indexOf("matrix")&&(s=l[Nt],i=0),n=t.getAttribute("transform"),i&&n&&(-1!==n.indexOf("matrix")?(s=n,i=0):-1!==n.indexOf("translate")&&(s="matrix(1,0,0,1,"+n.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Yt;for(n=(s||"").match(O)||[],bt=n.length;-1<--bt;)o=Number(n[bt]),n[bt]=(r=o-(o|=0))?(1e5*r+(r<0?-.5:.5)|0)/1e5+o:o;return e&&6<n.length?[n[0],n[1],n[4],n[5],n[12],n[13]]:n},Xt=n.getTransform=function(t,e,i,s){if(t._gsTransform&&i&&!s)return t._gsTransform;var n,o,r,a,h,l,c=i&&t._gsTransform||new Dt,d=c.scaleX<0,u=Bt&&(parseFloat(tt(t,Lt,e,!1,"0 0 0").split(" ")[2])||c.zOrigin)||0,p=parseFloat(H.defaultTransformPerspective)||0;if(c.svg=!(!t.getBBox||!zt(t)),c.svg&&(Ut(t,tt(t,Lt,e,!1,"50% 50%")+"",c,t.getAttribute("data-svg-origin")),xt=H.useSVGTransformAttr||Ht),(n=Gt(t))!==Yt){if(16===n.length){var f,m,_,v,g,T=n[0],A=n[1],y=n[2],w=n[3],b=n[4],S=n[5],P=n[6],E=n[7],x=n[8],I=n[9],C=n[10],O=n[12],k=n[13],M=n[14],N=n[11],R=Math.atan2(P,C);c.zOrigin&&(O=x*(M=-c.zOrigin)-n[12],k=I*M-n[13],M=C*M+c.zOrigin-n[14]),c.rotationX=R*U,R&&(f=b*(v=Math.cos(-R))+x*(g=Math.sin(-R)),m=S*v+I*g,_=P*v+C*g,x=b*-g+x*v,I=S*-g+I*v,C=P*-g+C*v,N=E*-g+N*v,b=f,S=m,P=_),R=Math.atan2(-y,C),c.rotationY=R*U,R&&(m=A*(v=Math.cos(-R))-I*(g=Math.sin(-R)),_=y*v-C*g,I=A*g+I*v,C=y*g+C*v,N=w*g+N*v,T=f=T*v-x*g,A=m,y=_),R=Math.atan2(A,T),c.rotation=R*U,R&&(T=T*(v=Math.cos(-R))+b*(g=Math.sin(-R)),m=A*v+S*g,S=A*-g+S*v,P=y*-g+P*v,A=m),c.rotationX&&359.9<Math.abs(c.rotationX)+Math.abs(c.rotation)&&(c.rotationX=c.rotation=0,c.rotationY=180-c.rotationY),c.scaleX=(1e5*Math.sqrt(T*T+A*A)+.5|0)/1e5,c.scaleY=(1e5*Math.sqrt(S*S+I*I)+.5|0)/1e5,c.scaleZ=(1e5*Math.sqrt(P*P+C*C)+.5|0)/1e5,c.rotationX||c.rotationY?c.skewX=0:(c.skewX=b||S?Math.atan2(b,S)*U+c.rotation:c.skewX||0,90<Math.abs(c.skewX)&&Math.abs(c.skewX)<270&&(d?(c.scaleX*=-1,c.skewX+=c.rotation<=0?180:-180,c.rotation+=c.rotation<=0?180:-180):(c.scaleY*=-1,c.skewX+=c.skewX<=0?180:-180))),c.perspective=N?1/(N<0?-N:N):0,c.x=O,c.y=k,c.z=M,c.svg&&(c.x-=c.xOrigin-(c.xOrigin*T-c.yOrigin*b),c.y-=c.yOrigin-(c.yOrigin*A-c.xOrigin*S))}else if(!Bt||s||!n.length||c.x!==n[4]||c.y!==n[5]||!c.rotationX&&!c.rotationY){var L=6<=n.length,B=L?n[0]:1,D=n[1]||0,V=n[2]||0,W=L?n[3]:1;c.x=n[4]||0,c.y=n[5]||0,r=Math.sqrt(B*B+D*D),a=Math.sqrt(W*W+V*V),h=B||D?Math.atan2(D,B)*U:c.rotation||0,l=V||W?Math.atan2(V,W)*U+h:c.skewX||0,90<Math.abs(l)&&Math.abs(l)<270&&(d?(r*=-1,l+=h<=0?180:-180,h+=h<=0?180:-180):(a*=-1,l+=l<=0?180:-180)),c.scaleX=r,c.scaleY=a,c.rotation=h,c.skewX=l,Bt&&(c.rotationX=c.rotationY=c.z=0,c.perspective=p,c.scaleZ=1),c.svg&&(c.x-=c.xOrigin-(c.xOrigin*B+c.yOrigin*V),c.y-=c.yOrigin-(c.xOrigin*D+c.yOrigin*W))}for(o in c.zOrigin=u,c)c[o]<2e-5&&-2e-5<c[o]&&(c[o]=0)}return i&&((t._gsTransform=c).svg&&(xt&&t.style[Nt]?F.delayedCall(.001,function(){qt(t.style,Nt)}):!xt&&t.getAttribute("transform")&&F.delayedCall(.001,function(){t.removeAttribute("transform")}))),c},jt=function(t){var e,i,s=this.data,n=-s.rotation*W,o=n+s.skewX*W,r=1e5,a=(Math.cos(n)*s.scaleX*r|0)/r,h=(Math.sin(n)*s.scaleX*r|0)/r,l=(Math.sin(o)*-s.scaleY*r|0)/r,c=(Math.cos(o)*s.scaleY*r|0)/r,d=this.t.style,u=this.t.currentStyle;if(u){i=h,h=-l,l=-i,e=u.filter,d.filter="";var p,f,m=this.t.offsetWidth,_=this.t.offsetHeight,v="absolute"!==u.position,g="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+h+", M21="+l+", M22="+c,T=s.x+m*s.xPercent/100,A=s.y+_*s.yPercent/100;if(null!=s.ox&&(T+=(p=(s.oxp?m*s.ox*.01:s.ox)-m/2)-(p*a+(f=(s.oyp?_*s.oy*.01:s.oy)-_/2)*h),A+=f-(p*l+f*c)),v?g+=", Dx="+((p=m/2)-(p*a+(f=_/2)*h)+T)+", Dy="+(f-(p*l+f*c)+A)+")":g+=", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?d.filter=e.replace(R,g):d.filter=g+" "+e,(0===t||1===t)&&1===a&&0===h&&0===l&&1===c&&(v&&-1===g.indexOf("Dx=0, Dy=0")||N.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&d.removeAttribute("filter")),!v){var y,w,b,S=E<8?1:-1;for(p=s.ieOffsetX||0,f=s.ieOffsetY||0,s.ieOffsetX=Math.round((m-((a<0?-a:a)*m+(h<0?-h:h)*_))/2+T),s.ieOffsetY=Math.round((_-((c<0?-c:c)*_+(l<0?-l:l)*m))/2+A),bt=0;bt<4;bt++)b=(i=-1!==(y=u[w=rt[bt]]).indexOf("px")?parseFloat(y):et(this.t,w,parseFloat(y),y.replace(M,""))||0)!==s[w]?bt<2?-s.ieOffsetX:-s.ieOffsetY:bt<2?p-s.ieOffsetX:f-s.ieOffsetY,d[w]=(s[w]=Math.round(i-b*(0===bt||2===bt?1:S)))+"px"}}},Jt=n.set3DTransformRatio=n.setTransformRatio=function(t){var e,i,s,n,o,r,a,h,l,c,d,u,p,f,m,_,v,g,T,A,y,w,b,S=this.data,P=this.t.style,E=S.rotation,x=S.rotationX,I=S.rotationY,C=S.scaleX,O=S.scaleY,k=S.scaleZ,M=S.x,N=S.y,R=S.z,L=S.svg,B=S.perspective,D=S.force3D;if(!((1!==t&&0!==t||"auto"!==D||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&D||R||B||I||x||1!==k)||xt&&L||!Bt)E||S.skewX||L?(E*=W,w=S.skewX*W,b=1e5,e=Math.cos(E)*C,n=Math.sin(E)*C,i=Math.sin(E-w)*-O,o=Math.cos(E-w)*O,w&&"simple"===S.skewType&&(v=Math.tan(w-S.skewY*W),i*=v=Math.sqrt(1+v*v),o*=v,S.skewY&&(v=Math.tan(S.skewY*W),e*=v=Math.sqrt(1+v*v),n*=v)),L&&(M+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i)+S.xOffset,N+=S.yOrigin-(S.xOrigin*n+S.yOrigin*o)+S.yOffset,xt&&(S.xPercent||S.yPercent)&&(f=this.t.getBBox(),M+=.01*S.xPercent*f.width,N+=.01*S.yPercent*f.height),M<(f=1e-6)&&-f<M&&(M=0),N<f&&-f<N&&(N=0)),T=(e*b|0)/b+","+(n*b|0)/b+","+(i*b|0)/b+","+(o*b|0)/b+","+M+","+N+")",L&&xt?this.t.setAttribute("transform","matrix("+T):P[Nt]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+T):P[Nt]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+C+",0,0,"+O+","+M+","+N+")";else{if(V&&(C<(f=1e-4)&&-f<C&&(C=k=2e-5),O<f&&-f<O&&(O=k=2e-5),!B||S.z||S.rotationX||S.rotationY||(B=0)),E||S.skewX)E*=W,m=e=Math.cos(E),_=n=Math.sin(E),S.skewX&&(E-=S.skewX*W,m=Math.cos(E),_=Math.sin(E),"simple"===S.skewType&&(v=Math.tan((S.skewX-S.skewY)*W),m*=v=Math.sqrt(1+v*v),_*=v,S.skewY&&(v=Math.tan(S.skewY*W),e*=v=Math.sqrt(1+v*v),n*=v))),i=-_,o=m;else{if(!(I||x||1!==k||B||L))return void(P[Nt]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+M+"px,"+N+"px,"+R+"px)"+(1!==C||1!==O?" scale("+C+","+O+")":""));e=o=1,i=n=0}l=1,s=r=a=h=c=d=0,u=B?-1/B:0,p=S.zOrigin,f=1e-6,A=",",y="0",(E=I*W)&&(m=Math.cos(E),c=u*(a=-(_=Math.sin(E))),s=e*_,r=n*_,u*=l=m,e*=m,n*=m),(E=x*W)&&(v=i*(m=Math.cos(E))+s*(_=Math.sin(E)),g=o*m+r*_,h=l*_,d=u*_,s=i*-_+s*m,r=o*-_+r*m,l*=m,u*=m,i=v,o=g),1!==k&&(s*=k,r*=k,l*=k,u*=k),1!==O&&(i*=O,o*=O,h*=O,d*=O),1!==C&&(e*=C,n*=C,a*=C,c*=C),(p||L)&&(p&&(M+=s*-p,N+=r*-p,R+=l*-p+p),L&&(M+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i)+S.xOffset,N+=S.yOrigin-(S.xOrigin*n+S.yOrigin*o)+S.yOffset),M<f&&-f<M&&(M=y),N<f&&-f<N&&(N=y),R<f&&-f<R&&(R=0)),T=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",T+=(e<f&&-f<e?y:e)+A+(n<f&&-f<n?y:n)+A+(a<f&&-f<a?y:a),T+=A+(c<f&&-f<c?y:c)+A+(i<f&&-f<i?y:i)+A+(o<f&&-f<o?y:o),x||I||1!==k?(T+=A+(h<f&&-f<h?y:h)+A+(d<f&&-f<d?y:d)+A+(s<f&&-f<s?y:s),T+=A+(r<f&&-f<r?y:r)+A+(l<f&&-f<l?y:l)+A+(u<f&&-f<u?y:u)+A):T+=",0,0,0,0,1,0,",T+=M+A+N+A+R+A+(B?1+-R/B:1)+")",P[Nt]=T}};(t=Dt.prototype).x=t.y=t.z=t.skewX=t.skewY=t.rotation=t.rotationX=t.rotationY=t.zOrigin=t.xPercent=t.yPercent=t.xOffset=t.yOffset=0,t.scaleX=t.scaleY=t.scaleZ=1,Pt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,s,n,o,r){if(s._lastParsedTransform===r)return n;var a;"function"==typeof(s._lastParsedTransform=r)[i]&&(a=r[i],r[i]=e);var h,l,c,d,u,p,f,m,_,v=t._gsTransform,g=t.style,T=Mt.length,A=r,y={},w="transformOrigin",b=Xt(t,P,!0,A.parseTransform),S=A.transform&&("function"==typeof A.transform?A.transform(C,I):A.transform);if(s._transform=b,S&&"string"==typeof S&&Nt)(l=Y.style)[Nt]=S,l.display="block",l.position="absolute",z.body.appendChild(Y),h=Xt(Y,null,!1),b.svg&&(p=b.xOrigin,f=b.yOrigin,h.x-=b.xOffset,h.y-=b.yOffset,(A.transformOrigin||A.svgOrigin)&&(S={},Ut(t,ht(A.transformOrigin),S,A.svgOrigin,A.smoothOrigin,!0),p=S.xOrigin,f=S.yOrigin,h.x-=S.xOffset-b.xOffset,h.y-=S.yOffset-b.yOffset),(p||f)&&(m=Gt(Y,!0),h.x-=p-(p*m[0]+f*m[2]),h.y-=f-(p*m[1]+f*m[3]))),z.body.removeChild(Y),h.perspective||(h.perspective=b.perspective),null!=A.xPercent&&(h.xPercent=ct(A.xPercent,b.xPercent)),null!=A.yPercent&&(h.yPercent=ct(A.yPercent,b.yPercent));else if("object"==typeof A){if(h={scaleX:ct(null!=A.scaleX?A.scaleX:A.scale,b.scaleX),scaleY:ct(null!=A.scaleY?A.scaleY:A.scale,b.scaleY),scaleZ:ct(A.scaleZ,b.scaleZ),x:ct(A.x,b.x),y:ct(A.y,b.y),z:ct(A.z,b.z),xPercent:ct(A.xPercent,b.xPercent),yPercent:ct(A.yPercent,b.yPercent),perspective:ct(A.transformPerspective,b.perspective)},null!=(u=A.directionalRotation))if("object"==typeof u)for(l in u)A[l]=u[l];else A.rotation=u;"string"==typeof A.x&&-1!==A.x.indexOf("%")&&(h.x=0,h.xPercent=ct(A.x,b.xPercent)),"string"==typeof A.y&&-1!==A.y.indexOf("%")&&(h.y=0,h.yPercent=ct(A.y,b.yPercent)),h.rotation=dt("rotation"in A?A.rotation:"shortRotation"in A?A.shortRotation+"_short":"rotationZ"in A?A.rotationZ:b.rotation-b.skewY,b.rotation-b.skewY,"rotation",y),Bt&&(h.rotationX=dt("rotationX"in A?A.rotationX:"shortRotationX"in A?A.shortRotationX+"_short":b.rotationX||0,b.rotationX,"rotationX",y),h.rotationY=dt("rotationY"in A?A.rotationY:"shortRotationY"in A?A.shortRotationY+"_short":b.rotationY||0,b.rotationY,"rotationY",y)),h.skewX=dt(A.skewX,b.skewX-b.skewY),(h.skewY=dt(A.skewY,b.skewY))&&(h.skewX+=h.skewY,h.rotation+=h.skewY)}for(Bt&&null!=A.force3D&&(b.force3D=A.force3D,d=!0),b.skewType=A.skewType||b.skewType||H.defaultSkewType,(c=b.force3D||b.z||b.rotationX||b.rotationY||h.z||h.rotationX||h.rotationY||h.perspective)||null==A.scale||(h.scaleZ=1);-1<--T;)(1e-6<(S=h[_=Mt[T]]-b[_])||S<-1e-6||null!=A[_]||null!=D[_])&&(d=!0,n=new At(b,_,b[_],S,n),_ in y&&(n.e=y[_]),n.xs0=0,n.plugin=o,s._overwriteProps.push(n.n));return S=A.transformOrigin,b.svg&&(S||A.svgOrigin)&&(p=b.xOffset,f=b.yOffset,Ut(t,ht(S),h,A.svgOrigin,A.smoothOrigin),n=yt(b,"xOrigin",(v?b:h).xOrigin,h.xOrigin,n,w),n=yt(b,"yOrigin",(v?b:h).yOrigin,h.yOrigin,n,w),(p!==b.xOffset||f!==b.yOffset)&&(n=yt(b,"xOffset",v?p:b.xOffset,b.xOffset,n,w),n=yt(b,"yOffset",v?f:b.yOffset,b.yOffset,n,w)),S=xt?null:"0px 0px"),(S||Bt&&c&&b.zOrigin)&&(Nt?(d=!0,_=Lt,S=(S||tt(t,_,P,!1,"50% 50%"))+"",(n=new At(g,_,0,0,n,-1,w)).b=g[_],n.plugin=o,Bt?(l=b.zOrigin,S=S.split(" "),b.zOrigin=(2<S.length&&(0===l||"0px"!==S[2])?parseFloat(S[2]):l)||0,n.xs0=n.e=S[0]+" "+(S[1]||"50%")+" 0px",(n=new At(b,"zOrigin",0,0,n,-1,n.n)).b=l,n.xs0=n.e=b.zOrigin):n.xs0=n.e=S):ht(S+"",b)),d&&(s._transformType=b.svg&&xt||!c&&3!==this._transformType?2:3),a&&(r[i]=a),n},prefix:!0}),Pt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Pt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,s,n,o){e=this.format(e);var r,a,h,l,c,d,u,p,f,m,_,v,g,T,A,y,w=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],b=t.style;for(f=parseFloat(t.offsetWidth),m=parseFloat(t.offsetHeight),r=e.split(" "),a=0;a<w.length;a++)this.p.indexOf("border")&&(w[a]=Z(w[a])),-1!==(c=l=tt(t,w[a],P,!1,"0px")).indexOf(" ")&&(c=(l=c.split(" "))[0],l=l[1]),d=h=r[a],u=parseFloat(c),v=c.substr((u+"").length),(g="="===d.charAt(1))?(p=parseInt(d.charAt(0)+"1",10),d=d.substr(2),p*=parseFloat(d),_=d.substr((p+"").length-(p<0?1:0))||""):(p=parseFloat(d),_=d.substr((p+"").length)),""===_&&(_=S[i]||v),_!==v&&(T=et(t,"borderLeft",u,v),A=et(t,"borderTop",u,v),"%"===_?(c=T/f*100+"%",l=A/m*100+"%"):"em"===_?(c=T/(y=et(t,"borderLeft",1,"em"))+"em",l=A/y+"em"):(c=T+"px",l=A+"px"),g&&(d=parseFloat(c)+p+_,h=parseFloat(l)+p+_)),n=wt(b,w[a],c+" "+l,d+" "+h,!1,"0px",n);return n},prefix:!0,formatter:vt("0px 0px 0px 0px",!1,!0)}),Pt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,s,n,o){return wt(t.style,i,this.format(tt(t,i,P,!1,"0px 0px")),this.format(e),!1,"0px",n)},prefix:!0,formatter:vt("0px 0px",!1,!0)}),Pt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,s,n,o){var r,a,h,l,c,d,u="background-position",p=P||$(t,null),f=this.format((p?E?p.getPropertyValue(u+"-x")+" "+p.getPropertyValue(u+"-y"):p.getPropertyValue(u):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),m=this.format(e);if(-1!==f.indexOf("%")!=(-1!==m.indexOf("%"))&&m.split(",").length<2&&((d=tt(t,"backgroundImage").replace(b,""))&&"none"!==d)){for(r=f.split(" "),a=m.split(" "),G.setAttribute("src",d),h=2;-1<--h;)(l=-1!==(f=r[h]).indexOf("%"))!==(-1!==a[h].indexOf("%"))&&(c=0===h?t.offsetWidth-G.width:t.offsetHeight-G.height,r[h]=l?parseFloat(f)/100*c+"px":parseFloat(f)/c*100+"%");f=r.join(" ")}return this.parseComplex(t.style,f,m,n,o)},formatter:ht}),Pt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return ht(-1===(t+="").indexOf(" ")?t+" "+t:t)}}),Pt("perspective",{defaultValue:"0px",prefix:!0}),Pt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Pt("transformStyle",{prefix:!0}),Pt("backfaceVisibility",{prefix:!0}),Pt("userSelect",{prefix:!0}),Pt("margin",{parser:gt("marginTop,marginRight,marginBottom,marginLeft")}),Pt("padding",{parser:gt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Pt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,s,n,o){var r,a,h;return E<9?(a=t.currentStyle,h=E<8?" ":",",r="rect("+a.clipTop+h+a.clipRight+h+a.clipBottom+h+a.clipLeft+")",e=this.format(e).split(",").join(h)):(r=this.format(tt(t,this.p,P,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,r,e,n,o)}}),Pt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Pt("autoRound,strictUnits",{parser:function(t,e,i,s,n){return n}}),Pt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,s,n,o){var r=tt(t,"borderTopWidth",P,!1,"0px"),a=this.format(e).split(" "),h=a[0].replace(M,"");return"px"!==h&&(r=parseFloat(r)/et(t,"borderTopWidth",1,h)+h),this.parseComplex(t.style,this.format(r+" "+tt(t,"borderTopStyle",P,!1,"solid")+" "+tt(t,"borderTopColor",P,!1,"#000")),a.join(" "),n,o)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(_t)||["#000"])[0]}}),Pt("borderWidth",{parser:gt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Pt("float,cssFloat,styleFloat",{parser:function(t,e,i,s,n,o){var r=t.style,a="cssFloat"in r?"cssFloat":"styleFloat";return new At(r,a,0,0,n,-1,i,!1,0,r[a],e)}});var Qt=function(t){var e,i=this.t,s=i.filter||tt(this.data,"filter")||"",n=this.s+this.c*t|0;100===n&&(-1===s.indexOf("atrix(")&&-1===s.indexOf("radient(")&&-1===s.indexOf("oader(")?(i.removeAttribute("filter"),e=!tt(this.data,"filter")):(i.filter=s.replace(r,""),e=!0)),e||(this.xn1&&(i.filter=s=s||"alpha(opacity="+n+")"),-1===s.indexOf("pacity")?0===n&&this.xn1||(i.filter=s+" alpha(opacity="+n+")"):i.filter=s.replace(N,"opacity="+n))};Pt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,s,n,o){var r=parseFloat(tt(t,"opacity",P,!1,"1")),a=t.style,h="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+r),h&&1===r&&"hidden"===tt(t,"visibility",P)&&0!==e&&(r=0),j?n=new At(a,"opacity",r,e-r,n):((n=new At(a,"opacity",100*r,100*(e-r),n)).xn1=h?1:0,a.zoom=1,n.type=2,n.b="alpha(opacity="+n.s+")",n.e="alpha(opacity="+(n.s+n.c)+")",n.data=t,n.plugin=o,n.setRatio=Qt),h&&((n=new At(a,"visibility",0,0,n,-1,null,!1,0,0!==r?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",s._overwriteProps.push(n.n),s._overwriteProps.push(i)),n}});var qt=function(t,e){e&&(t.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),t.removeProperty(e.replace(a,"-$1").toLowerCase())):t.removeAttribute(e))},Kt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:qt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Pt("className",{parser:function(t,e,i,s,n,o,r){var a,h,l,c,d,u=t.getAttribute("class")||"",p=t.style.cssText;if((n=s._classNamePT=new At(t,i,0,0,n,2)).setRatio=Kt,n.pr=-11,f=!0,n.b=u,h=st(t,P),l=t._gsClassPT){for(c={},d=l.data;d;)c[d.p]=1,d=d._next;l.setRatio(1)}return(t._gsClassPT=n).e="="!==e.charAt(1)?e:u.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",n.e),a=nt(t,h,st(t),r,c),t.setAttribute("class",u),n.data=a.firstMPT,t.style.cssText=p,n.xfirst=s.parse(t,a.difs,n,o)}});var Zt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,s,n,o,r=this.t.style,a=_.transform.parse;if("all"===this.e)n=!(r.cssText="");else for(s=(e=this.e.split(" ").join("").split(",")).length;-1<--s;)i=e[s],_[i]&&(_[i].parse===a?n=!0:i="transformOrigin"===i?Lt:_[i].p),qt(r,i);n&&(qt(r,Nt),(o=this.t._gsTransform)&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Pt("clearProps",{parser:function(t,e,i,s,n){return(n=new At(t,i,0,0,n,2)).setRatio=Zt,n.e=e,n.pr=-10,n.data=s._tween,f=!0,n}}),t="bezier,throwProps,physicsProps,physics2D".split(","),bt=t.length;bt--;)Et(t[bt]);(t=H.prototype)._firstPT=t._lastParsedTransform=t._transform=null,t._onInitTween=function(t,e,i,s){if(!t.nodeType)return!1;this._target=I=t,this._tween=i,this._vars=e,C=s,x=e.autoRound,f=!1,S=e.suffixMap||H.suffixMap,P=$(t,""),m=this._overwriteProps;var n,o,r,a,h,l,c,d,u,p=t.style;if(v&&""===p.zIndex&&(("auto"===(n=tt(t,"zIndex",P))||""===n)&&this._addLazySet(p,"zIndex",0)),"string"==typeof e&&(a=p.cssText,n=st(t,P),p.cssText=a+";"+e,n=nt(t,n,st(t)).difs,!j&&y.test(e)&&(n.opacity=parseFloat(RegExp.$1)),e=n,p.cssText=a),e.className?this._firstPT=o=_.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=o=this.parse(t,e,null),this._transformType){for(u=3===this._transformType,Nt?g&&(v=!0,""===p.zIndex&&(("auto"===(c=tt(t,"zIndex",P))||""===c)&&this._addLazySet(p,"zIndex",0)),T&&this._addLazySet(p,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(u?"visible":"hidden"))):p.zoom=1,r=o;r&&r._next;)r=r._next;d=new At(t,"transform",0,0,null,2),this._linkCSSP(d,null,r),d.setRatio=Nt?Jt:jt,d.data=this._transform||Xt(t,P,!0),d.tween=i,d.pr=-1,m.pop()}if(f){for(;o;){for(l=o._next,r=a;r&&r.pr>o.pr;)r=r._next;(o._prev=r?r._prev:h)?o._prev._next=o:a=o,(o._next=r)?r._prev=o:h=o,o=l}this._firstPT=a}return!0},t.parse=function(t,e,i,s){var n,o,r,a,h,l,c,d,u,p,f=t.style;for(n in e)"function"==typeof(l=e[n])&&(l=l(C,I)),(o=_[n])?i=o.parse(t,l,n,this,i,s,e):(h=tt(t,n,P)+"",u="string"==typeof l,"color"===n||"fill"===n||"stroke"===n||-1!==n.indexOf("Color")||u&&w.test(l)?(u||(l=(3<(l=ft(l)).length?"rgba(":"rgb(")+l.join(",")+")"),i=wt(f,n,h,l,!0,"transparent",i,0,s)):u&&B.test(l)?i=wt(f,n,h,l,!0,null,i,0,s):(c=(r=parseFloat(h))||0===r?h.substr((r+"").length):"",(""===h||"auto"===h)&&("width"===n||"height"===n?(r=at(t,n,P),c="px"):"left"===n||"top"===n?(r=it(t,n,P),c="px"):(r="opacity"!==n?0:1,c="")),(p=u&&"="===l.charAt(1))?(a=parseInt(l.charAt(0)+"1",10),l=l.substr(2),a*=parseFloat(l),d=l.replace(M,"")):(a=parseFloat(l),d=u?l.replace(M,""):""),""===d&&(d=n in S?S[n]:c),l=a||0===a?(p?a+r:a)+d:e[n],c!==d&&""!==d&&(a||0===a)&&r&&(r=et(t,n,r,c),"%"===d?(r/=et(t,n,100,"%")/100,!0!==e.strictUnits&&(h=r+"%")):"em"===d||"rem"===d||"vw"===d||"vh"===d?r/=et(t,n,1,d):"px"!==d&&(a=et(t,n,a,d),d="px"),p&&(a||0===a)&&(l=a+r+d)),p&&(a+=r),!r&&0!==r||!a&&0!==a?void 0!==f[n]&&(l||l+""!="NaN"&&null!=l)?(i=new At(f,n,a||r||0,0,i,-1,n,!1,0,h,l)).xs0="none"!==l||"display"!==n&&-1===n.indexOf("Style")?l:h:Q("invalid "+n+" tween value: "+e[n]):(i=new At(f,n,r,a-r,i,0,n,!1!==x&&("px"===d||"zIndex"===n),0,h,l)).xs0=d)),s&&i&&!i.plugin&&(i.plugin=s);return i},t.setRatio=function(t){var e,i,s,n=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;n;){if(e=n.c*t+n.s,n.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),n.type)if(1===n.type)if(2===(s=n.l))n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2;else if(3===s)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3;else if(4===s)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4;else if(5===s)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4+n.xn4+n.xs5;else{for(i=n.xs0+e+n.xs1,s=1;s<n.l;s++)i+=n["xn"+s]+n["xs"+(s+1)];n.t[n.p]=i}else-1===n.type?n.t[n.p]=n.xs0:n.setRatio&&n.setRatio(t);else n.t[n.p]=e+n.xs0;n=n._next}else for(;n;)2!==n.type?n.t[n.p]=n.b:n.setRatio(t),n=n._next;else for(;n;){if(2!==n.type)if(n.r&&-1!==n.type)if(e=Math.round(n.s+n.c),n.type){if(1===n.type){for(s=n.l,i=n.xs0+e+n.xs1,s=1;s<n.l;s++)i+=n["xn"+s]+n["xs"+(s+1)];n.t[n.p]=i}}else n.t[n.p]=e+n.xs0;else n.t[n.p]=n.e;else n.setRatio(t);n=n._next}},t._enableTransforms=function(t){this._transform=this._transform||Xt(this._target,P,!0),this._transformType=this._transform.svg&&xt||!t&&3!==this._transformType?2:3};var $t=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};t._addLazySet=function(t,e,i){var s=this._firstPT=new At(t,e,0,0,this._firstPT,2);s.e=i,s.setRatio=$t,s.data=this},t._linkCSSP=function(t,e,i,s){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,s=!0),i?i._next=t:s||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},t._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},t._kill=function(t){var e,i,s,n=t;if(t.autoAlpha||t.alpha){for(i in n={},t)n[i]=t[i];n.opacity=1,n.autoAlpha&&(n.visibility=1)}for(t.className&&(e=this._classNamePT)&&((s=e.xfirst)&&s._prev?this._linkCSSP(s._prev,e._next,s._prev._prev):s===this._firstPT&&(this._firstPT=e._next),e._next&&this._linkCSSP(e._next,e._next._next,s._prev),this._classNamePT=null),e=this._firstPT;e;)e.plugin&&e.plugin!==i&&e.plugin._kill&&(e.plugin._kill(t),i=e.plugin),e=e._next;return o.prototype._kill.call(this,n)};var te=function(t,e,i){var s,n,o,r;if(t.slice)for(n=t.length;-1<--n;)te(t[n],e,i);else for(n=(s=t.childNodes).length;-1<--n;)r=(o=s[n]).type,o.style&&(e.push(st(o)),i&&i.push(o)),1!==r&&9!==r&&11!==r||!o.childNodes.length||te(o,e,i)};return H.cascadeTo=function(t,e,i){var s,n,o,r,a=F.to(t,e,i),h=[a],l=[],c=[],d=[],u=F._internals.reservedProps;for(t=a._targets||a.target,te(t,l,d),a.render(e,!0,!0),te(t,c),a.render(0,!0,!0),a._enabled(!0),s=d.length;-1<--s;)if((n=nt(d[s],l[s],c[s])).firstMPT){for(o in n=n.difs,i)u[o]&&(n[o]=i[o]);for(o in r={},n)r[o]=l[s][o];h.push(F.fromTo(d[s],e,r,n))}return h},o.activate([H]),H},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope).CSSPlugin};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=e())}();var JSMpeg={Player:null,VideoElement:null,BitBuffer:null,Source:{},Demuxer:{},Decoder:{},Renderer:{},AudioOutput:{},Now:function(){return window.performance?window.performance.now()/1e3:Date.now()/1e3},CreateVideoElements:function(){for(var t=document.querySelectorAll(".jsmpeg"),e=0;e<t.length;e++)new JSMpeg.VideoElement(t[e])},Fill:function(t,e){if(t.fill)t.fill(e);else for(var i=0;i<t.length;i++)t[i]=e}};"complete"===document.readyState?JSMpeg.CreateVideoElements():document.addEventListener("DOMContentLoaded",JSMpeg.CreateVideoElements),JSMpeg.VideoElement=function(){"use strict";var r=function(e){var t=e.dataset.url;if(!t)throw"VideoElement has no `data-url` attribute";var i=function(t,e){for(var i in e)t.style[i]=e[i]};this.container=e,i(this.container,{display:"inline-block",position:"relative",minWidth:"80px",minHeight:"80px"}),this.canvas=document.createElement("canvas"),this.canvas.width=960,this.canvas.height=540,i(this.canvas,{display:"block",width:"100%"}),this.container.appendChild(this.canvas),this.playButton=document.createElement("div"),this.playButton.innerHTML=r.PLAY_BUTTON,i(this.playButton,{zIndex:2,position:"absolute",top:"0",bottom:"0",left:"0",right:"0",maxWidth:"75px",maxHeight:"75px",margin:"auto",opacity:"0.7",cursor:"pointer"}),this.container.appendChild(this.playButton);var s={canvas:this.canvas};for(var n in e.dataset)try{s[n]=JSON.parse(e.dataset[n])}catch(t){s[n]=e.dataset[n]}if(this.player=new JSMpeg.Player(t,s),!s.poster||s.autoplay||this.player.options.streaming||(s.decodeFirstFrame=!1,this.poster=new Image,this.poster.src=s.poster,this.poster.addEventListener("load",this.posterLoaded),i(this.poster,{display:"block",zIndex:1,position:"absolute",top:0,left:0,bottom:0,right:0}),this.container.appendChild(this.poster)),this.player.options.streaming||this.container.addEventListener("click",this.onClick.bind(this)),(s.autoplay||this.player.options.streaming)&&(this.playButton.style.display="none"),this.player.audioOut&&!this.player.audioOut.unlocked){var o=this.container;(s.autoplay||this.player.options.streaming)&&(this.unmuteButton=document.createElement("div"),this.unmuteButton.innerHTML=r.UNMUTE_BUTTON,i(this.unmuteButton,{zIndex:2,position:"absolute",bottom:"10px",right:"20px",width:"75px",height:"75px",margin:"auto",opacity:"0.7",cursor:"pointer"}),this.container.appendChild(this.unmuteButton),o=this.unmuteButton),this.unlockAudioBound=this.onUnlockAudio.bind(this,o),o.addEventListener("touchstart",this.unlockAudioBound,!1),o.addEventListener("click",this.unlockAudioBound,!0)}};return r.prototype.onUnlockAudio=function(t,e){this.unmuteButton&&(e.preventDefault(),e.stopPropagation()),this.player.audioOut.unlock(function(){this.unmuteButton&&(this.unmuteButton.style.display="none"),t.removeEventListener("touchstart",this.unlockAudioBound),t.removeEventListener("click",this.unlockAudioBound)}.bind(this))},r.prototype.onClick=function(t){this.player.isPlaying?(this.player.pause(),this.playButton.style.display="block"):(this.player.play(),this.playButton.style.display="none",this.poster&&(this.poster.style.display="none"))},r.PLAY_BUTTON='<svg style="max-width: 75px; max-height: 75px;" viewBox="0 0 200 200" alt="Play video"><circle cx="100" cy="100" r="90" fill="none" stroke-width="15" stroke="#fff"/><polygon points="70, 55 70, 145 145, 100" fill="#fff"/></svg>',r.UNMUTE_BUTTON='<svg style="max-width: 75px; max-height: 75px;" viewBox="0 0 75 75"><polygon class="audio-speaker" stroke="none" fill="#fff" points="39,13 22,28 6,28 6,47 21,47 39,62 39,13"/><g stroke="#fff" stroke-width="5"><path d="M 49,50 69,26"/><path d="M 69,50 49,26"/></g></svg>',r}(),JSMpeg.Player=function(){"use strict";var t=function(t,e){this.options=e||{},t.match(/^wss?:\/\//)?(this.source=new JSMpeg.Source.WebSocket(t,e),e.streaming=!0):(!1!==e.progressive?this.source=new JSMpeg.Source.AjaxProgressive(t,e):this.source=new JSMpeg.Source.Ajax(t,e),e.streaming=!1),this.maxAudioLag=e.maxAudioLag||.25,this.loop=!1!==e.loop,this.autoplay=!!e.autoplay||e.streaming,this.demuxer=new JSMpeg.Demuxer.TS(e),this.source.connect(this.demuxer),!1!==e.video&&(this.video=new JSMpeg.Decoder.MPEG1Video(e),this.renderer=!e.disableGl&&JSMpeg.Renderer.WebGL.IsSupported()?new JSMpeg.Renderer.WebGL(e):new JSMpeg.Renderer.Canvas2D(e),this.demuxer.connect(JSMpeg.Demuxer.TS.STREAM.VIDEO_1,this.video),this.video.connect(this.renderer)),!1!==e.audio&&JSMpeg.AudioOutput.WebAudio.IsSupported()&&(this.audio=new JSMpeg.Decoder.MP2Audio(e),this.audioOut=new JSMpeg.AudioOutput.WebAudio(e),this.demuxer.connect(JSMpeg.Demuxer.TS.STREAM.AUDIO_1,this.audio),this.audio.connect(this.audioOut)),Object.defineProperty(this,"currentTime",{get:this.getCurrentTime,set:this.setCurrentTime}),Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),(this.unpauseOnShow=!1)!==e.pauseWhenHidden&&document.addEventListener("visibilitychange",this.showHide.bind(this)),this.source.start(),this.autoplay&&this.play()};return t.prototype.showHide=function(t){"hidden"===document.visibilityState?(this.unpauseOnShow=this.wantsToPlay,this.pause()):this.unpauseOnShow&&this.play()},t.prototype.play=function(t){this.animationId=requestAnimationFrame(this.update.bind(this)),this.wantsToPlay=!0},t.prototype.pause=function(t){cancelAnimationFrame(this.animationId),this.wantsToPlay=!1,this.isPlaying=!1,this.audio&&this.audio.canPlay&&(this.audioOut.stop(),this.seek(this.currentTime))},t.prototype.getVolume=function(){return this.audioOut?this.audioOut.volume:0},t.prototype.setVolume=function(t){this.audioOut&&(this.audioOut.volume=t)},t.prototype.stop=function(t){this.pause(),this.seek(0),this.video&&!1!==this.options.decodeFirstFrame&&this.video.decode()},t.prototype.seek=function(t){var e=this.audio&&this.audio.canPlay?this.audio.startTime:this.video.startTime;this.video&&this.video.seek(t+e),this.audio&&this.audio.seek(t+e),this.startTime=JSMpeg.Now()-t},t.prototype.getCurrentTime=function(){return this.audio&&this.audio.canPlay?this.audio.currentTime-this.audio.startTime:this.video.currentTime-this.video.startTime},t.prototype.setCurrentTime=function(t){this.seek(t)},t.prototype.update=function(){this.animationId=requestAnimationFrame(this.update.bind(this)),this.source.established?(this.isPlaying||(this.isPlaying=!0,this.startTime=JSMpeg.Now()-this.currentTime),this.options.streaming?this.updateForStreaming():this.updateForStaticFile()):this.renderer&&this.renderer.renderProgress(this.source.progress)},t.prototype.updateForStreaming=function(){if(this.video&&this.video.decode(),this.audio){for(;this.audioOut.enqueuedTime>this.maxAudioLag&&(this.audioOut.resetEnqueuedTime(),this.audioOut.enabled=!1),this.audio.decode(););this.audioOut.enabled=!0}},t.prototype.updateForStaticFile=function(){var t=!1,e=0;if(this.audio&&this.audio.canPlay){for(;!t&&this.audio.decodedTime-this.audio.currentTime<.25;)t=!this.audio.decode();this.video&&this.video.currentTime<this.audio.currentTime&&(t=!this.video.decode()),e=this.demuxer.currentTime-this.audio.currentTime}else if(this.video){var i=JSMpeg.Now()-this.startTime+this.video.startTime,s=i-this.video.currentTime,n=1/this.video.frameRate;this.video&&0<s&&(2*n<s&&(this.startTime+=s),t=!this.video.decode()),e=this.demuxer.currentTime-i}this.source.resume(e),t&&this.source.completed&&(this.loop?this.seek(0):this.pause())},t}(),JSMpeg.BitBuffer=function(){"use strict";var r=function(t,e){"object"==typeof t?(this.bytes=t instanceof Uint8Array?t:new Uint8Array(t),this.byteLength=this.bytes.length):(this.bytes=new Uint8Array(t||1048576),this.byteLength=0),this.mode=e||r.MODE.EXPAND,this.index=0};return r.prototype.resize=function(t){var e=new Uint8Array(t);0!==this.byteLength&&(this.byteLength=Math.min(this.byteLength,t),e.set(this.bytes,0,this.byteLength)),this.bytes=e,this.index=Math.min(this.index,this.byteLength<<3)},r.prototype.evict=function(t){var e=this.index>>3,i=this.bytes.length-this.byteLength;if(this.index===this.byteLength<<3||i+e<t)return this.byteLength=0,void(this.index=0);0!==e&&(this.bytes.copyWithin?this.bytes.copyWithin(0,e,this.byteLength):this.bytes.set(this.bytes.subarray(e,this.byteLength)),this.byteLength=this.byteLength-e,this.index-=e<<3)},r.prototype.write=function(t){var e="object"==typeof t[0],i=0,s=this.bytes.length-this.byteLength;if(e){i=0;for(var n=0;n<t.length;n++)i+=t[n].byteLength}else i=t.byteLength;if(s<i)if(this.mode===r.MODE.EXPAND){var o=Math.max(2*this.bytes.length,i-s);this.resize(o)}else this.evict(i);if(e)for(n=0;n<t.length;n++)this.appendSingleBuffer(t[n]);else this.appendSingleBuffer(t)},r.prototype.appendSingleBuffer=function(t){t=t instanceof Uint8Array?t:new Uint8Array(t),this.bytes.set(t,this.byteLength),this.byteLength+=t.length},r.prototype.findNextStartCode=function(){for(var t=this.index+7>>3;t<this.byteLength;t++)if(0==this.bytes[t]&&0==this.bytes[t+1]&&1==this.bytes[t+2])return this.index=t+4<<3,this.bytes[t+3];return this.index=this.byteLength<<3,-1},r.prototype.findStartCode=function(t){for(var e=0;;)if((e=this.findNextStartCode())===t||-1===e)return e;return-1},r.prototype.nextBytesAreStartCode=function(){var t=this.index+7>>3;return t>=this.byteLength||0==this.bytes[t]&&0==this.bytes[t+1]&&1==this.bytes[t+2]},r.prototype.peek=function(t){for(var e=this.index,i=0;t;){var s=8-(7&e),n=s<t?s:t,o=s-n;i=i<<n|(this.bytes[e>>3]&255>>8-n<<o)>>o,e+=n,t-=n}return i},r.prototype.read=function(t){var e=this.peek(t);return this.index+=t,e},r.prototype.skip=function(t){return this.index+=t},r.prototype.rewind=function(t){this.index=Math.max(this.index-t,0)},r.prototype.has=function(t){return(this.byteLength<<3)-this.index>=t},r.MODE={EVICT:1,EXPAND:2},r}(),JSMpeg.Source.Ajax=function(){"use strict";var t=function(t,e){this.url=t,this.destination=null,this.request=null,this.completed=!1,this.established=!1,this.progress=0};return t.prototype.connect=function(t){this.destination=t},t.prototype.start=function(){this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){this.request.readyState===this.request.DONE&&200===this.request.status&&this.onLoad(this.request.response)}.bind(this),this.request.onprogress=this.onProgress.bind(this),this.request.open("GET",this.url),this.request.responseType="arraybuffer",this.request.send()},t.prototype.resume=function(t){},t.prototype.abort=function(){this.request.abort()},t.prototype.onProgress=function(t){this.progress=t.loaded/t.total},t.prototype.onLoad=function(t){this.established=!0,this.completed=!0,this.progress=1,this.destination&&this.destination.write(t)},t}(),JSMpeg.Source.AjaxProgressive=function(){"use strict";var t=function(t,e){this.url=t,this.destination=null,this.request=null,this.completed=!1,this.established=!1,this.progress=0,this.fileSize=0,this.loadedSize=0,this.chunkSize=e.chunkSize||1048576,this.isLoading=!1,this.loadStartTime=0,this.throttled=!1!==e.throttled};return t.prototype.connect=function(t){this.destination=t},t.prototype.start=function(){this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){this.request.readyState===this.request.DONE&&(this.fileSize=parseInt(this.request.getResponseHeader("Content-Length")),this.loadNextChunk())}.bind(this),this.request.onprogress=this.onProgress.bind(this),this.request.open("HEAD",this.url),this.request.send()},t.prototype.resume=function(t){!this.isLoading&&this.throttled&&(t<8*this.loadTime+2&&this.loadNextChunk())},t.prototype.abort=function(){this.request.abort()},t.prototype.loadNextChunk=function(){var t=this.loadedSize,e=Math.min(this.loadedSize+this.chunkSize-1,this.fileSize-1);t>=this.fileSize?this.completed=!0:(this.isLoading=!0,this.loadStartTime=JSMpeg.Now(),this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){this.request.readyState===this.request.DONE&&200<=this.request.status&&this.request.status<300?this.onChunkLoad(this.request.response):this.request.readyState===this.request.DONE&&this.loadFails++<3&&this.loadNextChunk()}.bind(this),0===t&&(this.request.onprogress=this.onProgress.bind(this)),this.request.open("GET",this.url+"?"+t+"-"+e),this.request.setRequestHeader("Range","bytes="+t+"-"+e),this.request.responseType="arraybuffer",this.request.send())},t.prototype.onProgress=function(t){this.progress=t.loaded/t.total},t.prototype.onChunkLoad=function(t){this.established=!0,this.progress=1,this.loadedSize+=t.byteLength,this.loadFails=0,this.isLoading=!1,this.destination&&this.destination.write(t),this.loadTime=JSMpeg.Now()-this.loadStartTime,this.throttled||this.loadNextChunk()},t}(),JSMpeg.Source.WebSocket=function(){"use strict";var t=function(t,e){this.url=t,this.socket=null,this.callbacks={connect:[],data:[]},this.destination=null,this.reconnectInterval=e.reconnectInterval||5,this.shouldAttemptReconnect=!!this.reconnectInterval,this.completed=!1,this.established=!1,this.progress=0};return t.prototype.connect=function(t){this.destination=t},t.prototype.abort=function(){this.shouldAttemptReconnect=!1,this.socket.close()},t.prototype.start=function(){this.shouldAttemptReconnect=!!this.reconnectInterval,this.progress=0,this.established=!1,this.socket=new WebSocket(this.url),this.socket.binaryType="arraybuffer",this.socket.onmessage=this.onMessage.bind(this),this.socket.onopen=this.onOpen.bind(this),this.socket.onerror=this.onClose.bind(this),this.socket.onclose=this.onClose.bind(this)},t.prototype.resume=function(t){},t.prototype.onOpen=function(){this.progress=1,this.established=!0},t.prototype.onClose=function(){this.shouldAttemptReconnect&&setTimeout(function(){this.start()}.bind(this),1e3*this.reconnectInterval)},t.prototype.onMessage=function(t){this.destination&&this.destination.write(t.data)},t}(),JSMpeg.Demuxer.TS=function(){"use strict";var t=function(t){this.bits=null,this.leftoverBytes=null,this.guessVideoFrameEnd=!0,this.pidsToStreamIds={},this.pesPacketInfo={},this.startTime=0,this.currentTime=0};return t.prototype.connect=function(t,e){this.pesPacketInfo[t]={destination:e,currentLength:0,totalLength:0,pts:0,buffers:[]}},t.prototype.write=function(t){if(this.leftoverBytes){var e=t.byteLength+this.leftoverBytes.byteLength;this.bits=new JSMpeg.BitBuffer(e),this.bits.write([this.leftoverBytes,t])}else this.bits=new JSMpeg.BitBuffer(t);for(;this.bits.has(1504);)this.parsePacket();var i=this.bits.byteLength-(this.bits.index>>3);this.leftoverBytes=0<i?this.bits.bytes.subarray(this.bits.index>>3):null},t.prototype.parsePacket=function(){var t=188+(this.bits.index>>3);if(71!==this.bits.read(8))throw"Sync Token not found";this.bits.read(1);var e=this.bits.read(1),i=(this.bits.read(1),this.bits.read(13)),s=(this.bits.read(2),this.bits.read(2)),n=(this.bits.read(4),this.pidsToStreamIds[i]);e&&n&&((m=this.pesPacketInfo[n])&&m.currentLength&&this.packetComplete(m));if(1&s){if(2&s){var o=this.bits.read(8);this.bits.skip(o<<3)}if(e&&this.bits.nextBytesAreStartCode()){this.bits.skip(24),n=this.bits.read(8),this.pidsToStreamIds[i]=n;var r=this.bits.read(16);this.bits.skip(8);var a=this.bits.read(2);this.bits.skip(6);var h=this.bits.read(8),l=this.bits.index+(h<<3);if(m=this.pesPacketInfo[n]){var c=0;if(2&a){this.bits.skip(4);var d=this.bits.read(3);this.bits.skip(1);var u=this.bits.read(15);this.bits.skip(1);var p=this.bits.read(15);this.bits.skip(1),c=(1073741824*d+32768*u+p)/9e4,this.currentTime=c,-1===this.startTime&&(this.startTime=c)}var f=r?r-h-3:0;this.packetStart(m,c,f)}this.bits.index=l}var m;if(n)if(m=this.pesPacketInfo[n]){var _=this.bits.index>>3,v=!e&&2&s;(this.packetAddData(m,_,t)||this.guessVideoFrameEnd&&v)&&this.packetComplete(m)}}this.bits.index=t<<3},t.prototype.packetStart=function(t,e,i){t.totalLength=i,t.currentLength=0,t.pts=e},t.prototype.packetAddData=function(t,e,i){return t.buffers.push(this.bits.bytes.subarray(e,i)),t.currentLength+=i-e,0!==t.totalLength&&t.currentLength>=t.totalLength},t.prototype.packetComplete=function(t){t.destination.write(t.pts,t.buffers),t.totalLength=0,t.currentLength=0,t.buffers=[]},t.STREAM={PACK_HEADER:186,SYSTEM_HEADER:187,PROGRAM_MAP:188,PRIVATE_1:189,PADDING:190,PRIVATE_2:191,AUDIO_1:192,VIDEO_1:224,DIRECTORY:255},t}(),JSMpeg.Decoder.Base=function(){"use strict";var t=function(t){this.destination=null,this.canPlay=!1,this.collectTimestamps=!t.streaming,this.timestamps=[],this.timestampIndex=0,this.startTime=0,this.decodedTime=0,Object.defineProperty(this,"currentTime",{get:this.getCurrentTime})};return t.prototype.connect=function(t){this.destination=t},t.prototype.write=function(t,e){this.collectTimestamps&&(0===this.timestamps.length&&(this.startTime=t,this.decodedTime=t),this.timestamps.push({index:this.bits.byteLength<<3,time:t})),this.bits.write(e),this.canPlay=!0},t.prototype.seek=function(t){if(this.collectTimestamps){for(var e=this.timestampIndex=0;e<this.timestamps.length&&!(this.timestamps[e].time>t);e++)this.timestampIndex=e;var i=this.timestamps[this.timestampIndex];i?(this.bits.index=i.index,this.decodedTime=i.time):(this.bits.index=0,this.decodedTime=this.startTime)}},t.prototype.decode=function(){this.advanceDecodedTime(0)},t.prototype.advanceDecodedTime=function(t){if(this.collectTimestamps){for(var e=-1,i=this.timestampIndex;i<this.timestamps.length&&!(this.timestamps[i].index>this.bits.index);i++)e=i;if(-1!==e&&e!==this.timestampIndex)return this.timestampIndex=e,void(this.decodedTime=this.timestamps[this.timestampIndex].time)}this.decodedTime+=t},t.prototype.getCurrentTime=function(){return this.decodedTime},t}(),JSMpeg.Decoder.MPEG1Video=function(){"use strict";var p=function(t){JSMpeg.Decoder.Base.call(this,t);var e=t.videoBufferSize||524288,i=t.streaming?JSMpeg.BitBuffer.MODE.EVICT:JSMpeg.BitBuffer.MODE.EXPAND;this.bits=new JSMpeg.BitBuffer(e,i),this.customIntraQuantMatrix=new Uint8Array(64),this.customNonIntraQuantMatrix=new Uint8Array(64),this.blockData=new Int32Array(64),this.currentFrame=0,this.decodeFirstFrame=!1!==t.decodeFirstFrame};return((p.prototype=Object.create(JSMpeg.Decoder.Base.prototype)).constructor=p).prototype.write=function(t,e){if(JSMpeg.Decoder.Base.prototype.write.call(this,t,e),!this.hasSequenceHeader){if(-1===this.bits.findStartCode(p.START.SEQUENCE))return!1;this.decodeSequenceHeader(),this.decodeFirstFrame&&this.decode()}},p.prototype.decode=function(){if(!this.hasSequenceHeader)return!1;if(-1===this.bits.findStartCode(p.START.PICTURE)){this.bits.byteLength,this.bits.index;return!1}return this.decodePicture(),this.advanceDecodedTime(1/this.frameRate),!0},p.prototype.readHuffman=function(t){for(var e=0;0<=(e=t[e+this.bits.read(1)])&&0!==t[e];);return t[e+2]},p.prototype.frameRate=30,p.prototype.decodeSequenceHeader=function(){var t=this.bits.read(12),e=this.bits.read(12);if(this.bits.skip(4),this.frameRate=p.PICTURE_RATE[this.bits.read(4)],this.bits.skip(30),t===this.width&&e===this.height||(this.width=t,this.height=e,this.initBuffers(),this.destination&&this.destination.resize(t,e)),this.bits.read(1)){for(var i=0;i<64;i++)this.customIntraQuantMatrix[p.ZIG_ZAG[i]]=this.bits.read(8);this.intraQuantMatrix=this.customIntraQuantMatrix}if(this.bits.read(1)){for(i=0;i<64;i++){var s=p.ZIG_ZAG[i];this.customNonIntraQuantMatrix[s]=this.bits.read(8)}this.nonIntraQuantMatrix=this.customNonIntraQuantMatrix}this.hasSequenceHeader=!0},p.prototype.initBuffers=function(){this.intraQuantMatrix=p.DEFAULT_INTRA_QUANT_MATRIX,this.nonIntraQuantMatrix=p.DEFAULT_NON_INTRA_QUANT_MATRIX,this.mbWidth=this.width+15>>4,this.mbHeight=this.height+15>>4,this.mbSize=this.mbWidth*this.mbHeight,this.codedWidth=this.mbWidth<<4,this.codedHeight=this.mbHeight<<4,this.codedSize=this.codedWidth*this.codedHeight,this.halfWidth=this.mbWidth<<3,this.halfHeight=this.mbHeight<<3,this.currentY=new Uint8ClampedArray(this.codedSize),this.currentY32=new Uint32Array(this.currentY.buffer),this.currentCr=new Uint8ClampedArray(this.codedSize>>2),this.currentCr32=new Uint32Array(this.currentCr.buffer),this.currentCb=new Uint8ClampedArray(this.codedSize>>2),this.currentCb32=new Uint32Array(this.currentCb.buffer),this.forwardY=new Uint8ClampedArray(this.codedSize),this.forwardY32=new Uint32Array(this.forwardY.buffer),this.forwardCr=new Uint8ClampedArray(this.codedSize>>2),this.forwardCr32=new Uint32Array(this.forwardCr.buffer),this.forwardCb=new Uint8ClampedArray(this.codedSize>>2),this.forwardCb32=new Uint32Array(this.forwardCb.buffer)},p.prototype.currentY=null,p.prototype.currentCr=null,p.prototype.currentCb=null,p.prototype.pictureType=0,p.prototype.forwardY=null,p.prototype.forwardCr=null,p.prototype.forwardCb=null,p.prototype.fullPelForward=!1,p.prototype.forwardFCode=0,p.prototype.forwardRSize=0,p.prototype.forwardF=0,p.prototype.decodePicture=function(t){if(this.currentFrame++,this.bits.skip(10),this.pictureType=this.bits.read(3),this.bits.skip(16),!(this.pictureType<=0||this.pictureType>=p.PICTURE_TYPE.B)){if(this.pictureType===p.PICTURE_TYPE.PREDICTIVE){if(this.fullPelForward=this.bits.read(1),this.forwardFCode=this.bits.read(3),0===this.forwardFCode)return;this.forwardRSize=this.forwardFCode-1,this.forwardF=1<<this.forwardRSize}for(var e=0;(e=this.bits.findNextStartCode())===p.START.EXTENSION||e===p.START.USER_DATA;);for(;e>=p.START.SLICE_FIRST&&e<=p.START.SLICE_LAST;)this.decodeSlice(255&e),e=this.bits.findNextStartCode();if(-1!==e&&this.bits.rewind(32),this.destination&&this.destination.render(this.currentY,this.currentCr,this.currentCb),this.pictureType===p.PICTURE_TYPE.INTRA||this.pictureType===p.PICTURE_TYPE.PREDICTIVE){var i=this.forwardY,s=this.forwardY32,n=this.forwardCr,o=this.forwardCr32,r=this.forwardCb,a=this.forwardCb32;this.forwardY=this.currentY,this.forwardY32=this.currentY32,this.forwardCr=this.currentCr,this.forwardCr32=this.currentCr32,this.forwardCb=this.currentCb,this.forwardCb32=this.currentCb32,this.currentY=i,this.currentY32=s,this.currentCr=n,this.currentCr32=o,this.currentCb=r,this.currentCb32=a}}},p.prototype.quantizerScale=0,p.prototype.sliceBegin=!1,p.prototype.decodeSlice=function(t){for(this.sliceBegin=!0,this.macroblockAddress=(t-1)*this.mbWidth-1,this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0,this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.quantizerScale=this.bits.read(5);this.bits.read(1);)this.bits.skip(8);for(;this.decodeMacroblock(),!this.bits.nextBytesAreStartCode(););},p.prototype.macroblockAddress=0,p.prototype.mbRow=0,p.prototype.mbCol=0,p.prototype.macroblockType=0,p.prototype.macroblockIntra=!1,p.prototype.macroblockMotFw=!1,p.prototype.motionFwH=0,p.prototype.motionFwV=0,p.prototype.motionFwHPrev=0,p.prototype.motionFwVPrev=0,p.prototype.decodeMacroblock=function(){for(var t=0,e=this.readHuffman(p.MACROBLOCK_ADDRESS_INCREMENT);34===e;)e=this.readHuffman(p.MACROBLOCK_ADDRESS_INCREMENT);for(;35===e;)t+=33,e=this.readHuffman(p.MACROBLOCK_ADDRESS_INCREMENT);if(t+=e,this.sliceBegin)this.sliceBegin=!1,this.macroblockAddress+=t;else{if(this.macroblockAddress+t>=this.mbSize)return;for(1<t&&(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.pictureType===p.PICTURE_TYPE.PREDICTIVE&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0));1<t;)this.macroblockAddress++,this.mbRow=this.macroblockAddress/this.mbWidth|0,this.mbCol=this.macroblockAddress%this.mbWidth,this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb),t--;this.macroblockAddress++}this.mbRow=this.macroblockAddress/this.mbWidth|0,this.mbCol=this.macroblockAddress%this.mbWidth;var i=p.MACROBLOCK_TYPE[this.pictureType];this.macroblockType=this.readHuffman(i),this.macroblockIntra=1&this.macroblockType,this.macroblockMotFw=8&this.macroblockType,0!=(16&this.macroblockType)&&(this.quantizerScale=this.bits.read(5)),this.macroblockIntra?(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0):(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.decodeMotionVectors(),this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb));for(var s=0!=(2&this.macroblockType)?this.readHuffman(p.CODE_BLOCK_PATTERN):this.macroblockIntra?63:0,n=0,o=32;n<6;n++)0!=(s&o)&&this.decodeBlock(n),o>>=1},p.prototype.decodeMotionVectors=function(){var t,e,i=0;this.macroblockMotFw?(0!==(t=this.readHuffman(p.MOTION))&&1!==this.forwardF?(i=this.bits.read(this.forwardRSize),e=(Math.abs(t)-1<<this.forwardRSize)+i+1,t<0&&(e=-e)):e=t,this.motionFwHPrev+=e,this.motionFwHPrev>(this.forwardF<<4)-1?this.motionFwHPrev-=this.forwardF<<5:this.motionFwHPrev<-this.forwardF<<4&&(this.motionFwHPrev+=this.forwardF<<5),this.motionFwH=this.motionFwHPrev,this.fullPelForward&&(this.motionFwH<<=1),0!==(t=this.readHuffman(p.MOTION))&&1!==this.forwardF?(i=this.bits.read(this.forwardRSize),e=(Math.abs(t)-1<<this.forwardRSize)+i+1,t<0&&(e=-e)):e=t,this.motionFwVPrev+=e,this.motionFwVPrev>(this.forwardF<<4)-1?this.motionFwVPrev-=this.forwardF<<5:this.motionFwVPrev<-this.forwardF<<4&&(this.motionFwVPrev+=this.forwardF<<5),this.motionFwV=this.motionFwVPrev,this.fullPelForward&&(this.motionFwV<<=1)):this.pictureType===p.PICTURE_TYPE.PREDICTIVE&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0)},p.prototype.copyMacroblock=function(t,e,i,s,n){var o,r,a,h,l,c,d,u,p,f,m,_,v,g,T,A,y,w,b,S=this.currentY32,P=this.currentCb32,E=this.currentCr32;if(r=(o=this.codedWidth)-16,a=t>>1,h=e>>1,l=1==(1&t),c=1==(1&e),d=((this.mbRow<<4)+h)*o+(this.mbCol<<4)+a,p=(u=this.mbRow*o+this.mbCol<<2)+(o<<2),l)if(c)for(;u<p;){for(m=i[d]+i[d+o],d++,f=0;f<4;f++)v=m+(_=i[d]+i[d+o])+2>>2&255,v|=(m=i[++d]+i[d+o])+_+2<<6&65280,v|=m+(_=i[++d]+i[d+o])+2<<14&16711680,m=i[++d]+i[d+o],d++,v|=m+_+2<<22&4278190080,S[u++]=v;u+=r>>2,d+=r-1}else for(;u<p;){for(m=i[d++],f=0;f<4;f++)v=m+(_=i[d++])+1>>1&255,v|=(m=i[d++])+_+1<<7&65280,v|=m+(_=i[d++])+1<<15&16711680,v|=(m=i[d++])+_+1<<23&4278190080,S[u++]=v;u+=r>>2,d+=r-1}else if(c)for(;u<p;){for(f=0;f<4;f++)v=i[d]+i[d+o]+1>>1&255,v|=i[++d]+i[d+o]+1<<7&65280,v|=i[++d]+i[d+o]+1<<15&16711680,v|=i[++d]+i[d+o]+1<<23&4278190080,d++,S[u++]=v;u+=r>>2,d+=r}else for(;u<p;){for(f=0;f<4;f++)v=i[d],v|=i[++d]<<8,v|=i[++d]<<16,v|=i[++d]<<24,d++,S[u++]=v;u+=r>>2,d+=r}if(r=(o=this.halfWidth)-8,a=t/2>>1,h=e/2>>1,l=1==(t/2&1),c=1==(e/2&1),d=((this.mbRow<<3)+h)*o+(this.mbCol<<3)+a,p=(u=this.mbRow*o+this.mbCol<<1)+(o<<1),l)if(c)for(;u<p;){for(g=s[d]+s[d+o],y=n[d]+n[d+o],d++,f=0;f<2;f++)A=g+(T=s[d]+s[d+o])+2>>2&255,b=y+(w=n[d]+n[d+o])+2>>2&255,A|=(g=s[++d]+s[d+o])+T+2<<6&65280,b|=(y=n[d]+n[d+o])+w+2<<6&65280,A|=g+(T=s[++d]+s[d+o])+2<<14&16711680,b|=y+(w=n[d]+n[d+o])+2<<14&16711680,g=s[++d]+s[d+o],y=n[d]+n[d+o],d++,A|=g+T+2<<22&4278190080,b|=y+w+2<<22&4278190080,E[u]=A,P[u]=b,u++;u+=r>>2,d+=r-1}else for(;u<p;){for(g=s[d],y=n[d],d++,f=0;f<2;f++)A=g+(T=s[d])+1>>1&255,b=y+(w=n[d++])+1>>1&255,A|=(g=s[d])+T+1<<7&65280,b|=(y=n[d++])+w+1<<7&65280,A|=g+(T=s[d])+1<<15&16711680,b|=y+(w=n[d++])+1<<15&16711680,A|=(g=s[d])+T+1<<23&4278190080,b|=(y=n[d++])+w+1<<23&4278190080,E[u]=A,P[u]=b,u++;u+=r>>2,d+=r-1}else if(c)for(;u<p;){for(f=0;f<2;f++)A=s[d]+s[d+o]+1>>1&255,b=n[d]+n[d+o]+1>>1&255,A|=s[++d]+s[d+o]+1<<7&65280,b|=n[d]+n[d+o]+1<<7&65280,A|=s[++d]+s[d+o]+1<<15&16711680,b|=n[d]+n[d+o]+1<<15&16711680,A|=s[++d]+s[d+o]+1<<23&4278190080,b|=n[d]+n[d+o]+1<<23&4278190080,d++,E[u]=A,P[u]=b,u++;u+=r>>2,d+=r}else for(;u<p;){for(f=0;f<2;f++)A=s[d],b=n[d],A|=s[++d]<<8,b|=n[d]<<8,A|=s[++d]<<16,b|=n[d]<<16,A|=s[++d]<<24,b|=n[d]<<24,d++,E[u]=A,P[u]=b,u++;u+=r>>2,d+=r}},p.prototype.dcPredictorY=0,p.prototype.dcPredictorCr=0,p.prototype.dcPredictorCb=0,p.prototype.blockData=null,p.prototype.decodeBlock=function(t){var e,i=0;if(this.macroblockIntra){var s,n;if(t<4?(s=this.dcPredictorY,n=this.readHuffman(p.DCT_DC_SIZE_LUMINANCE)):(s=4===t?this.dcPredictorCr:this.dcPredictorCb,n=this.readHuffman(p.DCT_DC_SIZE_CHROMINANCE)),0<n){var o=this.bits.read(n);this.blockData[0]=0!=(o&1<<n-1)?s+o:s+(-1<<n|o+1)}else this.blockData[0]=s;t<4?this.dcPredictorY=this.blockData[0]:4===t?this.dcPredictorCr=this.blockData[0]:this.dcPredictorCb=this.blockData[0],this.blockData[0]<<=8,e=this.intraQuantMatrix,i=1}else e=this.nonIntraQuantMatrix;for(var r,a,h,l=0;;){var c=0,d=this.readHuffman(p.DCT_COEFF);if(1===d&&0<i&&0===this.bits.read(1))break;65535===d?(c=this.bits.read(6),0===(l=this.bits.read(8))?l=this.bits.read(8):128===l?l=this.bits.read(8)-256:128<l&&(l-=256)):(c=d>>8,l=255&d,this.bits.read(1)&&(l=-l));var u=p.ZIG_ZAG[i+=c];i++,l<<=1,this.macroblockIntra||(l+=l<0?-1:1),0==(1&(l=l*this.quantizerScale*e[u]>>4))&&(l-=0<l?1:-1),2047<l?l=2047:l<-2048&&(l=-2048),this.blockData[u]=l*p.PREMULTIPLIER_MATRIX[u]}t<4?(r=this.currentY,h=this.codedWidth-8,a=this.mbRow*this.codedWidth+this.mbCol<<4,0!=(1&t)&&(a+=8),0!=(2&t)&&(a+=this.codedWidth<<3)):(r=4===t?this.currentCb:this.currentCr,h=(this.codedWidth>>1)-8,a=(this.mbRow*this.codedWidth<<2)+(this.mbCol<<3)),this.macroblockIntra?1===i?(p.CopyValueToDestination(this.blockData[0]+128>>8,r,a,h),this.blockData[0]=0):(p.IDCT(this.blockData),p.CopyBlockToDestination(this.blockData,r,a,h),JSMpeg.Fill(this.blockData,0)):1===i?(p.AddValueToDestination(this.blockData[0]+128>>8,r,a,h),this.blockData[0]=0):(p.IDCT(this.blockData),p.AddBlockToDestination(this.blockData,r,a,h),JSMpeg.Fill(this.blockData,0)),i=0},p.CopyBlockToDestination=function(t,e,i,s){for(var n=0;n<64;n+=8,i+=s+8)e[i+0]=t[n+0],e[i+1]=t[n+1],e[i+2]=t[n+2],e[i+3]=t[n+3],e[i+4]=t[n+4],e[i+5]=t[n+5],e[i+6]=t[n+6],e[i+7]=t[n+7]},p.AddBlockToDestination=function(t,e,i,s){for(var n=0;n<64;n+=8,i+=s+8)e[i+0]+=t[n+0],e[i+1]+=t[n+1],e[i+2]+=t[n+2],e[i+3]+=t[n+3],e[i+4]+=t[n+4],e[i+5]+=t[n+5],e[i+6]+=t[n+6],e[i+7]+=t[n+7]},p.CopyValueToDestination=function(t,e,i,s){for(var n=0;n<64;n+=8,i+=s+8)e[i+0]=t,e[i+1]=t,e[i+2]=t,e[i+3]=t,e[i+4]=t,e[i+5]=t,e[i+6]=t,e[i+7]=t},p.AddValueToDestination=function(t,e,i,s){for(var n=0;n<64;n+=8,i+=s+8)e[i+0]+=t,e[i+1]+=t,e[i+2]+=t,e[i+3]+=t,e[i+4]+=t,e[i+5]+=t,e[i+6]+=t,e[i+7]+=t},p.IDCT=function(t){for(var e,i,s,n,o,r,a,h,l,c,d,u,p,f,m,_,v,g,T=0;T<8;++T)e=t[32+T],i=t[16+T]+t[48+T],s=t[40+T]-t[24+T],r=t[8+T]+t[56+T],a=t[24+T]+t[40+T],l=(p=(473*(n=t[8+T]-t[56+T])-196*s+128>>8)-(o=r+a))-(362*(r-a)+128>>8),f=(c=(h=t[0+T])-e)+(d=(362*(t[16+T]-t[48+T])+128>>8)-i),m=(u=h+e)+i,_=c-d,v=u-i,g=-l-(473*s+196*n+128>>8),t[0+T]=o+m,t[8+T]=p+f,t[16+T]=_-l,t[24+T]=v-g,t[32+T]=v+g,t[40+T]=l+_,t[48+T]=f-p,t[56+T]=m-o;for(T=0;T<64;T+=8)e=t[4+T],i=t[2+T]+t[6+T],s=t[5+T]-t[3+T],r=t[1+T]+t[7+T],a=t[3+T]+t[5+T],l=(p=(473*(n=t[1+T]-t[7+T])-196*s+128>>8)-(o=r+a))-(362*(r-a)+128>>8),f=(c=(h=t[0+T])-e)+(d=(362*(t[2+T]-t[6+T])+128>>8)-i),m=(u=h+e)+i,_=c-d,v=u-i,g=-l-(473*s+196*n+128>>8),t[0+T]=o+m+128>>8,t[1+T]=p+f+128>>8,t[2+T]=_-l+128>>8,t[3+T]=v-g+128>>8,t[4+T]=v+g+128>>8,t[5+T]=l+_+128>>8,t[6+T]=f-p+128>>8,t[7+T]=m-o+128>>8},p.PICTURE_RATE=[0,23.976,24,25,29.97,30,50,59.94,60,0,0,0,0,0,0,0],p.ZIG_ZAG=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),p.DEFAULT_INTRA_QUANT_MATRIX=new Uint8Array([8,16,19,22,26,27,29,34,16,16,22,24,27,29,34,37,19,22,26,27,29,34,34,38,22,22,26,27,29,34,37,40,22,26,27,29,32,35,40,48,26,27,29,32,35,40,48,58,26,27,29,34,38,46,56,69,27,29,35,38,46,56,69,83]),p.DEFAULT_NON_INTRA_QUANT_MATRIX=new Uint8Array([16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16]),p.PREMULTIPLIER_MATRIX=new Uint8Array([32,44,42,38,32,25,17,9,44,62,58,52,44,35,24,12,42,58,55,49,42,33,23,12,38,52,49,44,38,30,20,10,32,44,42,38,32,25,17,9,25,35,33,30,25,20,14,7,17,24,23,20,17,14,9,5,9,12,12,10,9,7,5,2]),p.MACROBLOCK_ADDRESS_INCREMENT=new Int16Array([3,6,0,9,12,0,0,0,1,15,18,0,21,24,0,27,30,0,33,36,0,0,0,3,0,0,2,39,42,0,45,48,0,0,0,5,0,0,4,51,54,0,57,60,0,0,0,7,0,0,6,63,66,0,69,72,0,75,78,0,81,84,0,-1,87,0,-1,90,0,93,96,0,99,102,0,105,108,0,111,114,0,0,0,9,0,0,8,117,120,0,123,126,0,129,132,0,135,138,0,0,0,15,0,0,14,0,0,13,0,0,12,0,0,11,0,0,10,141,-1,0,-1,144,0,147,150,0,153,156,0,159,162,0,165,168,0,171,174,0,177,180,0,183,-1,0,-1,186,0,189,192,0,195,198,0,201,204,0,207,210,0,213,216,0,219,222,0,0,0,21,0,0,20,0,0,19,0,0,18,0,0,17,0,0,16,0,0,35,0,0,34,0,0,33,0,0,32,0,0,31,0,0,30,0,0,29,0,0,28,0,0,27,0,0,26,0,0,25,0,0,24,0,0,23,0,0,22]),p.MACROBLOCK_TYPE_INTRA=new Int8Array([3,6,0,-1,9,0,0,0,1,0,0,17]),p.MACROBLOCK_TYPE_PREDICTIVE=new Int8Array([3,6,0,9,12,0,0,0,10,15,18,0,0,0,2,21,24,0,0,0,8,27,30,0,33,36,0,-1,39,0,0,0,18,0,0,26,0,0,1,0,0,17]),p.MACROBLOCK_TYPE_B=new Int8Array([3,6,0,9,15,0,12,18,0,24,21,0,0,0,12,27,30,0,0,0,14,39,42,0,36,33,0,0,0,4,0,0,6,54,48,0,45,51,0,0,0,8,0,0,10,-1,57,0,0,0,1,60,63,0,0,0,30,0,0,17,0,0,22,0,0,26]),p.MACROBLOCK_TYPE=[null,p.MACROBLOCK_TYPE_INTRA,p.MACROBLOCK_TYPE_PREDICTIVE,p.MACROBLOCK_TYPE_B],p.CODE_BLOCK_PATTERN=new Int16Array([6,3,0,9,18,0,12,15,0,24,33,0,36,39,0,27,21,0,30,42,0,60,57,0,54,48,0,69,51,0,81,75,0,63,84,0,45,66,0,72,78,0,0,0,60,105,120,0,132,144,0,114,108,0,126,141,0,87,93,0,117,96,0,0,0,32,135,138,0,99,123,0,129,102,0,0,0,4,90,111,0,0,0,8,0,0,16,0,0,44,150,168,0,0,0,28,0,0,52,0,0,62,183,177,0,156,180,0,0,0,1,165,162,0,0,0,61,0,0,56,171,174,0,0,0,2,0,0,40,153,186,0,0,0,48,192,189,0,147,159,0,0,0,20,0,0,12,240,249,0,0,0,63,231,225,0,195,219,0,252,198,0,0,0,24,0,0,36,0,0,3,207,261,0,243,237,0,204,213,0,210,234,0,201,228,0,216,222,0,258,255,0,264,246,0,-1,282,0,285,291,0,0,0,33,0,0,9,318,330,0,306,348,0,0,0,5,0,0,10,279,267,0,0,0,6,0,0,18,0,0,17,0,0,34,339,357,0,309,312,0,270,276,0,327,321,0,351,354,0,303,297,0,294,288,0,300,273,0,342,345,0,315,324,0,336,333,0,363,375,0,0,0,41,0,0,14,0,0,21,372,366,0,360,369,0,0,0,11,0,0,19,0,0,7,0,0,35,0,0,13,0,0,50,0,0,49,0,0,58,0,0,37,0,0,25,0,0,45,0,0,57,0,0,26,0,0,29,0,0,38,0,0,53,0,0,23,0,0,43,0,0,46,0,0,42,0,0,22,0,0,54,0,0,51,0,0,15,0,0,30,0,0,39,0,0,47,0,0,55,0,0,27,0,0,59,0,0,31]),p.MOTION=new Int16Array([3,6,0,12,9,0,0,0,0,18,15,0,24,21,0,0,0,-1,0,0,1,27,30,0,36,33,0,0,0,2,0,0,-2,42,45,0,48,39,0,60,54,0,0,0,3,0,0,-3,51,57,0,-1,69,0,81,75,0,78,63,0,72,66,0,96,84,0,87,93,0,-1,99,0,108,105,0,0,0,-4,90,102,0,0,0,4,0,0,-7,0,0,5,111,123,0,0,0,-5,0,0,7,114,120,0,126,117,0,0,0,-6,0,0,6,153,162,0,150,147,0,135,138,0,156,141,0,129,159,0,132,144,0,0,0,10,0,0,9,0,0,8,0,0,-8,171,198,0,0,0,-9,180,192,0,168,183,0,165,186,0,174,189,0,0,0,-10,177,195,0,0,0,12,0,0,16,0,0,13,0,0,14,0,0,11,0,0,15,0,0,-16,0,0,-12,0,0,-14,0,0,-15,0,0,-11,0,0,-13]),p.DCT_DC_SIZE_LUMINANCE=new Int8Array([6,3,0,18,15,0,9,12,0,0,0,1,0,0,2,27,24,0,21,30,0,0,0,0,36,33,0,0,0,4,0,0,3,39,42,0,0,0,5,0,0,6,48,45,0,51,-1,0,0,0,7,0,0,8]),p.DCT_DC_SIZE_CHROMINANCE=new Int8Array([6,3,0,12,9,0,18,15,0,24,21,0,0,0,2,0,0,1,0,0,0,30,27,0,0,0,3,36,33,0,0,0,4,42,39,0,0,0,5,48,45,0,0,0,6,51,-1,0,0,0,7,0,0,8]),p.DCT_COEFF=new Int32Array([3,6,0,12,9,0,0,0,1,21,24,0,18,15,0,39,27,0,33,30,0,42,36,0,0,0,257,60,66,0,54,63,0,48,57,0,0,0,513,51,45,0,0,0,2,0,0,3,81,75,0,87,93,0,72,78,0,96,90,0,0,0,1025,69,84,0,0,0,769,0,0,258,0,0,1793,0,0,65535,0,0,1537,111,108,0,0,0,1281,105,102,0,117,114,0,99,126,0,120,123,0,156,150,0,162,159,0,144,147,0,129,135,0,138,132,0,0,0,2049,0,0,4,0,0,514,0,0,2305,153,141,0,165,171,0,180,168,0,177,174,0,183,186,0,0,0,2561,0,0,3329,0,0,6,0,0,259,0,0,5,0,0,770,0,0,2817,0,0,3073,228,225,0,201,210,0,219,213,0,234,222,0,216,231,0,207,192,0,204,189,0,198,195,0,243,261,0,273,240,0,246,237,0,249,258,0,279,276,0,252,255,0,270,282,0,264,267,0,0,0,515,0,0,260,0,0,7,0,0,1026,0,0,1282,0,0,4097,0,0,3841,0,0,3585,315,321,0,333,342,0,312,291,0,375,357,0,288,294,0,-1,369,0,285,303,0,318,363,0,297,306,0,339,309,0,336,348,0,330,300,0,372,345,0,351,366,0,327,354,0,360,324,0,381,408,0,417,420,0,390,378,0,435,438,0,384,387,0,0,0,2050,396,402,0,465,462,0,0,0,8,411,399,0,429,432,0,453,414,0,426,423,0,0,0,10,0,0,9,0,0,11,0,0,5377,0,0,1538,0,0,771,0,0,5121,0,0,1794,0,0,4353,0,0,4609,0,0,4865,444,456,0,0,0,1027,459,450,0,0,0,261,393,405,0,0,0,516,447,441,0,516,519,0,486,474,0,510,483,0,504,498,0,471,537,0,507,501,0,522,513,0,534,531,0,468,477,0,492,495,0,549,546,0,525,528,0,0,0,263,0,0,2562,0,0,2306,0,0,5633,0,0,5889,0,0,6401,0,0,6145,0,0,1283,0,0,772,0,0,13,0,0,12,0,0,14,0,0,15,0,0,517,0,0,6657,0,0,262,540,543,0,480,489,0,588,597,0,0,0,27,609,555,0,606,603,0,0,0,19,0,0,22,591,621,0,0,0,18,573,576,0,564,570,0,0,0,20,552,582,0,0,0,21,558,579,0,0,0,23,612,594,0,0,0,25,0,0,24,600,615,0,0,0,31,0,0,30,0,0,28,0,0,29,0,0,26,0,0,17,0,0,16,567,618,0,561,585,0,654,633,0,0,0,37,645,648,0,0,0,36,630,636,0,0,0,34,639,627,0,663,666,0,657,624,0,651,642,0,669,660,0,0,0,35,0,0,267,0,0,40,0,0,268,0,0,266,0,0,32,0,0,264,0,0,265,0,0,38,0,0,269,0,0,270,0,0,33,0,0,39,0,0,7937,0,0,6913,0,0,7681,0,0,4098,0,0,7425,0,0,7169,0,0,271,0,0,274,0,0,273,0,0,272,0,0,1539,0,0,2818,0,0,3586,0,0,3330,0,0,3074,0,0,3842]),p.PICTURE_TYPE={INTRA:1,PREDICTIVE:2,B:3},p.START={SEQUENCE:179,SLICE_FIRST:1,SLICE_LAST:175,PICTURE:0,EXTENSION:181,USER_DATA:178},p}(),JSMpeg.Decoder.MP2Audio=function(){"use strict";var O=function(t){JSMpeg.Decoder.Base.call(this,t);var e=t.audioBufferSize||131072,i=t.streaming?JSMpeg.BitBuffer.MODE.EVICT:JSMpeg.BitBuffer.MODE.EXPAND;this.bits=new JSMpeg.BitBuffer(e,i),this.left=new Float32Array(1152),this.right=new Float32Array(1152),this.sampleRate=44100,this.D=new Float32Array(1024),this.D.set(O.SYNTHESIS_WINDOW,0),this.D.set(O.SYNTHESIS_WINDOW,512),this.V=new Float32Array(1024),this.U=new Int32Array(32),this.VPos=0,this.allocation=[new Array(32),new Array(32)],this.scaleFactorInfo=[new Uint8Array(32),new Uint8Array(32)],this.scaleFactor=[new Array(32),new Array(32)],this.sample=[new Array(32),new Array(32)];for(var s=0;s<2;s++)for(var n=0;n<32;n++)this.scaleFactor[s][n]=[0,0,0],this.sample[s][n]=[0,0,0]};return O.prototype=Object.create(JSMpeg.Decoder.Base.prototype),(O.prototype.constructor=O).prototype.decode=function(){var t=this.bits.index>>3;if(t>=this.bits.byteLength)return!1;var e=this.decodeFrame(this.left,this.right);return this.bits.index=t+e<<3,!!e&&(this.destination&&this.destination.play(this.sampleRate,this.left,this.right),this.advanceDecodedTime(this.left.length/this.sampleRate),!0)},O.prototype.getCurrentTime=function(){var t=this.destination?this.destination.enqueuedTime:0;return this.decodedTime-t},O.prototype.decodeFrame=function(t,e){var i=this.bits.read(11),s=this.bits.read(2),n=this.bits.read(2),o=!this.bits.read(1);if(i!==O.FRAME_SYNC||s!==O.VERSION.MPEG_1||n!==O.LAYER.II)return 0;var r=this.bits.read(4)-1;if(13<r)return 0;var a=this.bits.read(2),h=O.SAMPLE_RATE[a];if(3===a)return 0;s===O.VERSION.MPEG_2&&(a+=4,r+=14);var l=this.bits.read(1),c=(this.bits.read(1),this.bits.read(2)),d=0;c===O.MODE.JOINT_STEREO?d=this.bits.read(2)+1<<2:(this.bits.skip(2),d=c===O.MODE.MONO?0:32),this.bits.skip(4),o&&this.bits.skip(16);var u=144e3*O.BIT_RATE[r]/(h=O.SAMPLE_RATE[a])+l|0,p=0,f=0;if(s===O.VERSION.MPEG_2)p=2,f=30;else{var m=c===O.MODE.MONO?0:1,_=O.QUANT_LUT_STEP_1[m][r];f=63&(p=O.QUANT_LUT_STEP_2[_][a]),p>>=6}f<d&&(d=f);for(var v=0;v<d;v++)this.allocation[0][v]=this.readAllocation(v,p),this.allocation[1][v]=this.readAllocation(v,p);for(v=d;v<f;v++)this.allocation[0][v]=this.allocation[1][v]=this.readAllocation(v,p);var g=c===O.MODE.MONO?1:2;for(v=0;v<f;v++){for(T=0;T<g;T++)this.allocation[T][v]&&(this.scaleFactorInfo[T][v]=this.bits.read(2));c===O.MODE.MONO&&(this.scaleFactorInfo[1][v]=this.scaleFactorInfo[0][v])}for(v=0;v<f;v++){for(var T=0;T<g;T++)if(this.allocation[T][v]){var A=this.scaleFactor[T][v];switch(this.scaleFactorInfo[T][v]){case 0:A[0]=this.bits.read(6),A[1]=this.bits.read(6),A[2]=this.bits.read(6);break;case 1:A[0]=A[1]=this.bits.read(6),A[2]=this.bits.read(6);break;case 2:A[0]=A[1]=A[2]=this.bits.read(6);break;case 3:A[0]=this.bits.read(6),A[1]=A[2]=this.bits.read(6)}}c===O.MODE.MONO&&(this.scaleFactor[1][v][0]=this.scaleFactor[0][v][0],this.scaleFactor[1][v][1]=this.scaleFactor[0][v][1],this.scaleFactor[1][v][2]=this.scaleFactor[0][v][2])}for(var y=0,w=0;w<3;w++)for(var b=0;b<4;b++){for(v=0;v<d;v++)this.readSamples(0,v,w),this.readSamples(1,v,w);for(v=d;v<f;v++)this.readSamples(0,v,w),this.sample[1][v][0]=this.sample[0][v][0],this.sample[1][v][1]=this.sample[0][v][1],this.sample[1][v][2]=this.sample[0][v][2];for(v=f;v<32;v++)this.sample[0][v][0]=0,this.sample[0][v][1]=0,this.sample[0][v][2]=0,this.sample[1][v][0]=0,this.sample[1][v][1]=0,this.sample[1][v][2]=0;for(var S=0;S<3;S++){this.VPos=this.VPos-64&1023;for(T=0;T<2;T++){O.MatrixTransform(this.sample[T],S,this.V,this.VPos),JSMpeg.Fill(this.U,0);for(var P=512-(this.VPos>>1),E=this.VPos%128>>1;E<1024;){for(var x=0;x<32;++x)this.U[x]+=this.D[P++]*this.V[E++];E+=96,P+=32}for(E=1120-E,P-=480;E<1024;){for(x=0;x<32;++x)this.U[x]+=this.D[P++]*this.V[E++];E+=96,P+=32}for(var I=0===T?t:e,C=0;C<32;C++)I[y+C]=this.U[C]/2147418112}y+=32}}return this.sampleRate=h,u},O.prototype.readAllocation=function(t,e){var i=O.QUANT_LUT_STEP_3[e][t],s=O.QUANT_LUT_STEP4[15&i][this.bits.read(i>>4)];return s?O.QUANT_TAB[s-1]:0},O.prototype.readSamples=function(t,e,i){var s=this.allocation[t][e],n=this.scaleFactor[t][e][i],o=this.sample[t][e],r=0;if(s){if(63===n)n=0;else{var a=n/3|0;n=O.SCALEFACTOR_BASE[n%3]+(1<<a>>1)>>a}var h=s.levels;s.group?(r=this.bits.read(s.bits),o[0]=r%h,r=r/h|0,o[1]=r%h,o[2]=r/h|0):(o[0]=this.bits.read(s.bits),o[1]=this.bits.read(s.bits),o[2]=this.bits.read(s.bits));var l=65536/(h+1)|0;r=((h=(h+1>>1)-1)-o[0])*l,o[0]=r*(n>>12)+(r*(4095&n)+2048>>12)>>12,r=(h-o[1])*l,o[1]=r*(n>>12)+(r*(4095&n)+2048>>12)>>12,r=(h-o[2])*l,o[2]=r*(n>>12)+(r*(4095&n)+2048>>12)>>12}else o[0]=o[1]=o[2]=0},O.MatrixTransform=function(t,e,i,s){var n,o,r,a,h,l,c,d,u,p,f,m,_,v,g,T,A,y,w,b,S,P,E,x,I,C,O,k,M,N,R,L,B;n=t[0][e]+t[31][e],o=.500602998235*(t[0][e]-t[31][e]),r=t[1][e]+t[30][e],a=.505470959898*(t[1][e]-t[30][e]),h=t[2][e]+t[29][e],l=.515447309923*(t[2][e]-t[29][e]),c=t[3][e]+t[28][e],d=.53104259109*(t[3][e]-t[28][e]),u=t[4][e]+t[27][e],p=.553103896034*(t[4][e]-t[27][e]),f=t[5][e]+t[26][e],m=.582934968206*(t[5][e]-t[26][e]),_=t[6][e]+t[25][e],v=.622504123036*(t[6][e]-t[25][e]),g=t[7][e]+t[24][e],T=.674808341455*(t[7][e]-t[24][e]),A=t[8][e]+t[23][e],y=.744536271002*(t[8][e]-t[23][e]),w=t[9][e]+t[22][e],b=.839349645416*(t[9][e]-t[22][e]),S=t[10][e]+t[21][e],P=.972568237862*(t[10][e]-t[21][e]),E=t[11][e]+t[20][e],x=1.16943993343*(t[11][e]-t[20][e]),I=t[12][e]+t[19][e],C=1.48416461631*(t[12][e]-t[19][e]),O=t[13][e]+t[18][e],k=2.05778100995*(t[13][e]-t[18][e]),M=t[14][e]+t[17][e],N=3.40760841847*(t[14][e]-t[17][e]),B=n+(R=t[15][e]+t[16][e]),R=.502419286188*(n-R),n=r+M,M=.52249861494*(r-M),r=h+O,O=.566944034816*(h-O),h=c+I,I=.64682178336*(c-I),c=u+E,E=.788154623451*(u-E),u=f+S,S=1.06067768599*(f-S),f=_+w,w=1.72244709824*(_-w),_=g+A,A=5.10114861869*(g-A),g=B+_,_=.509795579104*(B-_),B=n+f,n=.601344886935*(n-f),f=r+u,u=.899976223136*(r-u),r=h+c,c=2.56291544774*(h-c),h=g+r,g=.541196100146*(g-r),r=B+f,f=1.30656296488*(B-f),B=h+r,h=.707106781187*(h-r),r=g+f,r+=g=.707106781187*(g-f),f=_+c,_=.541196100146*(_-c),c=n+u,u=1.30656296488*(n-u),n=f+c,c=.707106781187*(f-c),f=_+u,n+=f+=_=.707106781187*(_-u),f+=c,c+=_,u=R+A,R=.509795579104*(R-A),A=M+w,M=.601344886935*(M-w),w=O+S,S=.899976223136*(O-S),O=I+E,E=2.56291544774*(I-E),I=u+O,u=.541196100146*(u-O),O=A+w,w=1.30656296488*(A-w),A=I+O,O=.707106781187*(I-O),I=u+w,w=.707106781187*(u-w),u=R+E,R=.541196100146*(R-E),E=M+S,S=1.30656296488*(M-S),M=u+E,E=.707106781187*(u-E),u=R+S,A+=M+=u+=R=.707106781187*(R-S),M+=I+=w,I+=u+=E,u+=O,O+=E+=R,E+=w,w+=R,S=o+(L=10.1900081235*(t[15][e]-t[16][e])),o=.502419286188*(o-L),L=a+N,a=.52249861494*(a-N),N=l+k,k=.566944034816*(l-k),l=d+C,d=.64682178336*(d-C),C=p+x,p=.788154623451*(p-x),x=m+P,P=1.06067768599*(m-P),m=v+b,b=1.72244709824*(v-b),v=T+y,T=5.10114861869*(T-y),y=S+v,v=.509795579104*(S-v),S=L+m,L=.601344886935*(L-m),m=N+x,x=.899976223136*(N-x),N=l+C,C=2.56291544774*(l-C),l=y+N,y=.541196100146*(y-N),N=S+m,m=1.30656296488*(S-m),S=l+N,N=.707106781187*(l-N),l=y+m,m=.707106781187*(y-m),y=v+C,C=.541196100146*(v-C),v=L+x,x=1.30656296488*(L-x),L=y+v,v=.707106781187*(y-v),y=C+x,L+=y+=x=.707106781187*(C-x),y+=v,C=v+x,v=o+T,o=.509795579104*(o-T),T=a+b,a=.601344886935*(a-b),b=k+P,P=.899976223136*(k-P),k=d+p,p=2.56291544774*(d-p),d=v+k,v=.541196100146*(v-k),k=T+b,b=1.30656296488*(T-b),T=d+k,k=.707106781187*(d-k),d=v+b,b=.707106781187*(v-b),v=o+p,o=.541196100146*(o-p),p=a+P,P=1.30656296488*(a-P),a=v+p,p=.707106781187*(v-p),v=o+P,S+=T+=a+=v+=o=.707106781187*(o-P),T+=L,L+=a+=d+=b,a+=l+=m,l+=d+=v+=p,d+=y,y+=v+=k,v+=N,N+=k+=p+=o,k+=C,C+=p+=b,p+=m,m+=b+=o,b+=x,x+=o,i[s+48]=-B,i[s+49]=i[s+47]=-S,i[s+50]=i[s+46]=-A,i[s+51]=i[s+45]=-T,i[s+52]=i[s+44]=-n,i[s+53]=i[s+43]=-L,i[s+54]=i[s+42]=-M,i[s+55]=i[s+41]=-a,i[s+56]=i[s+40]=-r,i[s+57]=i[s+39]=-l,i[s+58]=i[s+38]=-I,i[s+59]=i[s+37]=-d,i[s+60]=i[s+36]=-f,i[s+61]=i[s+35]=-y,i[s+62]=i[s+34]=-u,i[s+63]=i[s+33]=-v,i[s+32]=-h,i[s+0]=h,i[s+31]=-N,i[s+1]=N,i[s+30]=-O,i[s+2]=O,i[s+29]=-k,i[s+3]=k,i[s+28]=-c,i[s+4]=c,i[s+27]=-C,i[s+5]=C,i[s+26]=-E,i[s+6]=E,i[s+25]=-p,i[s+7]=p,i[s+24]=-g,i[s+8]=g,i[s+23]=-m,i[s+9]=m,i[s+22]=-w,i[s+10]=w,i[s+21]=-b,i[s+11]=b,i[s+20]=-_,i[s+12]=_,i[s+19]=-x,i[s+13]=x,i[s+18]=-R,i[s+14]=R,i[s+17]=-o,i[s+15]=o,i[s+16]=0},O.FRAME_SYNC=2047,O.VERSION={MPEG_2_5:0,MPEG_2:2,MPEG_1:3},O.LAYER={III:1,II:2,I:3},O.MODE={STEREO:0,JOINT_STEREO:1,DUAL_CHANNEL:2,MONO:3},O.SAMPLE_RATE=new Uint16Array([44100,48e3,32e3,0,22050,24e3,16e3,0]),O.BIT_RATE=new Uint16Array([32,48,56,64,80,96,112,128,160,192,224,256,320,384,8,16,24,32,40,48,56,64,80,96,112,128,144,160]),O.SCALEFACTOR_BASE=new Uint32Array([33554432,26632170,21137968]),O.SYNTHESIS_WINDOW=new Float32Array([0,-.5,-.5,-.5,-.5,-.5,-.5,-1,-1,-1,-1,-1.5,-1.5,-2,-2,-2.5,-2.5,-3,-3.5,-3.5,-4,-4.5,-5,-5.5,-6.5,-7,-8,-8.5,-9.5,-10.5,-12,-13,-14.5,-15.5,-17.5,-19,-20.5,-22.5,-24.5,-26.5,-29,-31.5,-34,-36.5,-39.5,-42.5,-45.5,-48.5,-52,-55.5,-58.5,-62.5,-66,-69.5,-73.5,-77,-80.5,-84.5,-88,-91.5,-95,-98,-101,-104,106.5,109,111,112.5,113.5,114,114,113.5,112,110.5,107.5,104,100,94.5,88.5,81.5,73,63.5,53,41.5,28.5,14.5,-1,-18,-36,-55.5,-76.5,-98.5,-122,-147,-173.5,-200.5,-229.5,-259.5,-290.5,-322.5,-355.5,-389.5,-424,-459.5,-495.5,-532,-568.5,-605,-641.5,-678,-714,-749,-783.5,-817,-849,-879.5,-908.5,-935,-959.5,-981,-1000.5,-1016,-1028.5,-1037.5,-1042.5,-1043.5,-1040,-1031.5,1018.5,1e3,976,946.5,911,869.5,822,767.5,707,640,565.5,485,397,302.5,201,92.5,-22.5,-144,-272.5,-407,-547.5,-694,-846,-1003,-1165,-1331.5,-1502,-1675.5,-1852.5,-2031.5,-2212.5,-2394,-2576.5,-2758.5,-2939.5,-3118.5,-3294.5,-3467.5,-3635.5,-3798.5,-3955,-4104.5,-4245.5,-4377.5,-4499,-4609.5,-4708,-4792.5,-4863.5,-4919,-4958,-4979.5,-4983,-4967.5,-4931.5,-4875,-4796,-4694.5,-4569.5,-4420,-4246,-4046,-3820,-3567,3287,2979.5,2644,2280.5,1888,1467.5,1018.5,541,35,-499,-1061,-1650,-2266.5,-2909,-3577,-4270,-4987.5,-5727.5,-6490,-7274,-8077.5,-8899.5,-9739,-10594.5,-11464.5,-12347,-13241,-14144.5,-15056,-15973.5,-16895.5,-17820,-18744.5,-19668,-20588,-21503,-22410.5,-23308.5,-24195,-25068.5,-25926.5,-26767,-27589,-28389,-29166.5,-29919,-30644.5,-31342,-32009.5,-32645,-33247,-33814.5,-34346,-34839.5,-35295,-35710,-36084.5,-36417.5,-36707.5,-36954,-37156.5,-37315,-37428,-37496,37519,37496,37428,37315,37156.5,36954,36707.5,36417.5,36084.5,35710,35295,34839.5,34346,33814.5,33247,32645,32009.5,31342,30644.5,29919,29166.5,28389,27589,26767,25926.5,25068.5,24195,23308.5,22410.5,21503,20588,19668,18744.5,17820,16895.5,15973.5,15056,14144.5,13241,12347,11464.5,10594.5,9739,8899.5,8077.5,7274,6490,5727.5,4987.5,4270,3577,2909,2266.5,1650,1061,499,-35,-541,-1018.5,-1467.5,-1888,-2280.5,-2644,-2979.5,3287,3567,3820,4046,4246,4420,4569.5,4694.5,4796,4875,4931.5,4967.5,4983,4979.5,4958,4919,4863.5,4792.5,4708,4609.5,4499,4377.5,4245.5,4104.5,3955,3798.5,3635.5,3467.5,3294.5,3118.5,2939.5,2758.5,2576.5,2394,2212.5,2031.5,1852.5,1675.5,1502,1331.5,1165,1003,846,694,547.5,407,272.5,144,22.5,-92.5,-201,-302.5,-397,-485,-565.5,-640,-707,-767.5,-822,-869.5,-911,-946.5,-976,-1e3,1018.5,1031.5,1040,1043.5,1042.5,1037.5,1028.5,1016,1000.5,981,959.5,935,908.5,879.5,849,817,783.5,749,714,678,641.5,605,568.5,532,495.5,459.5,424,389.5,355.5,322.5,290.5,259.5,229.5,200.5,173.5,147,122,98.5,76.5,55.5,36,18,1,-14.5,-28.5,-41.5,-53,-63.5,-73,-81.5,-88.5,-94.5,-100,-104,-107.5,-110.5,-112,-113.5,-114,-114,-113.5,-112.5,-111,-109,106.5,104,101,98,95,91.5,88,84.5,80.5,77,73.5,69.5,66,62.5,58.5,55.5,52,48.5,45.5,42.5,39.5,36.5,34,31.5,29,26.5,24.5,22.5,20.5,19,17.5,15.5,14.5,13,12,10.5,9.5,8.5,8,7,6.5,5.5,5,4.5,4,3.5,3.5,3,2.5,2.5,2,2,1.5,1.5,1,1,1,1,.5,.5,.5,.5,.5,.5]),O.QUANT_LUT_STEP_1=[[0,0,1,1,1,2,2,2,2,2,2,2,2,2],[0,0,0,0,0,0,1,1,1,2,2,2,2,2]],O.QUANT_TAB={A:91,B:94,C:8,D:12},O.QUANT_LUT_STEP_2=[[O.QUANT_TAB.C,O.QUANT_TAB.C,O.QUANT_TAB.D],[O.QUANT_TAB.A,O.QUANT_TAB.A,O.QUANT_TAB.A],[O.QUANT_TAB.B,O.QUANT_TAB.A,O.QUANT_TAB.B]],O.QUANT_LUT_STEP_3=[[68,68,52,52,52,52,52,52,52,52,52,52],[67,67,67,66,66,66,66,66,66,66,66,49,49,49,49,49,49,49,49,49,49,49,49,32,32,32,32,32,32,32],[69,69,69,69,52,52,52,52,52,52,52,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36]],O.QUANT_LUT_STEP4=[[0,1,2,17],[0,1,2,3,4,5,6,17],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,17],[0,1,3,5,6,7,8,9,10,11,12,13,14,15,16,17],[0,1,2,4,5,6,7,8,9,10,11,12,13,14,15,17],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]],O.QUANT_TAB=[{levels:3,group:1,bits:5},{levels:5,group:1,bits:7},{levels:7,group:0,bits:3},{levels:9,group:1,bits:10},{levels:15,group:0,bits:4},{levels:31,group:0,bits:5},{levels:63,group:0,bits:6},{levels:127,group:0,bits:7},{levels:255,group:0,bits:8},{levels:511,group:0,bits:9},{levels:1023,group:0,bits:10},{levels:2047,group:0,bits:11},{levels:4095,group:0,bits:12},{levels:8191,group:0,bits:13},{levels:16383,group:0,bits:14},{levels:32767,group:0,bits:15},{levels:65535,group:0,bits:16}],O}(),JSMpeg.Renderer.WebGL=function(){"use strict";var r=function(t){this.canvas=t.canvas||document.createElement("canvas"),this.width=this.canvas.width,this.height=this.canvas.height,this.enabled=!0;var e={preserveDrawingBuffer:!!t.preserveDrawingBuffer,alpha:!1,depth:!1,stencil:!1,antialias:!1};if(this.gl=this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e),!this.gl)throw new Error("Failed to get WebGL Context");var i=this.gl,s=null,n=i.createBuffer(),o=new Float32Array([0,0,0,1,1,0,1,1]);i.bindBuffer(i.ARRAY_BUFFER,n),i.bufferData(i.ARRAY_BUFFER,o,i.STATIC_DRAW),this.program=this.createProgram(r.SHADER.VERTEX_IDENTITY,r.SHADER.FRAGMENT_YCRCB_TO_RGBA),s=i.getAttribLocation(this.program,"vertex"),i.enableVertexAttribArray(s),i.vertexAttribPointer(s,2,i.FLOAT,!1,0,0),this.textureY=this.createTexture(0,"textureY"),this.textureCb=this.createTexture(1,"textureCb"),this.textureCr=this.createTexture(2,"textureCr"),this.loadingProgram=this.createProgram(r.SHADER.VERTEX_IDENTITY,r.SHADER.FRAGMENT_LOADING),s=i.getAttribLocation(this.loadingProgram,"vertex"),i.enableVertexAttribArray(s),i.vertexAttribPointer(s,2,i.FLOAT,!1,0,0),this.shouldCreateUnclampedViews=!this.allowsClampedTextureData()};return r.prototype.resize=function(t,e){this.width=0|t,this.height=0|e,this.canvas.width=this.width,this.canvas.height=this.height,this.gl.useProgram(this.program),this.gl.viewport(0,0,this.width,this.height)},r.prototype.createTexture=function(t,e){var i=this.gl,s=i.createTexture();return i.bindTexture(i.TEXTURE_2D,s),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.uniform1i(i.getUniformLocation(this.program,e),t),s},r.prototype.createProgram=function(t,e){var i=this.gl,s=i.createProgram();return i.attachShader(s,this.compileShader(i.VERTEX_SHADER,t)),i.attachShader(s,this.compileShader(i.FRAGMENT_SHADER,e)),i.linkProgram(s),i.useProgram(s),s},r.prototype.compileShader=function(t,e){var i=this.gl,s=i.createShader(t);if(i.shaderSource(s,e),i.compileShader(s),!i.getShaderParameter(s,i.COMPILE_STATUS))throw new Error(i.getShaderInfoLog(s));return s},r.prototype.allowsClampedTextureData=function(){var t=this.gl,e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,t.LUMINANCE,1,1,0,t.LUMINANCE,t.UNSIGNED_BYTE,new Uint8ClampedArray([0])),0===t.getError()},r.prototype.renderProgress=function(t){var e=this.gl,i=e.getUniformLocation(this.loadingProgram,"progress");e.uniform1f(i,t),e.drawArrays(e.TRIANGLE_STRIP,0,4)},r.prototype.render=function(t,e,i){if(this.enabled){var s=this.gl,n=this.width+15>>4<<4,o=this.height,r=n>>1,a=o>>1;this.shouldCreateUnclampedViews&&(t=new Uint8Array(t.buffer),e=new Uint8Array(e.buffer),i=new Uint8Array(i.buffer)),this.updateTexture(s.TEXTURE0,this.textureY,n,o,t),this.updateTexture(s.TEXTURE1,this.textureCb,r,a,e),this.updateTexture(s.TEXTURE2,this.textureCr,r,a,i),s.drawArrays(s.TRIANGLE_STRIP,0,4)}},r.prototype.updateTexture=function(t,e,i,s,n){var o=this.gl;o.activeTexture(t),o.bindTexture(o.TEXTURE_2D,e),o.texImage2D(o.TEXTURE_2D,0,o.LUMINANCE,i,s,0,o.LUMINANCE,o.UNSIGNED_BYTE,n)},r.IsSupported=function(){try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas");return!(!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(t){return!1}},r.SHADER={FRAGMENT_YCRCB_TO_RGBA:["precision mediump float;","uniform sampler2D textureY;","uniform sampler2D textureCb;","uniform sampler2D textureCr;","varying vec2 texCoord;","mat4 rec601 = mat4(","1.16438,  0.00000,  1.59603, -0.87079,","1.16438, -0.39176, -0.81297,  0.52959,","1.16438,  2.01723,  0.00000, -1.08139,","0, 0, 0, 1",");","void main() {","float y = texture2D(textureY, texCoord).r;","float cb = texture2D(textureCb, texCoord).r;","float cr = texture2D(textureCr, texCoord).r;","gl_FragColor = vec4(y, cr, cb, 1.0) * rec601;","}"].join("\n"),FRAGMENT_LOADING:["precision mediump float;","uniform float progress;","varying vec2 texCoord;","void main() {","float c = ceil(progress-(1.0-texCoord.y));","gl_FragColor = vec4(c,c,c,1);","}"].join("\n"),VERTEX_IDENTITY:["attribute vec2 vertex;","varying vec2 texCoord;","void main() {","texCoord = vertex;","gl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);","}"].join("\n")},r}(),JSMpeg.Renderer.Canvas2D=function(){"use strict";var t=function(t){this.canvas=t.canvas||document.createElement("canvas"),this.width=this.canvas.width,this.height=this.canvas.height,this.enabled=!0,this.context=this.canvas.getContext("2d")};return t.prototype.resize=function(t,e){this.width=0|t,this.height=0|e,this.canvas.width=this.width,this.canvas.height=this.height,this.imageData=this.context.getImageData(0,0,this.width,this.height),JSMpeg.Fill(this.imageData.data,255)},t.prototype.renderProgress=function(t){var e=this.canvas.width,i=this.canvas.height,s=this.context;s.fillStyle="#222",s.fillRect(0,0,e,i),s.fillStyle="#fff",s.fillRect(0,i-i*t,e,i*t)},t.prototype.render=function(t,e,i){this.YCbCrToRGBA(t,e,i,this.imageData.data),this.context.putImageData(this.imageData,0,0)},t.prototype.YCbCrToRGBA=function(t,e,i,s){if(this.enabled)for(var n,o,r,a,h,l=this.width+15>>4<<4,c=l>>1,d=0,u=l,p=l+(l-this.width),f=0,m=c-(this.width>>1),_=0,v=4*this.width,g=4*this.width,T=this.width>>1,A=this.height>>1,y=0;y<A;y++){for(var w=0;w<T;w++){n=e[f],o=i[f],f++,r=n+(103*n>>8)-179,a=(88*o>>8)-44+(183*n>>8)-91,h=o+(198*o>>8)-227;var b=t[d++],S=t[d++];s[_]=b+r,s[_+1]=b-a,s[_+2]=b+h,s[_+4]=S+r,s[_+5]=S-a,s[_+6]=S+h,_+=8;var P=t[u++],E=t[u++];s[v]=P+r,s[v+1]=P-a,s[v+2]=P+h,s[v+4]=E+r,s[v+5]=E-a,s[v+6]=E+h,v+=8}d+=p,u+=p,_+=g,v+=g,f+=m}},t}(),JSMpeg.AudioOutput.WebAudio=function(){"use strict";var e=function(t){this.context=e.CachedContext=e.CachedContext||new(window.AudioContext||window.webkitAudioContext),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.destination=this.gain,this.startTime=0,this.buffer=null,this.wallclockStartTime=0,this.volume=1,this.enabled=!0,this.unlocked=!e.NeedsUnlocking(),Object.defineProperty(this,"enqueuedTime",{get:this.getEnqueuedTime})};return e.prototype.play=function(t,e,i){if(this.enabled){if(!this.unlocked){var s=JSMpeg.Now();return this.wallclockStartTime<s&&(this.wallclockStartTime=s),void(this.wallclockStartTime+=e.length/t)}this.gain.gain.value=this.volume;var n=this.context.createBuffer(2,e.length,t);n.getChannelData(0).set(e),n.getChannelData(1).set(i);var o=this.context.createBufferSource();o.buffer=n,o.connect(this.destination);var r=this.context.currentTime,a=n.duration;this.startTime<r&&(this.startTime=r,this.wallclockStartTime=JSMpeg.Now()),o.start(this.startTime),this.startTime+=a,this.wallclockStartTime+=a}},e.prototype.stop=function(){this.gain.gain.value=0},e.prototype.getEnqueuedTime=function(){return Math.max(this.wallclockStartTime-JSMpeg.Now(),0)},e.prototype.resetEnqueuedTime=function(){this.startTime=this.context.currentTime,this.wallclockStartTime=JSMpeg.Now()},e.prototype.unlock=function(t){if(this.unlocked)t&&t();else{this.unlockCallback=t;var e=this.context.createBuffer(1,1,22050),i=this.context.createBufferSource();i.buffer=e,i.connect(this.destination),i.start(0),setTimeout(this.checkIfUnlocked.bind(this,i,0),0)}},e.prototype.checkIfUnlocked=function(t,e){t.playbackState===t.PLAYING_STATE||t.playbackState===t.FINISHED_STATE?(this.unlocked=!0,this.unlockCallback&&(this.unlockCallback(),this.unlockCallback=null)):e<10&&setTimeout(this.checkIfUnlocked.bind(this,t,e+1),100)},e.NeedsUnlocking=function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},e.IsSupported=function(){return window.AudioContext||window.webkitAudioContext},e.CachedContext=null,e}();var ANI5_POS_NONE=0,ANI5_POS_TOP=1,ANI5_POS_TOP_RIGHT=2,ANI5_POS_RIGHT=3,ANI5_POS_BOTTOM_RIGHT=4,ANI5_POS_BOTTOM=5,ANI5_POS_BOTTOM_LEFT=6,ANI5_POS_LEFT=7,ANI5_POS_TOP_LEFT=8,ANI5_POS_CENTER=9,A5P_TLL=11,A5P_TRR=12,A5P_BRR=13,A5P_BLL=14,VPC_NONE=0,VPC_IMAGE=1,VPC_VIDEO=2,VPC_ANIM=3,VPC_LINK=4,VPC_FRAME=8,VPC_VIPLUS=21,ANI5_CONTENT_NONE=0,ANI5_CONTENT_IMAGE=1,ANI5_CONTENT_VIDEO=2,ANI5_CONTENT_ANIM=3,ANI5_CONTENT_LINK=4,ANI5_CONTENT_FRAME=8,ANI5_CONTENT_VIPLUS=21,V5ASSET_IMAGE=1,V5ASSET_VIDEO=2,V5ASSET_ANIM=3,V5ASSET_AUDIO=5,V5ASSET_JS=11,ANI5_ASSET_TYPE_IMAGE=1,ANI5_ASSET_TYPE_VIDEO=2,ANI5_ASSET_TYPE_ANIM=3,ANI5_ASSET_TYPE_AUDIO=5,ANI5_ASSET_TYPE_JS=11,ANI5_APPEAR_SHOW=1,ANI5_APPEAR_FADEIN=2,ANI5_APPEAR_ENLARGE=3,ANI5_APPEAR_MOVE=4,ANI5_APPEAR_SLIDE_FROM_TOP=5,ANI5_APPEAR_SLIDE_FROM_RIGHT=6,ANI5_APPEAR_SLIDE_FROM_BOTTOM=7,ANI5_APPEAR_SLIDE_FROM_LEFT=8,ANI5_ALERTANIM_PULSE=11,ANI5_ALERTANIM_SHAKE=12,ANI5_ALERTANIM_FADE=13,ANI5_ALERTANIM_HIGHLIGHT=14,ANI5_APPEAR_LOOKOUT=21,ANI5_FONTS={1:"'Helvetica Neue', Helvetica, Arial, sans-serif",2:"'Arial Black', Gadget, sans-serif",3:"'Comic Sans MS', cursive, sans-serif",4:"Impact, Charcoal, sans-serif",5:"Tahoma, Geneva, sans-serif",6:"Verdana, Geneva, sans-serif",7:"Georgia, serif",8:"'Times New Roman', Times, serif",9:"'Courier New', Courier, monospace"},ANI5_DEFAULT_VOLUME=.3,ANI5_MINIPLAY=4,ANI5_POSTER=5,ANI5_ROLLOUT=6,ANI5_LOOKOUT=7,ANI5_MULTIPLAY=21,ANI5_WOWPLAY=22;function v5(t){var e="undefined"!=typeof v5ViPlusWrapper&&v5ViPlusWrapper.slot?v5ViPlusWrapper.slot.ownerDocument:window.document;return 0===t.indexOf(".")?e.getElementsByClassName(t.replace(".","")):0===t.indexOf("#")?e.getElementById(t.replace("#","")):e.getElementsByTagName(t)}function v5dom(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild}function v5css(t,e){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++)if(t[i])for(var s in e)t[i].style[s]=e[s]}function v5script(t,e,i){var s=(i=i||document).createElement("script");s.async=1,s.src=t,"function"==typeof e&&(s.onload=e),i.body.appendChild(s)}function v5request(t,e,i,s,n,o,r,a){i=i||{},r=void 0===r||r,a=void 0===a||a,"undefined"!=typeof v5ViPlusWrapper&&v5ViPlusWrapper.type===VP_WRAPPER_MRAID&&(r=!1);var h=[];for(var l in i)h.push(l+"="+encodeURIComponent(i[l]));h="GET"===t?h.length?"?"+h.join("&"):"":h.join("&");var c=new XMLHttpRequest;c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE)if(200===c.status){var t=c.responseText;""!==t&&"json"===o&&(t=JSON.parse(t)),"function"==typeof s&&s.apply(null,[t])}else"function"==typeof n&&n.apply(null,[c.status])},r&&a&&(e+=(-1===e.indexOf("?")?"?":"&")+"_a5acao="+encodeURIComponent(v5Browser.proto+"//"+document.location.host)),c.open(t,e,!0),"POST"===t&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r&&(c.withCredentials=!0),c.send(h)}function v5extend(t,e){var i=function(){};for(var s in i.prototype=e.prototype,t.prototype=new i,(t.prototype.constructor=t).parent=e.prototype,e)void 0===t[s]&&(t[s]=e[s])}function v5rand(t,e){return Math.round(Math.random()*(e-t)+t)}function v5time(){return Math.round(Date.now()/1e3)}function v5empty(t){return null==t||""===t||0===t||"0"===t}function v5len(t){if(Array.isArray(t)||"string"==typeof t)return t.length;if("object"==typeof t){var e=0;for(var i in t)e++;return e}return null}function v5shuffleArray(t){var e,i,s;for(s=t.length;s;s-=1)e=Math.floor(Math.random()*s),i=t[s-1],t[s-1]=t[e],t[e]=i}function v5merge(){for(var t=[].shift.call(arguments),e=0;e<arguments.length;e++)if(Array.isArray(t))for(var i=0;i<arguments[e].length;i++)t.push(arguments[e][i]);else for(var i in arguments[e])t[i]=arguments[e][i];return t}function v5log(t){console.log.apply(console,arguments)}function v5cast(e,t){switch(t){case"int":try{e=parseInt(e)}catch(t){e=null}break;case"float":try{e=parseFloat(e)}catch(t){e=null}}return e}function v5getUrlParam(t,e,i,s){if(s=s||null,!(e=e||window.location.search||null)||-1===e.indexOf("?"))return null;i=i||"string";for(var n=e.split("?")[1].split("&"),o=null,r=0;r<n.length;r++){var a=n[r].split("=");a[0]===t&&(o=a[1])}return o&&(o=v5cast(o,i)),null!==o?o:s}function v5getHashParam(t,e,i){i=i||null,e=e||"string";var s=window.location.hash.replace("#","");if(!s)return i;for(var n=s.split("&"),o=null,r=0;r<n.length;r++){var a=n[r].split("=");a[0]===t&&(o=a[1])}return o&&(o=v5cast(o,e)),null!==o?o:i}function v5getCookie(t){try{var e=localStorage.getItem(t);if(null!==e)return e}catch(t){}for(var i=document.cookie.split(";"),s=0;s<i.length;s++){var n=i[s].replace(/^\s*/,"").split("=");if(n[0]===t)return n[1]}return null}function v5setCookie(t,e,i,s){try{localStorage.setItem(t,e)}catch(t){}var n=(s=s||{}).path||"/",o=s.expires||86400,r=new Date;r.setTime(r.getTime()+1e3*o),document.cookie=t+"="+e+"; path="+n+"; expires="+r.toUTCString()}function v5removeCookie(t,e){return v5setCookie(t,null,e,{expires:-1})}function v4getCookie(t){for(var e=document.cookie.split(";"),i=0;i<e.length;i++){var s=e[i].replace(/^\s*/,"").split("=");if(s[0]===t)return s[1]}return null}function v4setCookie(t,e,i){var s=(i=i||{}).path||"/",n=i.expires||86400,o=new Date;o.setTime(o.getTime()+1e3*n),document.cookie=t+"="+e+"; path="+s+"; expires="+o.toUTCString()}function v4removeCookie(t){return v4setCookie(t,null,{expires:-1})}v5ready=function(t){},function(t,e){var i=[],s=!1,n=!1;function o(){if(!s){s=!0;for(var t=0;t<i.length;t++)i[t].fn.call(window,i[t].ctx);i=[]}}function r(){"complete"===document.readyState&&o()}e.v5ready=function(t,e){s?setTimeout(function(){t(e)},1):(i.push({fn:t,ctx:e}),"complete"===document.readyState?setTimeout(o,1):n||(document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):(document.attachEvent("onreadystatechange",r),window.attachEvent("onload",o)),n=!0))}}(0,window),void 0===Object.assign&&(Object.assign=function(){return v5merge.apply(null,arguments)}),v5md5=function(t){function o(t,e){var i=t[0],s=t[1],n=t[2],o=t[3];s=c(s=c(s=c(s=c(s=l(s=l(s=l(s=l(s=h(s=h(s=h(s=h(s=r(s=r(s=r(s=r(s,n=r(n,o=r(o,i=r(i,s,n,o,e[0],7,-680876936),s,n,e[1],12,-389564586),i,s,e[2],17,606105819),o,i,e[3],22,-1044525330),n=r(n,o=r(o,i=r(i,s,n,o,e[4],7,-176418897),s,n,e[5],12,1200080426),i,s,e[6],17,-1473231341),o,i,e[7],22,-45705983),n=r(n,o=r(o,i=r(i,s,n,o,e[8],7,1770035416),s,n,e[9],12,-1958414417),i,s,e[10],17,-42063),o,i,e[11],22,-1990404162),n=r(n,o=r(o,i=r(i,s,n,o,e[12],7,1804603682),s,n,e[13],12,-40341101),i,s,e[14],17,-1502002290),o,i,e[15],22,1236535329),n=h(n,o=h(o,i=h(i,s,n,o,e[1],5,-165796510),s,n,e[6],9,-1069501632),i,s,e[11],14,643717713),o,i,e[0],20,-373897302),n=h(n,o=h(o,i=h(i,s,n,o,e[5],5,-701558691),s,n,e[10],9,38016083),i,s,e[15],14,-660478335),o,i,e[4],20,-405537848),n=h(n,o=h(o,i=h(i,s,n,o,e[9],5,568446438),s,n,e[14],9,-1019803690),i,s,e[3],14,-187363961),o,i,e[8],20,1163531501),n=h(n,o=h(o,i=h(i,s,n,o,e[13],5,-1444681467),s,n,e[2],9,-51403784),i,s,e[7],14,1735328473),o,i,e[12],20,-1926607734),n=l(n,o=l(o,i=l(i,s,n,o,e[5],4,-378558),s,n,e[8],11,-2022574463),i,s,e[11],16,1839030562),o,i,e[14],23,-35309556),n=l(n,o=l(o,i=l(i,s,n,o,e[1],4,-1530992060),s,n,e[4],11,1272893353),i,s,e[7],16,-155497632),o,i,e[10],23,-1094730640),n=l(n,o=l(o,i=l(i,s,n,o,e[13],4,681279174),s,n,e[0],11,-358537222),i,s,e[3],16,-722521979),o,i,e[6],23,76029189),n=l(n,o=l(o,i=l(i,s,n,o,e[9],4,-640364487),s,n,e[12],11,-421815835),i,s,e[15],16,530742520),o,i,e[2],23,-995338651),n=c(n,o=c(o,i=c(i,s,n,o,e[0],6,-198630844),s,n,e[7],10,1126891415),i,s,e[14],15,-1416354905),o,i,e[5],21,-57434055),n=c(n,o=c(o,i=c(i,s,n,o,e[12],6,1700485571),s,n,e[3],10,-1894986606),i,s,e[10],15,-1051523),o,i,e[1],21,-2054922799),n=c(n,o=c(o,i=c(i,s,n,o,e[8],6,1873313359),s,n,e[15],10,-30611744),i,s,e[6],15,-1560198380),o,i,e[13],21,1309151649),n=c(n,o=c(o,i=c(i,s,n,o,e[4],6,-145523070),s,n,e[11],10,-1120210379),i,s,e[2],15,718787259),o,i,e[9],21,-343485551),t[0]=u(i,t[0]),t[1]=u(s,t[1]),t[2]=u(n,t[2]),t[3]=u(o,t[3])}function a(t,e,i,s,n,o){return e=u(u(e,t),u(s,o)),u(e<<n|e>>>32-n,i)}function r(t,e,i,s,n,o,r){return a(e&i|~e&s,t,e,n,o,r)}function h(t,e,i,s,n,o,r){return a(e&s|i&~s,t,e,n,o,r)}function l(t,e,i,s,n,o,r){return a(e^i^s,t,e,n,o,r)}function c(t,e,i,s,n,o,r){return a(i^(e|~s),t,e,n,o,r)}function d(t){var e,i=[];for(e=0;e<64;e+=4)i[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return i}var s="0123456789abcdef".split("");function i(t){for(var e="",i=0;i<4;i++)e+=s[t>>8*i+4&15]+s[t>>8*i&15];return e}function e(t){return function(t){for(var e=0;e<t.length;e++)t[e]=i(t[e]);return t.join("")}(function(t){txt="";var e,i=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)o(s,d(t.substring(e-64,e)));t=t.substring(e-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)n[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(n[e>>2]|=128<<(e%4<<3),55<e)for(o(s,n),e=0;e<16;e++)n[e]=0;return n[14]=8*i,o(s,n),s}(t))}function u(t,e){return t+e&4294967295}if("5d41402abc4b2a76b9719d911017c592"!=e("hello"))function u(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}return e(t)};var v5CanvasFingerprint={parsePng:function(t){var e,i,s,n,o,r,a,h,l=new DataView(t),c=t.byteLength,d=[],u=0;if(e=l.getUint32(u),u+=4,i=l.getUint32(u),u+=4,2303741511===e&&218765834===i){for(;u<c;)s=l.getUint32(u),a=l.getUint32(u+4),h=void 0,n=(h=String.fromCharCode)((4278190080&a)>>>24)+h((16711680&a)>>>16)+h((65280&a)>>>8)+h((255&a)>>>0),u=(r=u+8)+s,o=l.getUint32(u),u+=4,d.push({fourCC:n,size:s,offset:r,crc:o});return{chunks:d}}return console.log("Not a PNG file."),null},base64ToArrayBuffer:function(t){for(var e=atob(t),i=e.length,s=new Uint8Array(i),n=0;n<i;n++)s[n]=e.charCodeAt(n);return s.buffer},getFontsFingerprint:function(){"default;sans-serif;serif;monospace;cursive;fantasy;AIGDT;AMGDT;AcadEref;Adobe Arabic;Adobe Caslon Pro;Adobe Caslon Pro Bold;Adobe Devanagari;Adobe Fan Heiti Std B;Adobe Fangsong Std R;Adobe Garamond Pro;Adobe Garamond Pro Bold;Adobe Gothic Std B;Adobe Hebrew;Adobe Heiti Std R;Adobe Kaiti Std R;Adobe Ming Std L;Adobe Myungjo Std M;Adobe Naskh Medium;Adobe Song Std L;Agency FB;Aharoni;Alexandra Script;Algerian;Amadeus;AmdtSymbols;AnastasiaScript;Andalus;Angsana New;AngsanaUPC;Annabelle;Aparajita;Arabic Transparent;Arabic Typesetting;Arial;Arial Baltic;Arial Black;Arial CE;Arial CYR;Arial Cyr;Arial Greek;Arial Narrow;Arial Rounded MT Bold;Arial TUR;Arial Unicode MS;Ariston;Arno Pro;Arno Pro Caption;Arno Pro Display;Arno Pro Light Display;Arno Pro SmText;Arno Pro Smbd;Arno Pro Smbd Caption;Arno Pro Smbd Display;Arno Pro Smbd SmText;Arno Pro Smbd Subhead;Arno Pro Subhead;BankGothic Lt BT;BankGothic Md BT;Baskerville Old Face;Batang;BatangChe;Bauhaus 93;Bell Gothic Std Black;Bell Gothic Std Light;Bell MT;Berlin Sans FB;Berlin Sans FB Demi;Bernard MT Condensed;Bickham Script One;Bickham Script Pro Regular;Bickham Script Pro Semibold;Bickham Script Two;Birch Std;Blackadder ITC;Blackoak Std;Bodoni MT;Bodoni MT Black;Bodoni MT Condensed;Bodoni MT Poster Compressed;Book Antiqua;Bookman Old Style;Bookshelf Symbol 7;Bradley Hand ITC;Britannic Bold;Broadway;Browallia New;BrowalliaUPC;Brush Script MT;Brush Script Std;Calibri;Calibri Light;Californian FB;Calisto MT;Calligraph;Cambria;Cambria Math;Candara;Carolina;Castellar;Centaur;Century;Century Gothic;Century Schoolbook;Ceremonious Two;Chaparral Pro;Chaparral Pro Light;Charlemagne Std;Chiller;CityBlueprint;Clarendon BT;Clarendon Blk BT;Clarendon Lt BT;Colonna MT;Comic Sans MS;CommercialPi BT;CommercialScript BT;Complex;Consolas;Constantia;Cooper Black;Cooper Std Black;Copperplate Gothic Bold;Copperplate Gothic Light;Copyist;Corbel;Cordia New;CordiaUPC;CountryBlueprint;Courier;Courier New;Courier New Baltic;Courier New CE;Courier New CYR;Courier New Cyr;Courier New Greek;Courier New TUR;Curlz MT;DFKai-SB;DaunPenh;David;Decor;DejaVu Sans;DejaVu Sans Condensed;DejaVu Sans Light;DejaVu Sans Mono;DejaVu Serif;DejaVu Serif Condensed;DilleniaUPC;DokChampa;Dotum;DotumChe;Dutch801 Rm BT;Dutch801 XBd BT;Ebrima;Eccentric Std;Edwardian Script ITC;Elephant;Engravers MT;Eras Bold ITC;Eras Demi ITC;Eras Light ITC;Eras Medium ITC;Estrangelo Edessa;EucrosiaUPC;Euphemia;EuroRoman;Eurostile;FangSong;Felix Titling;Fixedsys;Footlight MT Light;Forte;FrankRuehl;Franklin Gothic Book;Franklin Gothic Demi;Franklin Gothic Demi Cond;Franklin Gothic Heavy;Franklin Gothic Medium;Franklin Gothic Medium Cond;Freehand521 BT;FreesiaUPC;Freestyle Script;French Script MT;Futura Md BT;GDT;GENISO;Gabriola;Gadugi;Garamond;Garamond Premr Pro;Garamond Premr Pro Smbd;Gautami;Gentium Basic;Gentium Book Basic;Georgia;Giddyup Std;Gigi;Gill Sans MT;Gill Sans MT Condensed;Gill Sans MT Ext Condensed Bold;Gill Sans Ultra Bold;Gill Sans Ultra Bold Condensed;Gisha;Gloucester MT Extra Condensed;GothicE;GothicG;GothicI;Goudy Old Style;Goudy Stout;GreekC;GreekS;Gulim;GulimChe;Gungsuh;GungsuhChe;Haettenschweiler;Harlow Solid Italic;Harrington;Heather Script One;Helvetica;High Tower Text;Hobo Std;ISOCP;ISOCP2;ISOCP3;ISOCPEUR;ISOCT;ISOCT2;ISOCT3;ISOCTEUR;Impact;Imprint MT Shadow;Informal Roman;IrisUPC;Iskoola Pota;Italic;ItalicC;ItalicT;JasmineUPC;Jokerman;Juice ITC;KaiTi;Kalinga;Kartika;Khmer UI;KodchiangUPC;Kokila;Kozuka Gothic Pr6N B;Kozuka Gothic Pr6N EL;Kozuka Gothic Pr6N H;Kozuka Gothic Pr6N L;Kozuka Gothic Pr6N M;Kozuka Gothic Pr6N R;Kozuka Gothic Pro B;Kozuka Gothic Pro EL;Kozuka Gothic Pro H;Kozuka Gothic Pro L;Kozuka Gothic Pro M;Kozuka Gothic Pro R;Kozuka Mincho Pr6N B;Kozuka Mincho Pr6N EL;Kozuka Mincho Pr6N H;Kozuka Mincho Pr6N L;Kozuka Mincho Pr6N M;Kozuka Mincho Pr6N R;Kozuka Mincho Pro B;Kozuka Mincho Pro EL;Kozuka Mincho Pro H;Kozuka Mincho Pro L;Kozuka Mincho Pro M;Kozuka Mincho Pro R;Kristen ITC;Kunstler Script;Lao UI;Latha;Leelawadee;Letter Gothic Std;Levenim MT;Liberation Sans Narrow;LilyUPC;Lithos Pro Regular;Lucida Bright;Lucida Calligraphy;Lucida Console;Lucida Fax;Lucida Handwriting;Lucida Sans;Lucida Sans Typewriter;Lucida Sans Unicode;MS Gothic;MS Mincho;MS Outlook;MS PGothic;MS PMincho;MS Reference Sans Serif;MS Reference Specialty;MS Sans Serif;MS Serif;MS UI Gothic;MT Extra;MV Boli;Magneto;Maiandra GD;Malgun Gothic;Mangal;Marlett;Matura MT Script Capitals;Meiryo;Meiryo UI;Mesquite Std;Microsoft Himalaya;Microsoft JhengHei;Microsoft JhengHei UI;Microsoft New Tai Lue;Microsoft PhagsPa;Microsoft Sans Serif;Microsoft Tai Le;Microsoft Uighur;Microsoft YaHei;Microsoft YaHei UI;Microsoft Yi Baiti;MingLiU;MingLiU-ExtB;MingLiU_HKSCS;MingLiU_HKSCS-ExtB;Minion Pro;Minion Pro Cond;Minion Pro Med;Minion Pro SmBd;Miriam;Miriam Fixed;Mistral;Modern;Modern No. 20;Mongolian Baiti;Monospac821 BT;Monotxt;Monotype Corsiva;MoolBoran;Myriad Arabic;Myriad Hebrew;Myriad Pro;Myriad Pro Cond;Myriad Pro Light;Myriad Web Pro;NSimSun;Narkisim;Niagara Engraved;Niagara Solid;Nirmala UI;Nueva Std;Nueva Std Cond;Nyala;OCR A Extended;OCR A Std;OCR-A BT;OCR-B 10 BT;Old English Text MT;Onyx;OpenSymbol;Orator Std;Ouverture script;PMingLiU;PMingLiU-ExtB;Palace Script MT;Palatino Linotype;PanRoman;Papyrus;Parchment;Perpetua;Perpetua Titling MT;Plantagenet Cherokee;Playbill;Poor Richard;Poplar Std;Prestige Elite Std;Pristina;Proxy 1;Proxy 2;Proxy 3;Proxy 4;Proxy 5;Proxy 6;Proxy 7;Proxy 8;Proxy 9;Raavi;Rage Italic;Ravie;Rockwell;Rockwell Condensed;Rockwell Extra Bold;Rod;Roman;RomanC;RomanD;RomanS;RomanT;Romantic;Rosewood Std Regular;Sakkal Majalla;SansSerif;Script;Script MT Bold;ScriptC;ScriptS;Segoe Print;Segoe Script;Segoe UI;Segoe UI Light;Segoe UI Semibold;Segoe UI Semilight;Segoe UI Symbol;Shonar Bangla;Showcard Gothic;Shruti;SimHei;SimSun;SimSun-ExtB;Simplex;Simplified Arabic;Simplified Arabic Fixed;Small Fonts;Snap ITC;Square721 BT;Stencil;Stencil Std;Stylus BT;SuperFrench;Swis721 BT;Swis721 BdCnOul BT;Swis721 BdOul BT;Swis721 Blk BT;Swis721 BlkCn BT;Swis721 BlkEx BT;Swis721 BlkOul BT;Swis721 Cn BT;Swis721 Ex BT;Swis721 Hv BT;Swis721 Lt BT;Swis721 LtCn BT;Swis721 LtEx BT;Syastro;Sylfaen;Symap;Symath;Symbol;Symeteo;Symusic;System;Tahoma;TeamViewer8;Technic;TechnicBold;TechnicLite;Tekton Pro;Tekton Pro Cond;Tekton Pro Ext;Tempus Sans ITC;Terminal;Times New Roman;Times New Roman Baltic;Times New Roman CE;Times New Roman CYR;Times New Roman Cyr;Times New Roman Greek;Times New Roman TUR;Traditional Arabic;Trajan Pro;Trebuchet MS;Tunga;Tw Cen MT;Tw Cen MT Condensed;Tw Cen MT Condensed Extra Bold;Txt;UniversalMath1 BT;Utsaah;Vani;Verdana;Vijaya;Viner Hand ITC;Vineta BT;Vivaldi;Vladimir Script;Vrinda;WP Arabic Sihafa;WP ArabicScript Sihafa;WP CyrillicA;WP CyrillicB;WP Greek Century;WP Greek Courier;WP Greek Helve;WP Hebrew David;WP MultinationalA Courier;WP MultinationalA Helve;WP MultinationalA Roman;WP MultinationalB Courier;WP MultinationalB Helve;WP MultinationalB Roman;WST_Czec;WST_Engl;WST_Fren;WST_Germ;WST_Ital;WST_Span;WST_Swed;Webdings;Wide Latin;Wingdings;Wingdings 2;Wingdings 3;ZWAdobeF".split(";");var t=[];v5dom('<span style="font-size: 128px; visibility: hidden;">mmmmmmmmmmlli</span>');return{fonts:t,length:t.length,hash:v5md5(t.join(","))}},getOS:function(){var t=navigator.userAgent,e=navigator.appVersion,i="",s="",n=[{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 10",r:/Windows NT 10.0/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Android",r:/Android/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}];for(var o in n){var r=n[o];if(r.r.test(t)){i=r.s;break}}return/Windows/.test(i)?(s=/Windows (.*)/.exec(i)[1],i="Windows"):"Mac OS X"===i?s=/Mac OS X (10[\.\_\d]+)/.exec(t)[1]:"Android"===i?s=/Android ([\.\_\d]+)/.exec(t)[1]:"iOS"===i&&(s=(s=/OS (\d+)_(\d+)_?(\d+)?/.exec(e))[1]+"."+s[2]+"."+(0|s[3])),{name:i,version:s,fingerprint:(i+"_"+s).replace(/\s|\.|_/gim,"")}},generate:function(){try{var t=document.createElement("canvas"),e=t.getContext("2d");t.setAttribute("width","220"),t.setAttribute("height","30");var i="<5,V1s10ns.c0m>";e.textBaseline="top",e.font="11px 'Arial'",e.textBaseline="alphabetic",e.fillStyle="#abcdef",e.fillRect(33,1,77,22),e.fillStyle="#123456",e.fillText(i,2,15),e.fillStyle="rgba(33, 77, 99, 0.7)",e.fillText(i,4,17);var s=t.toDataURL(),n=v5CanvasFingerprint.base64ToArrayBuffer(s.replace("data:image/png;base64,","")),o=v5CanvasFingerprint.parsePng(n),r=v5md5(atob(s.replace("data:image/png;base64,",""))),a="";if(o)for(var h=0;h<o.chunks.length;h++)if("IDAT"==o.chunks[h].fourCC){a=o.chunks[h].crc.toString(16);break}}catch(t){r="",a=""}var l={pngHash:r,pngImageDataCrc:a,screen:[screen.width,screen.height,screen.colorDepth].join(""),platform:navigator.platform+String(navigator.hardwareConcurrency||""),os:{name:"",version:"",fingerprint:""},lang:navigator.language?navigator.language.split("-")[0]:"",browser:{name:v5Browser.browserNames[v5Browser.browser]},fonts:v5CanvasFingerprint.getFontsFingerprint(),geo:{timezone:String((new Date).getTimezoneOffset())}};try{l.os=v5CanvasFingerprint.getOS()}catch(t){}return l}},v5Browser={IE:1,EDGE:2,CHROME:3,SAFARI:4,OPERA:5,FIREFOX:6,browserNames:{1:"IE",2:"Edge",3:"Chrome",4:"Safari",5:"Opera",6:"Firefox"},P_IOS:1,P_ANDROID:2,P_OSX:3,P_WINDOWS:4,P_LINUX:5,P_SMARTTV:6,D_IPHONE:1,D_IPAD:2,D_IPOD:3,D_ANDROID:4,D_STV_WEBOS:5,D_STV_SMARTHUB:6,D_STV_TIZEN:7,DT_DESKTOP:1,DT_MOBILE:2,DT_TABLET:4,DT_SMARTTV:8,browser:null,version:-1,isMobile:!1,device:null,deviceType:null,platform:null,isTV:!1,proto:"",viOS:0,vAndroid:0,_f:function(t){return-1!==navigator.userAgent.toLowerCase().indexOf(t)},_ios:function(){return v5Browser._iphone()||v5Browser._ipod()||v5Browser._ipad()},_iphone:function(){return!v5Browser._windows()&&v5Browser._f("iphone")},_ipod:function(){return v5Browser._f("ipod")},_ipad:function(){return v5Browser._f("ipad")},_android:function(){return!v5Browser._windows()&&v5Browser._f("android")},_androidPhone:function(){return v5Browser._android()&&v5Browser._f("mobile")},_androidTablet:function(){return v5Browser._android()&&!v5Browser._f("mobile")},_blackberry:function(){return v5Browser._f("blackberry")||v5Browser._f("bb10")||v5Browser._f("rim")},_blackberryPhone:function(){return v5Browser._blackberry()&&!v5Browser._f("tablet")},_blackberryTablet:function(){return v5Browser._blackberry()&&v5Browser._f("tablet")},_windows:function(){return v5Browser._f("windows")||v5Browser._f("win32")},_windowsPhone:function(){return v5Browser._windows()&&v5Browser._f("phone")},_windowsTablet:function(){return v5Browser._windows()&&v5Browser._f("touch")&&!v5Browser._windowsPhone()},_meego:function(){return v5Browser._f("meego")},_mobile:function(){return v5Browser._androidPhone()||v5Browser._iphone()||v5Browser._ipod()||v5Browser._windowsPhone()||v5Browser._blackberryPhone()||v5Browser._meego()||v5Browser._mobile2()},_mobile2:function(){for(var t=["midp","240x320","blackberry","netfront","nokia","panasonic","portalmmm","sharp","sie-","sonyericsson","symbian","windows ce","benq","mda","mot-","opera mini","philips","pocket pc","sagem","samsung","sda","sgh-","vodafone","xda","palm","iphone","ipod","android","kindle","silk"],e=0;e<t.length;e++)if(v5Browser._f(t[e]))return!0;return!1},_tablet:function(){return v5Browser._ipad()||v5Browser._androidTablet()||v5Browser._blackberryTablet()||v5Browser._windowsTablet()},_desktop:function(){return!v5Browser._tablet()&&!v5Browser._mobile()&&!v5Browser._tv()},_tv:function(){for(var t=["webos","smarthub","tizen","googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],e=0;e<t.length;e++)if(v5Browser._f(t[e]))return!0;return!1},_td:function(){var t=["SM-G935","SM-G930","SM-G928","SM-G925","SM-G920"];if(v5Browser._android()){for(var e=0;e<t.length;e++)if(v5Browser._f(t[e]))return!0}else if(v5Browser._ios()&&320<screen.width)return!0;return!1},_flash:function(){if(!window.navigator.plugins["Shockwave Flash"])try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){return!1}return!0},init:function(){var t=document.location.protocol;"http:"!==t&&"https:"!==t&&(t="https:"),v5Browser.proto=t},detect:function(){var t=navigator.userAgent.toLowerCase(),e="",i={};for(var s in i.chrome=/webkit/.test(t)&&(/chrome/.test(t)||/crios/.test(t))&&!/edge/.test(t),i.firefox=/mozilla/.test(t)&&/firefox/.test(t),i.msie=/msie/.test(t)||/trident/.test(t),i.edge=/edge/.test(t),i.safari=/safari/.test(t)&&/applewebkit/.test(t)&&!/chrome/.test(t)&&!/crios/.test(t),i.opr=/mozilla/.test(t)&&/applewebkit/.test(t)&&/chrome/.test(t)&&/safari/.test(t)&&/opr/.test(t),i)if(i[s]){var n="msie"===s?"msie|edge":"chrome"===s?"chrome|crios":"safari"===s?"version":s;(e=t.match(new RegExp("("+n+")( |/)([0-9]+)")))?v5Browser.version=e[3]:(e=t.match(new RegExp("rv:([0-9]+)")),v5Browser.version=e?e[1]:"");break}i.opera=i.opr,i.chrome&&(v5Browser.browser=v5Browser.CHROME),i.firefox&&(v5Browser.browser=v5Browser.FIREFOX),i.msie&&(v5Browser.browser=v5Browser.IE),i.edge&&(v5Browser.browser=v5Browser.EDGE),i.safari&&(v5Browser.browser=v5Browser.SAFARI),i.opera&&(v5Browser.browser=v5Browser.OPERA)},detect2:function(){var t=navigator.userAgent,e=navigator.platform;v5Browser._mobile()?(v5Browser.isMobile=!0,v5Browser.deviceType=v5Browser.DT_MOBILE):v5Browser._tablet()?(v5Browser.isMobile=!0,v5Browser.deviceType=v5Browser.DT_TABLET):v5Browser._tv()?(v5Browser.isTV=!0,v5Browser.platform=v5Browser.P_SMARTTV,v5Browser.deviceType=v5Browser.DT_SMARTTV):v5Browser._desktop()&&(v5Browser.deviceType=v5Browser.DT_DESKTOP),v5Browser._ios()?(v5Browser.platform=v5Browser.P_IOS,v5Browser._iphone()?v5Browser.device=v5Browser.D_IPHONE:v5Browser._ipod()?v5Browser.device=v5Browser.D_IPOD:v5Browser._ipad()&&(v5Browser.device=v5Browser.D_IPAD)):v5Browser._android()?(v5Browser.platform=v5Browser.P_ANDROID,v5Browser.device=v5Browser.D_ANDROID):/Web0S/i.test(t)?v5Browser.device=v5Browser.D_STV_WEBOS:/SmartHub/i.test(t)?v5Browser.device=v5Browser.D_STV_SMARTHUB:/Tizen/i.test(t)&&(v5Browser.device=v5Browser.D_STV_TIZEN),null===v5Browser.platform&&(v5Browser._windows()?v5Browser.platform=v5Browser.P_WINDOWS:-1!==e.toLowerCase().indexOf("mac")?v5Browser.platform=v5Browser.P_OSX:-1!==e.toLowerCase().indexOf("linux")&&(v5Browser.platform=v5Browser.P_LINUX));try{v5Browser.viOS=parseInt(navigator.userAgent.match(/OS \d+/)[0].split(" ")[1])}catch(t){}try{v5Browser.vAndroid=parseFloat(navigator.userAgent.match(/Android [\d.]+/)[0].split(" ")[1])}catch(t){}},detect3:function(){var t={MSIE:v5Browser.IE,Chrome:v5Browser.CHROME,Opera:v5Browser.OPERA,Safari:v5Browser.SAFARI,Firefox:v5Browser.FIREFOX};for(var e in t)v5Browser.browser===e&&(v5Browser.browser=t[e])},debug:function(){for(var t=["browser","version","isMobile","device","deviceType","platform","isTV"],e=0;e<t.length;e++)if(-1!==document.location.search.indexOf("v5Browser_"+t[e])){var i=document.location.search.match(new RegExp("v5Browser_"+t[e]+"=(\\d+)"));null!==i&&(v5Browser[t[e]]=parseInt(i[1]))}}};v5Browser.init(),v5Browser.detect(),v5Browser.detect2(),v5Browser.debug();var v5Event={eventListeners:{},addListener:function(t,e,i){i=i||null,v5Event.eventListeners[t]||(v5Event.eventListeners[t]=[]),v5Event.eventListeners[t].push({callback:e,context:i})},removeListener:function(t,e,i){if(e=e||null,i=i||null,v5Event.eventListeners[t])for(var s=0;s<v5Event.eventListeners[t].length;s++){var n=v5Event.eventListeners[t][s];n.callback!==e&&null!==e||n.context!==i&&null!==i||v5Event.eventListeners[t].splice(n,1)}},trigger:function(t){if(v5Event.eventListeners[t])for(var e=0;e<v5Event.eventListeners[t].length;e++){var i=v5Event.eventListeners[t][e],s=[].slice.call(arguments,1);i.callback.apply(i.context,s)}}},v5Stats=function(t){t=t||{},this.idfa=t.idfa||null,this.host=t.host||null,this.ghost=t.ghost||null,this.statsHost=t.statsHost||A5SH,this.trackHost=t.trackHost||A5TH,this._trackedEvents=[],this._contentTime={type:"paid",forceType:null,earned:0,paid:0,contentId:null,_contentId:null,interval:null,last:{paid:0,earned:0},EVENTIDS:{}},this._loadingRequests=0,this.initT(t.time),this.creativeId=t.creativeId||null,this.pixels={}};v5Stats._eventsQueue=[],v5Stats._intvT=null,v5Stats._intvContentTime=null,v5Stats.prototype.initPixels=function(t){if(t)for(var e in t)e=t[e],this.pixels[e.eventId]||(this.pixels[e.eventId]=[]),e.url=v5Stats.prepareUrl(e.url),this.pixels[e.eventId].push(e)},v5Stats.prepareUrl=function(t){var e=String(v5rand(1e6,9999999)),i=String(v5time());return t.replace("%%RANDOM%%",e).replace("![rnd]",e).replace("~RANDOM~",e).replace(/&rnd=\d+$/,"&rnd="+e).replace("&pr=[RANDOM]","&pr="+e).replace("&pr=%%RANDOM%%","&pr="+e).replace("&pr=%random%","&pr="+e).replace("&ord=[timestamp]","&ord="+i).replace("&ord=%timestamp","&ord="+i).replace("&ord=%TimeStamp","&ord="+i).replace("/~RANDOM~","/"+e).replace("/RANDOM","/"+e).replace("/%25aw_random%25","/"+e).replace("/%aw_random%","/"+e).replace("/%Random","/"+e).replace(".pl/_[TIMESTAMP]/redot.gif",".pl/_"+i+"/redot.gif").replace(".pl/_%TimeStamp/redot.gif",".pl/_"+i+"/redot.gif").replace(";ord=%TimeStamp",";ord="+i).replace(";ord=[timestamp]",";ord="+i).replace(";ord=%timestamp",";ord="+i).replace(";ord=%%RANDOM%%",";ord="+e).replace(".ra=%%RANDOM%%",".ra="+e).replace(".ra=%Random",".ra="+e).replace(".ra=%RANDOM",".ra="+e).replace(/&(a|g)\.ra=\d+/,"&$1.ra="+e)},v5Stats.prototype.initT=function(t){this.t=t||v5time(),v5Stats._intvT=setInterval(function(){this.t++}.bind(this),1e3),this.t++},v5Stats.prototype.trackViPlusEvent=function(t,e,i){return this.trackEvent(t,e,i)},v5Stats.prototype.trackEvent=function(t,e,i){if((e=e||{}).trackOnce){if(-1!==this._trackedEvents.indexOf(t))return;this._trackedEvents.push(t)}if(this.sendUrl(this.getUrl(t,e),{callback:i}),"number"==typeof t&&this.pixels[t])for(var s in this.pixels[t])(s=this.pixels[t][s]).elementId&&String(s.elementId)!==String(e.elementId||0)||this.trackPixel(s.url);-1!==[301,303,302].indexOf(t)&&e.answers&&this.trackCustomPixel(e.answers)},v5Stats.prototype.sendUrl=function(t,e){var i=(e=e||{}).forceImage||!1,s=e.callback||null;if(i){this._loadingRequests++;var n=new Image;n.onload=function(t){this._loadingRequests--,"function"==typeof t&&t.apply(null,[])}.bind(this,s),n.onerror=function(t){this._loadingRequests--,"function"==typeof t&&t.apply(null,[])}.bind(this,s),n.src=t}else navigator.sendBeacon?(navigator.sendBeacon(t),"function"==typeof s&&s.apply(null,[])):(this._loadingRequests++,v5request("GET",t,{},function(t){this._loadingRequests--,"function"==typeof t&&t.apply(null,[])}.bind(this,s),function(t,e){this._loadingRequests--,"function"==typeof t&&t.apply(null,[])}.bind(this,s),"",!1))},v5Stats.sendUrl=function(t,e){var s=(e=e||{}).forceImage||!1,n=e.callback||null;s?((new Image).src=t,"function"==typeof n&&n.apply(null,[]),console.log("pixel sent",i)):navigator.sendBeacon?(navigator.sendBeacon(t),"function"==typeof n&&n.apply(null,[])):v5request("GET",t,{},function(t){"function"==typeof t&&t.apply(null,[])}.bind(null,n),function(t,e){"function"==typeof t&&t.apply(null,[])}.bind(null,n),"",!1)},v5Stats.prototype.getUrl=function(t,e){var i=[((e=e||{}).askEvent?"askevent":"event")+"="+t,"creative="+(e.creativeId||this.creativeId),"platform="+v5Browser.platform,"host="+this.getHost(),"idfa="+this.getIdfa(),"t="+this.t];this.getGhost()&&i.push("ghost="+this.getGhost()),e.param&&i.push("param="+e.param),e.gparam&&i.push("gparam="+e.gparam),e.gparam2&&i.push("gparam2="+e.gparam2),e.answers&&i.push("answers="+e.answers),e.clear&&i.push("clear="+e.clear);var s=i.sort().join("").replace(/=/g,"");i.push("hash="+v5md5(s));var n=e.statsServer?e.statsServer:-1!==[205,206,277,279,3024,3027,5020,5021,5022,5031,5032,7031].indexOf(t)?this.trackHost:this.statsHost;return"https://"+(e.url||n+"/v1/stats/track-event")+"?"+i.join("&")},v5Stats.makeUrl=function(t,e){var i=[((e=e||{}).askEvent?"askevent":"event")+"="+t,"creative="+e.creativeId,"platform="+e.platform||v5Browser.platform,"host="+e.host,"idfa="+e.idfa,"t="+e.time||v5time()];e.ghost&&i.push("ghost="+e.ghost),e.param&&i.push("param="+e.param),e.gparam&&i.push("gparam="+e.gparam),e.gparam2&&i.push("gparam2="+e.gparam2),e.answers&&i.push("answers="+e.answers),e.clear&&i.push("clear="+e.clear);var s=i.sort().join("").replace(/=/g,"");return i.push("hash="+v5md5(s)),"https://"+(e.url||e.statsHost+"/v1/stats/track-event")+"?"+i.join("&")},v5Stats.prototype.onLoadedRequests=function(t,e,i){i=i||0,this._loadingRequests<=0||e<=i?t.apply(null,[]):(i+=50,setTimeout(function(t,e,i){this.onLoadedRequests(t,e,i)}.bind(this,t,e,i),50))},v5Stats.prototype.trackPixel=function(t){this.sendUrl(t,{forceImage:!0})},v5Stats.prototype.trackCustomPixel=function(t){if(this.pixels[t])for(var e in this.pixels[t])this.pixels[t][e].url&&this.trackPixel(this.pixels[t][e].url)},v5Stats.trackServiceEvent=function(t,e){var i=(e=e||{}).creativeId||this.creativeId,s=e.gparam||null,n=e.answers||null,o=e.idfa||v5Stats.getIdfa(),r=["event="+t,"platform="+v5Browser.platform,"host="+v5Stats.getHost(),"idfa="+o,"t="+(e.t||v5time())];i&&r.push("creative="+i),s&&r.push("gparam="+s),n&&r.push("answers="+n);var a=r.sort().join("").replace(/=/g,"");r.push("hash="+v5md5(a));var h="https://"+this.statsHost+"/v1/service?"+r.join("&");v5Stats.sendUrl(h)},v5Stats.prototype.trackHosts=function(){var t=document.referrer?document.referrer.replace(/https?:\/\//,"").split("/")[0]:"",e=[];if(window.location.ancestorOrigins&&window.location.ancestorOrigins instanceof DOMStringList&&window.location.ancestorOrigins.length)for(var i=window.location.ancestorOrigins,s=0;s<i.length;s++)try{e.push(i.item(s).replace(/https?:\/\//,"").split("/")[0])}catch(t){}this.trackEvent(1171,{answers:[this.getHost(),this.getGhost(),t,e.join(","),window.location.href].join(";")})},v5Stats.prototype.getGhost=function(){return this.ghost||(this.ghost=v5Stats.getGHost()),this.ghost},v5Stats.prototype.getHost=function(){return this.host||(this.host=v5Stats.getHost()),this.host},v5Stats.getHost=function(){if("undefined"!=typeof v5ViPlusWrapper&&v5ViPlusWrapper.type===VP_WRAPPER_MRAID&&"ivi"===v5ViPlusWrapper.partner)return"ivi.ru";if(window.top===window.self)return window.location.host;if(window.location.ancestorOrigins&&window.location.ancestorOrigins instanceof DOMStringList&&window.location.ancestorOrigins.length){for(var t=[],e=window.location.ancestorOrigins,i=0;i<e.length;i++)try{t.push(e.item(i).replace(/https?:\/\//,"").split("/")[0])}catch(t){}if(t.length)return t.pop()}return document.referrer?document.referrer.split("/")[2].split(":")[0]:window.location.host},v5Stats.getGHost=function(){if("undefined"!=typeof v5ViPlusWrapper&&v5ViPlusWrapper.type===VP_WRAPPER_MRAID&&"ivi"===v5ViPlusWrapper.partner)return"ivi.ru";var t=window.location.host;if(-1===["","about:blank","about:srcdoc"].indexOf(t))return t;if(document.referrer)return document.referrer.split("/")[2].split(":")[0];if(window.location.ancestorOrigins&&window.location.ancestorOrigins instanceof DOMStringList&&window.location.ancestorOrigins.length){for(var e=[],i=window.location.ancestorOrigins,s=0;s<i.length;s++)try{e.push(i.item(s).replace(/https?:\/\//,"").split("/")[0])}catch(t){}if(e.length)return e.shift()}return t},v5Stats.prototype.getIdfa=function(){return this.idfa?this.idfa:v5Stats.getIdfa()},v5Stats.getIdfa=function(){return v5getCookie("v5idfa")?v5getCookie("v5idfa"):v5empty(document.location.host)||"undefined"!=typeof v5ViPlusWrapper&&v5ViPlusWrapper.type!==VP_WRAPPER_MRAID?(this.idfa="_a5f_"+Date.now()+"_"+v5rand(1,1e3),this.idfa):void 0},v5Stats.prototype.sendQueue=function(){for(;v5Stats._eventsQueue.length;){var t=this._eventsQueue.shift();1===t.type?this.trackEvent(t.eventId,t.params):2===t.type&&this.trackServiceEvent(t.eventId,t.params)}},v5Stats.prototype.initViPlusTimeTracking=function(){this._contentTime.EVENTIDS={paid:A5EVP_PAIDTIME,earned:A5EVP_EARNEDTIME},v5Event.addListener("VIDEO_PLAY",function(t){v5log("VIDEO_PLAY : "+t+(v5ViPlus.mainVideoId==t?" (main)":"")),v5ViPlus.manualTimeTracking||(v5ViPlus.mainVideoId==t||Array.isArray(v5ViPlus.mainVideoId)&&-1!==v5ViPlus.mainVideoId.indexOf(t))&&this.startTimeTracking(v5ViPlus.forceEarnedTime?"earned":"paid")},this),v5Event.addListener("VIDEO_PAUSE",function(t){v5log("VIDEO_PAUSE__"+t+(v5ViPlus.mainVideoId==t?" (main)":"")),v5ViPlus.manualTimeTracking||(v5ViPlus.mainVideoId==t||Array.isArray(v5ViPlus.mainVideoId)&&-1!==v5ViPlus.mainVideoId.indexOf(t))&&this.pauseTimeTracking()},this),v5Event.addListener("CONTENT_PLAY",function(t){v5log("CONTENT_PLAY : "+t+(null==this._contentTime.contentId?" (first)":"")),v5ViPlus.manualTimeTracking||null!=this._contentTime.contentId||t==v5ViPlus.mainVideoId||Array.isArray(v5ViPlus.mainVideoId)&&-1!==v5ViPlus.mainVideoId.indexOf(t)||(this._contentTime.contentId=t,this.startTimeTracking(v5ViPlus.forcePaidTime?"paid":"earned"))},this),v5Event.addListener("CONTENT_PAUSE",function(t){v5log("CONTENT_PAUSE : "+t+(this._contentTime.contentId==t?" (/first)":"")),v5ViPlus.manualTimeTracking||this._contentTime.contentId==t&&(this._contentTime.contentId=null,this.pauseTimeTracking())},this),v5Stats._eventListenerBeforeunload=function(){this.sendTimeTracking()}.bind(this),window.addEventListener("beforeunload",v5Stats._eventListenerBeforeunload,!1)},v5Stats.prototype.startTimeTracking=function(t){v5log("startTimeTracking__"+t),this._contentTime.type=this._contentTime.forceType?this._contentTime.forceType:t||this._contentTime.type,this.pauseTimeTracking(),v5Stats._intvContentTime=setInterval(function(){var t=this._contentTime;t[t.type]+=.1,t[t.type]=Math.round(10*t[t.type])/10;var e=t[t.type];e%2||e==t.last[t.type]||(t.last[t.type]=e,this.trackEvent(t.EVENTIDS[t.type],{param:e}))}.bind(this),100)},v5Stats.prototype.pauseTimeTracking=function(){v5log("pauseTimeTracking"),v5Stats._intvContentTime&&(clearInterval(v5Stats._intvContentTime),v5Stats._intvContentTime=null)},v5Stats.prototype.sendTimeTracking=function(){this.trackEvent(A5EVP_PAIDTIME,{param:Math.round(this._contentTime.paid)}),this.trackEvent(A5EVP_EARNEDTIME,{param:Math.round(this._contentTime.earned)})},v5Stats._destroy=function(){v5Stats._intvT&&clearInterval(v5Stats._intvT),v5Stats._intvContentTime&&clearInterval(v5Stats._intvContentTime),window.removeEventListener("beforeunload",v5Stats._eventListenerBeforeunload,!1)};var Ani5HtmlTools={cssNoUserSelect:"-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;",initCustomFont:function(t,e){function i(t){switch(t.split(".").pop()){case"eot":return"src: url('"+t+"') format('eot');";case"woff":return"src: url('"+t+"') format('woff');";case"ttf":return"src: url('"+t+"') format('truetype');";case"otf":return"src: url('"+t+"') format('opentype');"}}Array.isArray(e)||(e=[e]);for(var s="",n=0;n<e.length;n++){s+=i(isNaN(e[n])?e[n]:Ani5ViPlus.getAssetUrl(ANI5_ASSET_TYPE_FILE,e[n]))}var o=document.createElement("style");o.type="text/css",o.innerHTML="@font-face {font-family: '"+t+"';"+s+"}",Ani5Wrapper.slot.appendChild(o)},initCssClass:function(t,e,i){i=i||Ani5Wrapper.slot;var s=document.createElement("style");s.type="text/css",s.innerHTML="."+t+"{"+e+"}",i.appendChild(s)},getTextWidth:function(t,e){var i=(Ani5HtmlTools._canvas||(Ani5HtmlTools._canvas=document.createElement("canvas"))).getContext("2d");return i.font=e,i.measureText(t).width},hexToRgb:function(t){var e=parseInt(t.replace(/[^0-9A-F]/gi,""),16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getXyForInternalPos:function(t,e,i,s,n,o,r){void 0===o&&(o=0),void 0===r&&(r=0);var a={};return n==ANI5_POS_NONE?(a.x=null,a.y=null):n==ANI5_POS_TOP?(a.x=~~((t-i)/2)+o,a.y=r):n==ANI5_POS_TOP_RIGHT||n==A5P_TRR?(a.x=t-i-o,a.y=r):n==ANI5_POS_RIGHT?(a.x=t-i-o,a.y=~~((e-s)/2)+r):n==ANI5_POS_BOTTOM_RIGHT||n==A5P_BRR?(a.x=t-i-o,a.y=e-s-r):n==ANI5_POS_BOTTOM?(a.x=~~((t-i)/2)+o,a.y=e-s-r):n==ANI5_POS_BOTTOM_LEFT||n==A5P_BLL?(a.x=o,a.y=e-s-r):n==ANI5_POS_LEFT?(a.x=o,a.y=~~((e-s)/2)+r):n==ANI5_POS_TOP_LEFT||n==A5P_TLL?(a.x=o,a.y=r):n==ANI5_POS_CENTER&&(a.x=~~((t-i)/2)+o,a.y=~~((e-s)/2)+r),a},getXyForExternalPos:function(t,e,i,s,n,o,r){void 0===o&&(o=0),void 0===r&&(r=0);var a={};return n==ANI5_POS_NONE?(a.x=null,a.y=null):n==ANI5_POS_TOP?(a.x=~~(0+t/2-i/2),a.y=0-s-r):n==ANI5_POS_TOP_RIGHT?(a.x=0+t+o,a.y=0-s-r):n==ANI5_POS_RIGHT?(a.x=0+t+o,a.y=~~(0+e/2-s/2)):n==ANI5_POS_BOTTOM_RIGHT?(a.x=0+t+o,a.y=0+e+r):n==ANI5_POS_BOTTOM?(a.x=~~(0+t/2-i/2),a.y=0+e+r):n==ANI5_POS_BOTTOM_LEFT?(a.x=0-i-o,a.y=0+e+r):n==ANI5_POS_LEFT?(a.x=0-i-o,a.y=~~(0+e/2-s/2)):n==ANI5_POS_TOP_LEFT?(a.x=0-i-o,a.y=0-s-r):n==ANI5_POS_CENTER&&(a.x=~~(0+t/2-i/2),a.y=~~(0+e/2-s/2)),a},getMarginAndPadding:function(t){var e={width:0,height:0};return""!=t.style.marginLeft&&(e.width+=parseInt(t.style.marginLeft.replace("px"))),""!=t.style.marginRight&&(e.width+=parseInt(t.style.marginRight.replace("px"))),""!=t.style.marginTop&&(e.height+=parseInt(t.style.marginTop.replace("px"))),""!=t.style.marginBottom&&(e.height+=parseInt(t.style.marginBottom.replace("px"))),""!=t.style.paddingLeft&&(e.width+=parseInt(t.style.paddingLeft.replace("px"))),""!=t.style.paddingRight&&(e.width+=parseInt(t.style.paddingRight.replace("px"))),""!=t.style.paddingTop&&(e.height+=parseInt(t.style.paddingTop.replace("px"))),""!=t.style.paddingBottom&&(e.height+=parseInt(t.style.paddingBottom.replace("px"))),e},rotateAroundElement:function(t,e){void 0===e.repeat&&(e.repeat=1),TweenLite.fromTo(t,e.duration,{rotation:0},{rotation:360,ease:Linear.easeNone,onComplete:function(){0<--e.repeat&&Ani5HtmlTools.rotateAroundElement(t,e)}})},moveElement:function(t,e){var i=v5rand(1,1e4),s="0% { transform: translate("+(e.x0-e.x1)+"px, "+(e.y0-e.y1)+"px); }100% { transform: translate(0, 0); }",n="@-webkit-keyframes slideCustom"+i+" {"+s+"}@-moz-keyframes slideCustom"+i+" {"+s+"}@-o-keyframes slideCustom"+i+" {"+s+"}@keyframes slideCustom"+i+" {"+s+"}",o="animation",r="slideCustom"+i;r+=" "+(e.duration||1)+"s";var a="-webkit-"+o+": "+(r+=" "+(e.easing||"linear"))+";-moz-"+o+": "+r+";-ms-"+o+": "+r+";-o-"+o+": "+r+";"+o+": "+r+";",h="_ani5_class_"+i,l=document.createElement("style");l.type="text/css",l.innerHTML=n+"."+h+" {left: "+e.x1+"px;top: "+e.y1+"px;"+a+"-webkit-backface-visibility: hidden;-webkit-perspective: 1000;}",Ani5Wrapper.slot.appendChild(l),t.className+=" "+h},getConfigAssetSize:function(t,e,i){i=i||"base";var s=t.assetType==ANI5_ASSET_TYPE_IMAGE?"Image":"Anim";return t[i+s+"Asset"]["width"==e?"swfWidth":"swfHeight"]||t[i+s+"Asset"][e]},getConfigSize:function(t,e){return t[e]?t[e]:Ani5HtmlTools.getConfigAssetSize(t,e)}},Ani5HtmlSlider=function(){};Ani5HtmlSlider.prototype.init=function(t,e,i){e=e||{},this.slot=i||Ani5Wrapper.slot,this._initX=0,this._firstX=0,this._secondX=0,this._fullWidth=0,this._milestones=[0],this._firstShow=!0,this.disabled=!1,this.isSliding=!1,this.animation=e.animation||0,this.endlessScroll=e.endlessScroll||!1,this.allowDrag=void 0===e.allowDrag||e.allowDrag,this.blockWidth=e.blockWidth||t.width,this.slideWidth=e.slideWidth||t.children[0].width,this.slidesOnWrapper=Math.round(this.blockWidth/this.slideWidth),this.curSlide=0,this.slides=[];var s=(this.block=t).id.replace(/\[(\d+)\]/,"_$1");this.element=this.slot.getAttribute("id")==s?this.slot:this.slot.querySelector("#"+s),this.element||(this.element=this.slot);var n='<div style="position: absolute; top: 0; left: 0; overflow: hidden;"></div>';this.wrapperElement=v5dom(n),this.overflowWrapperElement=v5dom(n),this.overflowWrapperElement.appendChild(this.wrapperElement),this.element.appendChild(this.overflowWrapperElement),this.allowDrag&&this.initDrag();for(var o=1,r=0;r<t.children.length;r++){var a=this.slot.querySelector("#"+t.children[r].id.replace(/\[(\d+)\]/,"_$1"));this.element.removeChild(a),this.wrapperElement.appendChild(a),this.addSlide(t.children[r]),void 0!==a.style["z-index"]&&(o=Math.max(o,parseInt(a.style["z-index"])))}this.wrapperElement.style.width=this._fullWidth+"px",this.wrapperElement.style.zIndex=o,this.overflowWrapperElement.style.zIndex=o,e.bgColor&&(this.overflowWrapperElement.style.backgroundColor="#"+e.bgColor),this.onResize()},Ani5HtmlSlider.prototype.addSlide=function(t){var e={block:t,element:this.slot.querySelector("#"+t.id.replace(/\[(\d+)\]/,"_$1"))};e.element.style.float="left",this.slides.push(e),this._fullWidth+=this.slideWidth,this._milestones.push(this._fullWidth)},Ani5HtmlSlider.prototype.initDrag=function(){this._links=0,this.wrapperElement.onmousedown=function(t){this.disabled||(t.preventDefault(),this._initX=this.wrapperElement.offsetLeft,this._firstX=t.pageX,this.wrapperElement.onmousemove=function(t){if(!this.disabled){this.isSliding=!0,this._links||(this._links=1,this.processLinks(this.wrapperElement,!1));var e=Math.max(-1*(this._initX+t.pageX-this._firstX),0);this.wrapperElement.style.left=-1*Math.min(e,~~Ani5ViPlus.calcSize(this._milestones[this._milestones.length-2-(this.slidesOnWrapper-1)],Ani5ViPlus.VPW,A5VP_WIDTH))+"px"}}.bind(this),this.wrapperElement.onmouseup=function(t){this.disabled||(this._secondX=t.pageX,this.wrapperElement.onmousemove=function(){},this.slideSlide(),setTimeout(function(){this.isSliding=!1,this._links=0,this.processLinks(this.wrapperElement,!0)}.bind(this),100))}.bind(this))}.bind(this),this.wrapperElement.ontouchstart=function(t){if(!this.disabled){var e=t.touches;this._initX=this.wrapperElement.offsetLeft,this._firstX=e[0].pageX,this.wrapperElement.ontouchmove=function(t){if(!this.disabled){this.isSliding=!0;var e=t.touches;this._secondX=e[0].pageX;var i=Math.max(-1*(this._initX+e[0].pageX-this._firstX),0);this.wrapperElement.style.left=-1*Math.min(i,~~Ani5ViPlus.calcSize(this._milestones[this._milestones.length-2-(this.slidesOnWrapper-1)],Ani5ViPlus.VPW,A5VP_WIDTH))+"px"}}.bind(this),this.wrapperElement.ontouchend=function(t){this.disabled||(this.wrapperElement.ontouchmove=function(){},this.slideSlide(),setTimeout(function(){this.isSliding=!1}.bind(this),100))}.bind(this)}}.bind(this)},Ani5HtmlSlider.prototype.processLinks=function(t,e){for(var i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];void 0!==s.tagName&&"a"==s.tagName.toLowerCase()?e?s.getAttribute("data-href")&&""!=s.getAttribute("data-href")&&s.setAttribute("href",s.getAttribute("data-href")):(s.setAttribute("data-href",s.getAttribute("href")),s.setAttribute("href","javascript:;")):"function"==typeof s.onclick&&(e?"function"==typeof s.oncontextmenu&&(s.onclick=s.oncontextmenu):(s.oncontextmenu=s.onclick,s.onclick=function(){})),this.processLinks(s,e)}},Ani5HtmlSlider.prototype.onResize=function(){this.overflowWrapperElement.style.width=~~Ani5ViPlus.calcSize(this.block.width,Ani5ViPlus.VPW,A5VP_WIDTH)+"px",this.overflowWrapperElement.style.height=~~Ani5ViPlus.calcSize(this.block.height,Ani5ViPlus.VPH,A5VP_HEIGHT)+"px",this.wrapperElement.style.width=~~Ani5ViPlus.calcSize(this._fullWidth,Ani5ViPlus.VPW,A5VP_WIDTH)+"px",this.wrapperElement.style.height=~~Ani5ViPlus.calcSize(this.block.height,Ani5ViPlus.VPH,A5VP_HEIGHT)+"px"},Ani5HtmlSlider.prototype.slideSlide=function(){Ani5ViPlus.calcSize(this.blockWidth,Ani5ViPlus.VPW,A5VP_WIDTH);var t=~~Ani5ViPlus.calcSize(this.slideWidth,Ani5ViPlus.VPW,A5VP_WIDTH),e=this.wrapperElement.offsetLeft;e<0&&(e*=-1);for(var i=[],s=0;s<this._milestones.length;s++)i.push(~~Ani5ViPlus.calcSize(this._milestones[s],Ani5ViPlus.VPW,A5VP_WIDTH));for(s=0;i[s]<e;)s++;i[s],i[s-1];var n=Math.abs(this._firstX-this._secondX)/t,o=0;o=this._firstX>this._secondX?.25<n?s:s-1:.25<n?s-1:s;var r=i[o=Math.max(0,o)]||0;TweenLite.to(this.wrapperElement,.2,{left:-1*r}),this.curSlide=o,this.onSlideToSlide(this.curSlide)},Ani5HtmlSlider.prototype.slideTo=function(t,e){if(2==(e=e||this.animation))this._firstShow?(TweenLite.to(this.wrapperElement,0,{autoAlpha:0}),TweenLite.to(this.wrapperElement,.2,{autoAlpha:1}),this._firstShow=!1):TweenLite.to(this.wrapperElement,.2,{autoAlpha:0,onComplete:function(){TweenLite.to(this.wrapperElement,0,{left:~~Ani5ViPlus.calcSize(this.slideWidth,Ani5ViPlus.VPW,A5VP_WIDTH)*t*-1}),TweenLite.to(this.wrapperElement,.2,{autoAlpha:1})}.bind(this)});else{var i=0;8==e&&(i=.2*Math.abs(t-this.curSlide)),TweenLite.to(this.wrapperElement,i,{left:~~Ani5ViPlus.calcSize(this.slideWidth,Ani5ViPlus.VPW,A5VP_WIDTH)*t*-1})}this.curSlide=t,this.onSlideToSlide(this.curSlide)},Ani5HtmlSlider.prototype.nextSlide=function(){this.curSlide+(this.slidesOnWrapper-1)+1<this.slides.length?this.slideTo(this.curSlide+1):this.endlessScroll&&this.slideTo(0,0)},Ani5HtmlSlider.prototype.prevSlide=function(){0<=this.curSlide-1?this.slideTo(this.curSlide-1):this.endlessScroll&&this.slideTo(this.slides.length-(this.slidesOnWrapper-1)-1,0)},Ani5HtmlSlider.prototype.onSlideToSlide=function(t){};var ANI5_ANIM_MODE_CSS=1,ANI5_ANIM_MODE_CANVAS=2,Ani5Anim=function(t){this.config=t,this.slot=t.slot||null,this._framesLoaded=!1,this._mode=t.id<=264?ANI5_ANIM_MODE_CSS:ANI5_ANIM_MODE_CANVAS,this._canvas2dCtx=null,this._curFrame=0,this._curFrameRow=0,this._interval=null,this._elementId="_a5a_"+v5rand(1,1e3),this.element=null,this.audioElement=null,this.width=t.width||0,this.height=t.height||0,this.__width=this.width,this.__height=this.height,"undefined"!=typeof v5ViPlusWrapper?(this.videoPlayerWidth=t.videoPlayerWidth||v5ViPlus.VPW,this.videoPlayerHeight=t.videoPlayerHeight||v5ViPlus.VPH,this.framesSpriteUrl=v5Browser.proto+"//"+A5AH+"/s/"+t.id+"_w"+this.getAssetWidth()+".png"):this.framesSpriteUrl=v5Browser.proto+"//"+A5AH+"/s/"+t.id+"_w"+this.getAni5AssetWidth()+".png",this.framesCount=t.framesCount||1,this.framesPerRow=t.spriteFpr||1,this.framesSpriteWidth=this.framesPerRow*this.width,this.framesSpriteHeight=Math.ceil(this.framesCount/this.framesPerRow)*this.height,this.frames=[],this.soundUrl=t.soundUrl||null,this.volume=t.volume||.3,this.loopFrame=t.loopFrame||0,this.fps=12,this.createAnimElement(),this.element.onclick=function(){this.onClick()}.bind(this),this._mode===ANI5_ANIM_MODE_CANVAS?(this._canvas2dCtx=this.element.getContext("2d"),this.loadFramesFromSpritesheet()):this._mode};Ani5Anim.prototype.getAssetWidth=function(){return 1280},Ani5Anim.prototype.getAni5AssetWidth=function(){return 1280},Ani5Anim.prototype.createAnimElement=function(){var t;if(this._mode===ANI5_ANIM_MODE_CANVAS)t='<canvas id="'+this._elementId+'_canvas" width="100%" height="100%" style="width: 100%; height: 100%;"></canvas>',this.element=v5dom(t),this.slot.appendChild(this.element);else if(this._mode===ANI5_ANIM_MODE_CSS){var e="position: relative;width: "+this.width+"px; height: "+this.height+"px; background-position: 0 0; background-size: "+this.framesSpriteWidth+"px "+this.framesSpriteHeight+"px; background-image: url("+this.framesSpriteUrl+");";t='<div id="'+this._elementId+'_div" style="'+e+'"></div>',this.element=v5dom(t),this.slot.appendChild(this.element)}this.soundUrl&&(t='<audio id="'+this._elementId+'_audio" preload="auto" src="'+this.soundUrl.replace("$","mp3")+'"><source src="'+this.soundUrl.replace("$","mp3")+'" type="audio/mpeg" /><source src="'+this.soundUrl.replace("$","ogg")+'" type="audio/ogg; codecs=vorbis" /></audio>',this.audioElement=v5dom(t),this.audioElement.volume=this.volume,this.slot.appendChild(this.audioElement))},Ani5Anim.prototype.loadFramesFromSpritesheet=function(){var t=new Image;t.src=this.framesSpriteUrl,t.onload=function(t){for(var e=this.config.width,i=this.config.height,s=0;s<this.framesCount;s++){var n=document.createElement("CANVAS"),o=n.getContext("2d");n.width=e,n.height=i;var r=s%this.framesPerRow*e,a=~~(s/this.framesPerRow)*i;o.drawImage(t,r,a,e,i,0,0,e,i),this.frames[s]=n}}.bind(this,t)},Ani5Anim.prototype.drawFrame=function(){if(this.__width===this.width&&this.__height===this.height||this.resize(!0),this._mode===ANI5_ANIM_MODE_CANVAS){var t=this.frames[this._curFrame];this._canvas2dCtx.clearRect(0,0,t.width,t.height),this._canvas2dCtx.drawImage(t,0,0,t.width,t.height,0,0,t.width,t.height)}else this._mode===ANI5_ANIM_MODE_CSS&&(this.element.style.backgroundPosition="-"+(this._curFrame*this.width-this._curFrameRow*this.framesPerRow*this.width)+"px -"+this._curFrameRow*this.height+"px");this._curFrame++,this._curFrame%this.framesPerRow==0&&this._mode===ANI5_ANIM_MODE_CSS&&this._curFrameRow++,this._curFrame>=this.framesCount&&(-1===this.loopFrame?this.pause():this.rewind())},Ani5Anim.prototype.resize=function(t){if(t=t||!1,this._mode!==ANI5_ANIM_MODE_CANVAS||!t&&this._interval)this._mode===ANI5_ANIM_MODE_CSS&&(this.element.style.width=this.width+"px",this.element.style.height=this.height+"px",this.framesSpriteWidth=this.framesPerRow*this.width,this.framesSpriteHeight=Math.ceil(this.framesCount/this.framesPerRow)*this.height,this.element.style.backgroundSize=this.framesSpriteWidth+"px "+this.framesSpriteHeight+"px");else{var e=this.config.width,i=this.config.height;this._canvasSizeSet||(this._canvasSizeSet=!0,this.element.width=e,this.element.height=i),this.element.style.width=this.width+"px",this.element.style.height=this.height+"px",this.__width=this.width,this.__height=this.height}},Ani5Anim.prototype.play=function(){if(!this._interval){this.soundUrl&&this.audioElement.play();var t=Math.round(1e3/this.fps);this._mode===ANI5_ANIM_MODE_CANVAS?this._interval=setInterval(function(){void 0!==this.frames[this._curFrame]&&this.drawFrame()}.bind(this),t):this._mode===ANI5_ANIM_MODE_CSS&&(this._interval=setInterval(function(){this.drawFrame()}.bind(this),t))}},Ani5Anim.prototype.pause=function(){this.soundUrl&&this.audioElement.pause(),clearInterval(this._interval),this._interval=null},Ani5Anim.prototype.rewind=function(){this.soundUrl&&(this.audioElement.currentTime=~~(this.loopFrame/this.framesCount)),this._curFrame=this.loopFrame,this._curFrameRow=~~(this.loopFrame/this.framesPerRow)},Ani5Anim.prototype.onClick=function(){};var V5_VIDEOMODE_MP4=1,V5_VIDEOMODE_JS=2,Ani5Video=function(t){t._mode?this._mode=t._mode:"undefined"!=typeof v5ViPlusWrapper&&v5ViPlusWrapper.type===VP_WRAPPER_MRAID?this._mode=v5ViPlusWrapper.mraidInlineVideo?V5_VIDEOMODE_MP4:V5_VIDEOMODE_JS:this._mode=V5_VIDEOMODE_MP4,this._interval=null,this._elementId="v5v_"+v5rand(1,1e4),this.__evt={},this._paused=!0,this._videoReinit="undefined"!=typeof v5ViPlus&&v5ViPlus._videoReinit||!1,this.element=null,this.audioElement=null,this.canvasElement=null,this.config=t,this.slot=t.slot||null,this.width=t.width||v5ViPlus.videoRect.width,this.height=t.height||v5ViPlus.videoRect.height,"undefined"!=typeof v5ViPlusWrapper?(this.videoPlayerWidth=t.videoPlayerWidth||v5ViPlus.videoRect.width,this.videoPlayerHeight=t.videoPlayerHeight||v5ViPlus.videoRect.height):this.videoPlayerWidth=v5Browser.deviceType===v5Browser.DT_TABLET?640:320,t.remote?(this.videoUrl=t.path,this.soundUrl=t.path):(this.videoUrl=v5Browser.proto+"//"+A5AH+"/v/"+t.id+"_w"+this.getAssetWidth()+".mp4",this.soundUrl=v5Browser.proto+"//"+A5AH+"/v/"+t.id+".$"),this.posterUrl="undefined"!=typeof v5ViPlusWrapper&&v5ViPlusWrapper.type===VP_WRAPPER_MRAID||t.remote?"":v5Browser.proto+"//"+A5AH+"/v/"+t.id+"_w"+this.getAssetWidth()+"_poster.jpg",this.duration=t.duration||0,this.loop=void 0!==t.loop?Math.max(t.loop-1,0):0,this._loop=this.loop,this._loops=0,this.loopTime=t.loopTime||0,this.preload=t.preload||!1,this.isVideoSlot=!1,this.init()};Ani5Video.prototype.getAssetWidth=function(){if(this.config.forceUrl)return this.config.path.split("_w")[1].split(".")[0];var t=this.videoPlayerWidth;if("undefined"!=typeof v5ViPlusWrapper&&v5ViPlusWrapper.type===VP_WRAPPER_MRAID&&(t=v5ViPlusWrapper.mraidMaxWidth),"undefined"!=typeof v5ViPlusWrapper&&-1!==[VP_WRAPPER_VPAID,VP_WRAPPER_PROXY].indexOf(v5ViPlusWrapper.type)){var e=[1280,960,640];v5Browser.isMobile&&e.push(320)}else e=[1280,960,640,320,160];for(var i=0;i<e.length;i++)if(t>=e[i]&&this.width>=e[i])return t===e[i]?e[i]:0<i&&this.width>=e[i-1]?e[i-1]:e[i];return e.pop()},Ani5Video.prototype.resize=function(t,e){this.width=t||this.width,this.height=e||this.height,this._mode!==V5_VIDEOMODE_MP4||this.isVideoSlot?this._mode===V5_VIDEOMODE_JS&&(this.canvasElement.style.width=this.width+"px",this.canvasElement.style.height=this.height+"px"):(this.element.width=this.width,this.element.height=this.height,v5css(this.element,{width:this.width+"px",height:this.height+"px"}))},Ani5Video.prototype.init=function(){!this._videoReinit||this._videoReinit&&"undefined"!=typeof v5ViPlus&&v5ViPlus.mainVideoId&&v5ViPlus.mainVideoId==this.config.id?this.initVideo():(this.element=v5dom("<div></div>"),this.slot&&this.slot.appendChild(this.element)),v5Event.addListener("VP_VOLUME",function(t){this.setVolume(t)},this)},Ani5Video.prototype.initVideo=function(){this._mode===V5_VIDEOMODE_MP4?this.initMp4Video():this._mode===V5_VIDEOMODE_JS&&this.initJsVideo(),this.element.onclick=function(){this.onClick()}.bind(this)},Ani5Video.prototype.initMp4Video=function(){if(v5ViPlus.useVideoSlot&&v5ViPlusWrapper.videoSlot&&!this.config.canCreateVideoElement)this.isVideoSlot=!0,v5ViPlusWrapper.videoSlot.v5videoId&&v5ViPlus.saveVideoSlot(),v5ViPlusWrapper.videoSlot.v5videoId=this.config.id,this.element=v5ViPlusWrapper.videoSlot,this.element.setAttribute("src",this.videoUrl),this.element.setAttribute("playsinline",!0),this.element.setAttribute("webkit-playsinline",!0),this.element.load(),this.posterUrl&&this.element.setAttribute("poster",this.posterUrl);else{var t=this.config.css||"",e=v5Browser.isMobile&&("undefined"==typeof v5ViPlusWrapper||v5ViPlusWrapper.type!==VP_WRAPPER_MRAID),i='<video id="'+this._elementId+'_video" v5videoId="'+this.config.id+'" playsinline="true" webkit-playsinline="true" preload="none" width="100%" height="100%" style="width: 100%; height: 100%; '+t+'" '+(e?'muted="muted"':"")+(this.posterUrl?'poster="'+this.posterUrl+'"':"")+'><source src="'+this.videoUrl+'" type="video/mp4"></video>';this.element=v5dom(i),this.element.volume=v5ViPlus.volume,this.slot&&this.slot.appendChild(this.element)}this._onloadedmetadata=function(){this.element.removeEventListener("loadedmetadata",this._onloadedmetadata,!1),this.onLoadedMetadata(this)}.bind(this),this.element.addEventListener("loadedmetadata",this._onloadedmetadata,!1)},Ani5Video.prototype.initJsVideo=function(){var t=this.config.css||"",e='<canvas id="'+this._elementId+'_canvas" width="'+this.width+'" height="'+this.height+'" style="width: '+this.width+"px; height: "+this.height+"px; "+t+'"></canvas>';this.canvasElement=v5dom(e),this.element=this.canvasElement,this.slot&&this.slot.appendChild(this.canvasElement),this.jsmpeg=new JSMpeg.Player(this.videoUrl.replace(".mp4",".ts"),{audio:!1,loop:!1,canvas:this.canvasElement});e='<audio id="'+this._elementId+'_audio" preload="auto" muted="muted"><source src="'+this.soundUrl.replace("$","mp3")+'" type="audio/mpeg" /><source src="'+this.soundUrl.replace("$","aac")+'" type="audio/mp4" /><source src="'+this.soundUrl.replace("$","ogg")+'" type="audio/ogg; codecs=vorbis" /></audio>';this.audioElement=v5dom(e),this.slot&&this.slot.appendChild(this.audioElement),this.audioElement.load()},Ani5Video.prototype.play=function(t){if(t=t||0,this._paused){this._paused=!1;var e=this.element.currentSrc||this.element.src;e&&e!==this.videoUrl&&this.element.v5videoId!==this.config.id?v5ViPlus.restoreVideoSlot(function(){this._play(t)}.bind(this)):this._play(t)}},Ani5Video.prototype._play=function(t){this._mode===V5_VIDEOMODE_MP4?4!==this.element.readyState?(this._onCanPlay=function(t){this.element.removeEventListener("canplay",this._onCanPlay,!1),t&&(this.element.currentTime=t),this.element.play()}.bind(this,t),this.element.addEventListener("canplay",this._onCanPlay,!1),this.element.load()):(t&&(this.element.currentTime=t),this.element.play()):this._mode===V5_VIDEOMODE_JS&&(this.jsmpeg.play(),this.muted||this.audioElement.play()),this._interval=setInterval(function(){var t=this.getDuration(),e=this.getCurrentTime();t&&(this.onProgress(e),v5Event.trigger("VIDEO_PROGRESS",this.config.id,e),!this.__evt.onStartedPlaying&&0<e&&(this.__evt.onStartedPlaying=1,this.onStartedPlaying(),v5Event.trigger("VIDEO_STARTED",this.config.id)),.25*t<=e&&!this.__evt.onFirstQuartile?(this.__evt.onFirstQuartile=1,this.onFirstQuartile(),v5Event.trigger("VIDEO_Q1",this.config.id)):.5*t<=e&&!this.__evt.onSecondQuartile?(this.__evt.onSecondQuartile=1,this.onSecondQuartile(),v5Event.trigger("VIDEO_Q2",this.config.id)):.75*t<=e&&!this.__evt.onThirdQuartile?(this.__evt.onThirdQuartile=1,this.onThirdQuartile(),v5Event.trigger("VIDEO_Q3",this.config.id)):t<=e&&this.ended())}.bind(this),100),v5Event.trigger("VIDEO_PLAY",this.config.id)},Ani5Video.prototype.pause=function(){this._paused||(this._paused=!0,this._mode===V5_VIDEOMODE_MP4?this.element.pause():this._mode===V5_VIDEOMODE_JS&&(this.jsmpeg.pause(),this.audioElement.pause()),clearInterval(this._interval),v5Event.trigger("VIDEO_PAUSE",this.config.id))},Ani5Video.prototype.rewind=function(){this.loop=this._loop,this._loops=0,this._mode===V5_VIDEOMODE_MP4?this.element.currentTime=0:this._mode===V5_VIDEOMODE_JS&&(this.jsmpeg.currentTime=0,this.audioElement.currentTime=0),this.__evt={}},Ani5Video.prototype._rewind=function(t){t=t||0,this._paused||(this._mode===V5_VIDEOMODE_MP4?(this.element.currentTime=t,this.element.play()):this._mode===V5_VIDEOMODE_JS&&(this.jsmpeg.currentTime=t,this.jsmpeg.play(),this.audioElement.currentTime=t,this.audioElement.play()))},Ani5Video.prototype.ended=function(){this.loop?(this.loop--,this._loops++,this._rewind(this.loopTime)):(this.pause(),this.__evt.onForthQuartile||(this.__evt.onForthQuartile=1,this.onForthQuartile(),v5Event.trigger("VIDEO_Q4",this.config.id)),this.onEnded())},Ani5Video.prototype.setVolume=function(t){t?(this._userEvent=1,this.muted=!1,this.volume=t,this._mode===V5_VIDEOMODE_MP4?(this.element.muted=!1,this.element.volume=t):this._mode===V5_VIDEOMODE_JS&&(this.audioElement.muted=!1,this.audioElement.volume=t,this.jsmpeg&&this.jsmpeg.currentTime&&(this.audioElement.currentTime=this.jsmpeg.currentTime,this._paused||this.audioElement.play()))):!this._userEvent&&v5Browser.isMobile||(this.muted=!0,this.volume=0,this._mode===V5_VIDEOMODE_MP4?(this.element.volume=0,this.element.muted=!0):this._mode===V5_VIDEOMODE_JS&&(this.audioElement.volume=0,this.audioElement.muted=!0,this.audioElement.pause()))},Ani5Video.prototype.getVolume=function(){return this.volume},Ani5Video.prototype.getCurrentTime=function(){var t=this._mode===V5_VIDEOMODE_MP4?this.element.currentTime||0:this.jsmpeg?this.jsmpeg.currentTime:0,e=this.getDuration();return isNaN(t)||isNaN(e)?0:t+(e-this.loopTime)*this._loops},Ani5Video.prototype.setCurrentTime=function(t){this._mode===V5_VIDEOMODE_MP4?this.element.currentTime=t:this.jsmpeg&&(this.jsmpeg.currentTime=t)},Ani5Video.prototype.getDuration=function(){var t=this.duration;return isNaN(t)?0:(t=this.loopTime+(t-this.loopTime)*(this.loop+this._loops+1),Math.max(t,0))},Ani5Video.prototype.onStartedPlaying=function(){},Ani5Video.prototype.onProgress=function(t){},Ani5Video.prototype.onFirstQuartile=function(){},Ani5Video.prototype.onSecondQuartile=function(){},Ani5Video.prototype.onThirdQuartile=function(){},Ani5Video.prototype.onForthQuartile=function(){},Ani5Video.prototype.onEnded=function(){},Ani5Video.prototype.onLoadedMetadata=function(t){},Ani5Video.prototype.onClick=function(){};var Ani5Image=function(t){this._elementId="_a5i_"+v5rand(1,1e3),this.config=t,this.slot=t.slot||null,this.width=t.width||0,this.height=t.height||0,this.rotatable=t.rotatable||!1,"undefined"!=typeof v5ViPlusWrapper?(this.videoPlayerWidth=t.videoPlayerWidth||v5ViPlus.VPW,this.videoPlayerHeight=t.videoPlayerHeight||v5ViPlus.VPH,this.url=v5Browser.proto+"//"+A5AH+(this.config.forceUrl?t.path:t.path.replace(/_w\d+/,"_w"+this.getAssetWidth()))):this.url=v5Browser.proto+"//"+A5AH+t.path;var e=this.config.css||"",i="";i=this.rotatable?'<canvas id="'+this._elementId+'" width="100%" height="100%" style="width: 100%; height: 100%;"></canvas>':'<img id="'+this._elementId+'" width="100%" height="100%" src="'+this.url+'" style="width: 100%; height: 100%; '+e+'">',this.element=v5dom(i),this.slot&&this.slot.appendChild(this.element),this.element.onclick=function(){this.onClick()}.bind(this),this.rotatable&&(this._canvas2dCtx=this.element.getContext("2d"),this.image=new Image,this.image.src=this.url,this.image.onload=function(){this.rotate(0)}.bind(this)),this.resize()};Ani5Image.prototype.getAssetWidth=function(){var t=this.videoPlayerWidth;if("undefined"!=typeof v5ViPlusWrapper&&v5ViPlusWrapper.type===VP_WRAPPER_MRAID&&(t=v5ViPlusWrapper.mraidMaxWidth),"undefined"!=typeof v5ViPlusWrapper&&-1!==[VP_WRAPPER_VPAID,VP_WRAPPER_PROXY].indexOf(v5ViPlusWrapper.type))return(e=[1280,960,640]).shift();for(var e=[1280,960,640,320],i=0;i<e.length;i++)if(t>=e[i])return t===e[i]?e[i]:0<i?e[i-1]:e[i];return e.pop()},Ani5Image.prototype.resize=function(){this.element.width=this.width,this.element.height=this.height,this.element.style.width=this.width+"px",this.element.style.height=this.height+"px"},Ani5Image.prototype.rotate=function(t){this._canvas2dCtx.clearRect(0,0,this.width,this.height),this._canvas2dCtx.save(),this._canvas2dCtx.translate(this.width/2,this.height/2),this._canvas2dCtx.rotate(t*Math.PI/180),this._canvas2dCtx.drawImage(this.image,0,0,this.image.naturalWidth,this.image.naturalHeight,-this.width/2,-this.height/2,this.width,this.height),this._canvas2dCtx.restore()},Ani5Image.prototype.play=function(){v5log("- - - Ani5Image.PLAY")},Ani5Image.prototype.pause=function(){v5log("- - - Ani5Image.PAUSE")},Ani5Image.prototype.rewind=function(){v5log("- - - Ani5Image.REWIND")},Ani5Image.prototype.onClick=function(){};var Ani5Sound=function(t){this._elementId="_a5sn_"+v5rand(1,1e3),this.slot=t.slot||null,this.config=t,this.loop=t.loop||!1,this.volume=t.volume||0;var e='<audio id="'+this._elementId+'" preload="auto" '+(this.loop?'loop="loop"':"")+'" src="'+v5Browser.proto+"//"+A5AH+this.config.path.replace("$","mp3")+'"><source src="'+v5Browser.proto+"//"+A5AH+this.config.path.replace("$","mp3")+'" type="audio/mpeg" /><source src="'+v5Browser.proto+"//"+A5AH+this.config.path.replace("$","ogg")+'" type="audio/ogg; codecs=vorbis" /></audio>';this.element=v5dom(e),this.slot&&this.slot.appendChild(this.element),this.element.onended=function(){this.ended()}.bind(this),v5Event.addListener("VP_VOLUME",function(t){this.setVolume(t)},this)};Ani5Sound.prototype.play=function(){try{this.element.play()}catch(t){console.log(t.message)}},Ani5Sound.prototype.pause=function(){this.element.pause()},Ani5Sound.prototype.rewind=function(){this.element.currentTime=0},Ani5Sound.prototype.ended=function(){this.loop?(this.rewind(),this.play()):(this.pause(),this.onEnded())},Ani5Sound.prototype.setVolume=function(t){this.element.volume=t},Ani5Sound.prototype.getVolume=function(){return this.element.volume},Ani5Video.prototype.onEnded=function(){};var Ani5Close=function(t,e,i){i=i||null,this._elementId="_a5cl_"+v5rand(1,1e4),this._tmt=null,this.config=t,this.parent=e,this.slot=i||null,this.SIGN=this.config.sign||"&times;",this.SIZE=this.config.size||30,this.init()};Ani5Close.prototype.init=function(){var t="position: "+(this.slot==document.body||v5empty(this.slot)?"fixed":"absolute")+";z-index: 3001000;cursor: pointer;display: none;opacity: 0;";null!=this.config.imageAsset?(t+="width: "+this.SIZE+"px;\t\t\theight: "+~~(this.config.imageAsset.height*this.SIZE/this.config.imageAsset.width)+"px;\t\t\tbackground: url('//"+A5AH+this.config.imageAsset.path+"') 0 0 no-repeat;\t\t\tbackground-size: cover;",this.SIGN=""):t+="font-size: "+this.SIZE+"px;line-height: "+~~(this.SIZE/1.6)+"px;color: #"+this.config.color+";text-shadow: 0 0 1px #000;font-family: "+ANI5_FONTS[4]+";";var e='<div style="'+t+'">'+this.SIGN+"</div>";return this.element=v5dom(e),null!=this.slot&&this.slot.appendChild(this.element),this.element.onclick=function(t){t.stopPropagation(),this.onBeforeClose(),this.parent.close()}.bind(this),this.onResize(),this.startTimer(),this},Ani5Close.prototype.onResize=function(){var t=window.innerWidth>screen.width?window.innerWidth/screen.width:1;if(null==this.config.imageAsset){var e=~~(this.SIZE*t),i=~~(e/1.6);this.element.style.fontSize=e+"px",this.element.style.lineHeight=i+"px"}var s=this.element.offsetWidth,n=this.element.offsetHeight,o=0,r=0;if(this.slot==document.body)o=this.parent.WW,r=this.parent.WH;else if(null!=this.slot){var a=this.slot.getBoundingClientRect();o=a.width,r=a.height}var h=Ani5HtmlTools.getXyForInternalPos(o,r,s,n,this.config.pos,this.config.posOffsetX*t,this.config.posOffsetY*t);this.element.style.left=h.x+"px",this.element.style.top=h.y+"px"},Ani5Close.prototype.startTimer=function(){null!=this._tmt&&clearTimeout(this._tmt);var t=this.element.style;t.display="block",t.opacity=0,this._tmt=setTimeout(function(){TweenLite.to(this.element,.7,{autoAlpha:1})}.bind(this),1e3*this.config.timeout)},Ani5Close.prototype.onBeforeClose=function(){};var Ani5Animation=function(t,e,i){this._elementId="_a5a_"+v5rand(1,1e4),this.baseAni5=null,this.hoverAni5=null,this.tooltip=null,this.baseElement=null,this.hoverElement=null,this.comfortTapElement=null,this.contentId=null,this.width=0,this.height=0,this.link=!1,this._appearTmt=null,this._hideTmt=null,this._alertTmt=null,this._alertIntrv=null,this._lookIntrv=null,this._lookout={animating:!1},this._initShow=!1,this._content=!1,this._jsAssetInit=!1,this._jsAssetAppear=!1,this.ZINDEX=1e6,this.ISBUTTON=!1,A5WW=window.innerWidth,A5WH=window.innerHeight,this.config=t,this.parent=e,this.slot=i,this.init()};Ani5Animation.prototype.init=function(){if(this.link=!(!this.config.content||this.config.content.type!==ANI5_CONTENT_LINK||""===this.config.content.link)&&this.config.content.link,this.initElement(),this.initMouse(),this.config.assetType===ANI5_ASSET_TYPE_JS){if(!this.initJsAsset())return}else if(!this.initAssets())return;this.closeAni5=new Ani5Close(this.config.close,this,this.element),this.config.tooltip&&this.initTooltip(),this.onResize(),0===this.config.appearScreen&&this.initShow(),this.scrollEventListener=function(t){this.onScroll(t)}.bind(this),window.addEventListener("scroll",this.scrollEventListener,!1),v5Event.addListener("A5_RESIZE",function(){this.onResize()},this),v5Event.addListener("CNT_SHOW",function(){if(this._content=!0,this._initShow){var t=["appear","hide"];for(var e in t)null!==this["_"+(e=t[e])+"Tmt"]&&(console.log("stop "+e+" timeout"),this.config[e+"Timeout"]-=v5time()-this["_"+e+"TmtT"],clearTimeout(this["_"+e+"Tmt"]),this["_"+e+"Tmt"]=null,this["_continue"+e]=!0)}},this),v5Event.addListener("CNT_CLOSE",function(){if(this._content=!1,this._initShow){var t=["appear","hide"];for(var e in t)void 0!==this["_continue"+(e=t[e])]&&this["_continue"+e]&&(console.log("continue "+e+" timeout"),delete this["_continue"+e],"appear"===e?this.initAppear():this.initHide())}this.onScroll()},this)},Ani5Animation.prototype.initElement=function(){var t="display: block;position: fixed;z-index: "+this.ZINDEX+";opacity: 1.0;cursor: pointer;visibility: hidden;",e='<div id="'+this._elementId+'" style="'+t+'" class="_a5a_elem"></div>';this.element=v5dom(e),this.slot.appendChild(this.element),this.link||(this.element.onclick=function(t){console.log("this.element.onclick - this.click"),this.click(t)}.bind(this))},Ani5Animation.prototype.initJsAsset=function(){try{eval(atob(this.config.jsAsset).replace(/\n/g,"")+"; this.baseAni5 = new AnimatedObject(this);")}catch(t){return console.log("Error evaluating AnimatedObject : "+t.message),!1}return!0},Ani5Animation.prototype.onJsAssetInit=function(){this._jsAssetInit=!0,this._jsAssetAppear&&this.appear()},Ani5Animation.prototype.initAssets=function(){if(this.config.assetType===ANI5_ASSET_TYPE_IMAGE&&null===this.config.baseImageAsset||this.config.assetType===ANI5_ASSET_TYPE_ANIM&&null===this.config.baseAnimAsset)return!1;var t=["base","hover"];for(var e in t)if(e=t[e],!(this.config.assetType===ANI5_ASSET_TYPE_IMAGE&&null===this.config[e+"ImageAsset"]||this.config.assetType===ANI5_ASSET_TYPE_ANIM&&null===this.config[e+"AnimAsset"])){var i="position: absolute;z-index: 1;display: "+("base"===e?"block":"none")+";text-align: left;"+(this.config.shadow?"box-shadow: 0 0 "+~~(.05*window.innerWidth)+"px #"+this.config.shadowColor+";":""),s='<div id="'+this._elementId+"_"+e+'" style="'+i+'"></div>';this[e+"Element"]=v5dom(s),this.element.appendChild(this[e+"Element"]),this.link&&(this[e+"Element"].onclick=function(){console.log("this."+e+"Element.onclick - this.clickLink"),window.open(this.link),this.clickLink()}.bind(this));var n=this.config.assetType===ANI5_ASSET_TYPE_IMAGE?"Image":"Anim",o=this.config[e+n+"Asset"];if(!o)return;o.slot=this[e+"Element"],this.config.assetType===ANI5_ASSET_TYPE_IMAGE?(this.parent.config.creative.type===ANI5_LOOKOUT&&this.config.lookoutRotateImage&&(o.rotatable=!0),this[e+"Ani5"]=new Ani5Image(o)):this.config.assetType===ANI5_ASSET_TYPE_ANIM&&(this[e+"Ani5"]=new Ani5Anim(o))}return!0},Ani5Animation.prototype.initMouse=function(){v5Browser.isMobile||(this.element.onmouseover=function(t){this.parent.config.creative.type===ANI5_WOWPLAY&&void 0!==this.parent.wowContentConfig&&this.parent.wowContentConfig.showOnMouseover?this.parent.content.showContent(this.parent.wowContentId):null!==this.config.content&&this.config.content.type!==ANI5_CONTENT_LINK&&this.config.content.showOnMouseover&&this.parent.content.showContent(this.contentId),null===this.hoverElement?this.config.hoverHighlight&&(this.element.style["-webkit-filter"]="brightness(1.1) saturate(1.5)",this.element.style.filter="brightness(1.1) saturate(1.5)"):(this.baseElement.style.display="none",this.hoverElement.style.display="block"),this.tooltip&&this.tooltip.show(),this.config.mouseZoom&&this.zoomInOnMouseover(),this.onMouseover(t),v5Event.trigger("A5E_OBJMO",this.config.id)}.bind(this),this.element.onmouseout=function(t){null===this.hoverElement?(this.element.style["-webkit-filter"]="",this.element.style.filter=""):(this.baseElement.style.display="block",this.hoverElement.style.display="none"),this.tooltip&&this.tooltip.hide(),this.config.mouseZoom&&this.zoomOutOnMouseout(),this.onMouseout(t)}.bind(this)),!this.ISBUTTON&&this.config.close.bySwipe&&(this._drag={state:0},this._drag.onmousedown=function(t){v5Browser.isMobile&&(t=(t=t.originalEvent||t).changedTouches.length?t.changedTouches[0]:t.touches[0]),this._drag.state=1,this._drag.initX=this.element.offsetLeft;var e=-1!==[ANI5_POS_BOTTOM_RIGHT,ANI5_POS_BOTTOM,ANI5_POS_BOTTOM_LEFT,A5P_BLL,A5P_BRR].indexOf(this.config.pos);this._drag.initY=e?this.element.style.bottom.replace(/px/,""):this.element.offsetTop,this._drag.x0=t.pageX,this._drag.y0=t.pageY}.bind(this),this._drag.onmousemove=function(t){1!==this._drag.state&&2!==this._drag.state||(this._drag.state=2,t.preventDefault(),v5Browser.isMobile&&(t=(t=t.originalEvent||t).changedTouches.length?t.changedTouches[0]:t.touches[0]),this._drag.x=~~(this._drag.initX+t.pageX-this._drag.x0),this.element.style.left=this._drag.x+"px",-1!==[ANI5_POS_BOTTOM_RIGHT,ANI5_POS_BOTTOM,ANI5_POS_BOTTOM_LEFT,A5P_BLL,A5P_BRR].indexOf(this.config.pos)?(this._drag.y=~~(this._drag.initY-t.pageY+this._drag.y0),this.element.style.bottom=this._drag.y+"px"):(this._drag.y=~~(this._drag.initY+t.pageY-this._drag.y0),this.element.style.top=this._drag.y+"px"))}.bind(this),this._drag.onmouseup=function(t){if(2===this._drag.state)if(this._drag.state=3,v5Browser.isMobile&&(t=(t=t.originalEvent||t).changedTouches.length?t.changedTouches[0]:t.touches[0]),this._drag.x1=t.pageX,this._drag.y1=t.pageY,this._drag.x<-this.width/2||this._drag.x>A5WW-this.width/2||this._drag.y<-this.height/2||this._drag.y>A5WH-this.height/2)TweenLite.to(this.element,.2,{autoAlpha:0,onComplete:function(){this.close()}.bind(this)});else{var e=-1!==[ANI5_POS_BOTTOM_RIGHT,ANI5_POS_BOTTOM,ANI5_POS_BOTTOM_LEFT,A5P_BLL,A5P_BRR].indexOf(this.config.pos),i={left:this._drag.initX+"px"};e?i.bottom=this._drag.initY+"px":i.top=this._drag.initY+"px",TweenLite.to(this.element,.2,i)}}.bind(this),this.element.addEventListener(v5Browser.isMobile?"touchstart":"mousedown",this._drag.onmousedown,!1),this.element.addEventListener(v5Browser.isMobile?"touchmove":"mousemove",this._drag.onmousemove,!1),this.element.addEventListener(v5Browser.isMobile?"touchend":"mouseup",this._drag.onmouseup,!1))},Ani5Animation.prototype.initContent=function(){if(this.config.content&&this.config.content.type!==ANI5_CONTENT_LINK){var t=this.config.content;t.id=this.config.id,this.contentId=this.parent.content.initContent(t),this.contentId&&this.parent.config.creative.type===ANI5_WOWPLAY&&(this.parent.wowContentId=this.contentId,this.parent.wowContentConfig=t)}},Ani5Animation.prototype.initShow=function(){this._initShow=!0,this.parent.config.creative.type===ANI5_LOOKOUT?this.initLookout():(this.initAppear(),this.config.alert&&this.initAlert(),this.initMove()),this.config.hideTimeout&&(this.config.hideTimeout+=this.config.appearTimeout,this.initHide())},Ani5Animation.prototype.initAppear=function(){this._appearTmt=setTimeout(function(){this._appearTmt=null,this.initContent(),this.config.assetType!==ANI5_ASSET_TYPE_JS||this._jsAssetInit?this.appear():this._jsAssetAppear=!0}.bind(this),1e3*this.config.appearTimeout),this._appearTmtT=v5time()},Ani5Animation.prototype.appear=function(){this.config.assetType!==ANI5_ASSET_TYPE_ANIM&&this.config.assetType!==ANI5_ASSET_TYPE_JS||(this.baseAni5.play(),this.hoverAni5&&this.hoverAni5.play()),this.element.style.visibility="visible",this.config.appearAnimation===ANI5_APPEAR_FADEIN?TweenLite.from(this.element,.5,{autoAlpha:0}):this.config.appearAnimation===ANI5_APPEAR_ENLARGE?(this.element.style.visibility="visible",TweenLite.from(this.baseAni5.element,.5,{width:0,height:0,autoAlpha:0}),this.hoverAni5&&TweenLite.from(this.hoverAni5.element,.5,{width:0,height:0,autoAlpha:0})):this.config.appearAnimation===ANI5_APPEAR_SLIDE_FROM_TOP?TweenLite.from(this.element,.5,{top:-this.height+"px"}):this.config.appearAnimation===ANI5_APPEAR_SLIDE_FROM_RIGHT?TweenLite.from(this.element,.5,{left:window.innerWidth+this.width+"px"}):this.config.appearAnimation===ANI5_APPEAR_SLIDE_FROM_BOTTOM?TweenLite.from(this.element,.5,{top:window.innerHeight+this.height+"px"}):this.config.appearAnimation===ANI5_APPEAR_SLIDE_FROM_LEFT&&TweenLite.from(this.element,.5,{left:-this.width+"px"}),this.comfortTapElement&&(this.comfortTapElement.style.visibility="visible"),this.ISBUTTON||this.parent.config.creative.type!==ANI5_ROLLOUT||(this._rollout=this._rollout||{},this._rollout.yScroll0=window.scrollY||window.pageYOffset,this._rollout.autoRollTween&&this._rollout.autoRollTween.play(),this._rollout.autoRollTween2&&this._rollout.autoRollTween2.play()),v5Event.trigger("A5E_OBJIMPR",this.config.id),setTimeout(function(){2!==this.parent._state&&this.parent.ani5stats.startTimeTracking("paid")}.bind(this),500),this.config.content.autoShowTimeout&&(this._autoShowContentTmt=setTimeout(function(){this.showContent()}.bind(this),1e3*this.config.content.autoShowTimeout))},Ani5Animation.prototype.initHide=function(){this._hideTmt=setTimeout(function(){this._hideTmt=null,this.hide()}.bind(this),1e3*this.config.hideTimeout),this._hideTmtT=v5time()},Ani5Animation.prototype.hide=function(){this._hideTmt&&(clearTimeout(this._hideTmt),this._hideTmt=null);var t=.5;this.config.appearAnimation===ANI5_APPEAR_SHOW?(t=0,TweenLite.to(this.element,0,{autoAlpha:0})):this.config.appearAnimation===ANI5_APPEAR_FADEIN?TweenLite.to(this.element,t,{autoAlpha:0}):this.config.appearAnimation===ANI5_APPEAR_ENLARGE?(this.element.style.visibility="visible",TweenLite.to(this.baseAni5.element,t,{width:0,height:0,autoAlpha:0}),this.hoverAni5&&TweenLite.to(this.hoverAni5.element,t,{width:0,height:0,autoAlpha:0})):this.config.appearAnimation===ANI5_APPEAR_SLIDE_FROM_TOP?TweenLite.to(this.element,t,{top:-this.height+"px"}):this.config.appearAnimation===ANI5_APPEAR_SLIDE_FROM_RIGHT?TweenLite.to(this.element,t,{left:window.innerWidth+this.width+"px"}):this.config.appearAnimation===ANI5_APPEAR_SLIDE_FROM_BOTTOM?TweenLite.to(this.element,t,{top:window.innerHeight+this.height+"px"}):this.config.appearAnimation===ANI5_APPEAR_SLIDE_FROM_LEFT&&TweenLite.to(this.element,t,{left:-this.width+"px"}),this.comfortTapElement&&(this.comfortTapElement.style.visibility="hidden"),setTimeout(function(){this.close()}.bind(this),2*t*1e3),this._autoShowContentTmt&&(clearTimeout(this._autoShowContentTmt),delete this._autoShowContentTmt)},Ani5Animation.prototype.initAlert=function(){this._alertTmt=setTimeout(function(){this._alertIntrv=setInterval(function(){switch(this.config.alertAnimation){case ANI5_ALERTANIM_PULSE:TweenLite.to(this.element,.2,{scale:1.2,onComplete:function(){TweenLite.to(this.element,.2,{scale:1})}.bind(this)}),this.hoverAni5&&TweenLite.to(this.element,.2,{scale:1.2,onComplete:function(){TweenLite.to(this.element,.2,{scale:1})}.bind(this)});break;case ANI5_ALERTANIM_SHAKE:var t=4,e=~~(.05*this.width),i=this.element;TweenLite.fromTo(i,.05,{x:"-="+e},{x:"+="+e,onComplete:function(){this.reverse()},onReverseComplete:function(){1<=t?(t--,this.restart()):(TweenLite.set(i,{x:0,y:0}),TweenLite.killTweensOf(i,!0))}});break;case ANI5_ALERTANIM_FADE:TweenLite.to(this.element,.2,{autoAlpha:0,onComplete:function(){TweenLite.to(this.element,.3,{autoAlpha:1})}.bind(this)});break;case ANI5_ALERTANIM_HIGHLIGHT:TweenLite.to(this.element,.4,{css:{"-webkit-filter":"brightness(1.1) saturate(1.5)",filter:"brightness(1.1) saturate(1.5);"},onComplete:function(){TweenLite.to(this.element,.4,{css:{"-webkit-filter":"",filter:""}})}.bind(this)})}}.bind(this),1e3*this.config.alertTimeout)}.bind(this),1e3*this.config.alertTimeout)},Ani5Animation.prototype.initMove=function(){this.config.move&&setTimeout(function(){var t=~~("%"===this.config.posOffsetUnit?this.config.movePosOffsetX/100*A5WW:this.config.movePosOffsetX),e=~~("%"===this.config.posOffsetUnit?this.config.movePosOffsetY/100*A5WH:this.config.movePosOffsetY),i=Ani5HtmlTools.getXyForInternalPos(A5WW,A5WH,this.width,this.height,this.config.movePos,t,e),s={left:i.x+"px",onComplete:function(){this.config.pos=this.config.movePos,this.config.posOffsetX=this.config.movePosOffsetX,this.config.posOffsetY=this.config.movePosOffsetY}.bind(this)},n=-1!==[ANI5_POS_BOTTOM_RIGHT,ANI5_POS_BOTTOM,ANI5_POS_BOTTOM_LEFT,A5P_BLL,A5P_BRR].indexOf(this.config.pos);n?s.bottom=e+"px":s.top=i.y+"px",TweenLite.to(this.element,this.config.moveTime,s),this.comfortTapElement&&(s.left=i.x-this.cteDx+"px",n?s.bottom=e+this.cteDy+"px":s.top=i.y-this.cteDy+"px",delete s.onComplete,TweenLite.to(this.comfortTapElement,this.config.moveTime,s))}.bind(this),1e3*this.config.moveTimeout)},Ani5Animation.prototype.initLookout=function(){this.lookoutPoses=[];for(var t=1;t<=9;t++)this.config.lookoutPos&Math.pow(2,t)&&this.lookoutPoses.push(t);setTimeout(function(){this.initContent(),this.config.assetType===ANI5_ASSET_TYPE_ANIM&&(this.baseAni5.play(),this.hoverAni5&&this.hoverAni5.play()),this._lookIntrv=setInterval(function(){this.doLookout()}.bind(this),1e3*(1+this.config.lookoutTimeout+this.config.lookoutTime)),this.doLookout(),v5Event.trigger("A5E_OBJIMPR",this.config.id),2!==this.parent._state&&this.parent.ani5stats.startTimeTracking("paid")}.bind(this),1e3*this.config.appearTimeout)},Ani5Animation.prototype.doLookout=function(){this._lookout.animating=!0,this.element.style.display="block";var t=this.lookoutPoses[v5rand(0,this.lookoutPoses.length-1)];console.log("LookOut pos = "+t),this.config.lookoutRotateImage&&this.config.assetType===ANI5_ASSET_TYPE_IMAGE&&(this.baseAni5.rotate([0,180,225,270,315,0,45,90,135,0][t]),this.hoverAni5&&this.hoverAni5.rotate([0,180,225,270,315,0,45,90,135,0][t]));var e=t===ANI5_POS_CENTER?0:~~(this.config.lookoutPosOffsetX/100*A5WW),i=t===ANI5_POS_CENTER?0:~~(this.config.lookoutPosOffsetY/100*A5WH),s=Ani5HtmlTools.getXyForInternalPos(A5WW,A5WH,this.width,this.height,t,e,i);if(this.element.style.left=s.x+"px",delete this.element.style.top,delete this.element.style.bottom,-1!==[ANI5_POS_BOTTOM_RIGHT,ANI5_POS_BOTTOM,ANI5_POS_BOTTOM_LEFT,A5P_BLL,A5P_BRR].indexOf(t)?this.element.style.bottom=i+"px":this.element.style.top=s.y+"px",this.config.lookoutAnimation===ANI5_APPEAR_SHOW||this.config.lookoutAnimation===ANI5_APPEAR_FADEIN||this.parent.config.creative.type===ANI5_LOOKOUT&&this.config.lookoutAnimation===ANI5_APPEAR_LOOKOUT&&t===ANI5_POS_CENTER){this.element.style.visibility="hidden";var n=this.config.lookoutAnimation===ANI5_APPEAR_FADEIN||this.parent.config.creative.type===ANI5_LOOKOUT?.2:0;TweenLite.to(this.element,n,{autoAlpha:1,onComplete:function(){setTimeout(function(){var t=this.config.lookoutAnimation===ANI5_APPEAR_FADEIN||this.parent.config.creative.type===ANI5_LOOKOUT?.2:0;TweenLite.to(this.element,t,{autoAlpha:0,onComplete:function(){this.element.style.display="none",this._lookout.animating=!1}.bind(this)})}.bind(this),1e3*this.config.lookoutTime)}.bind(this)})}else this.config.lookoutAnimation===ANI5_APPEAR_ENLARGE?(this.element.style.visibility="visible",TweenLite.to(this.baseAni5.element,0,{width:0,height:0,autoAlpha:1}),TweenLite.to(this.baseAni5.element,.5,{width:this.baseAni5.width+"px",height:this.baseAni5.height+"px",onComplete:function(){setTimeout(function(){TweenLite.to(this.baseAni5.element,.5,{width:0,height:0,onComplete:function(){this.element.style.display="none",this._lookout.animating=!1}.bind(this)})}.bind(this),1e3*this.config.lookoutTime)}.bind(this)})):this.config.lookoutAnimation===ANI5_APPEAR_LOOKOUT&&(this.element.style.visibility="visible",this.element.style.opacity=1,t===ANI5_POS_TOP?TweenLite.from(this.element,.5,{top:-this.height+"px",onComplete:function(){setTimeout(function(){TweenLite.to(this.element,.5,{top:-this.height+"px",onComplete:function(){this.element.style.display="none",this._lookout.animating=!1}.bind(this)})}.bind(this),1e3*this.config.lookoutTime)}.bind(this)}):t===ANI5_POS_BOTTOM?TweenLite.from(this.element,.5,{bottom:-this.height+"px",onComplete:function(){setTimeout(function(){TweenLite.to(this.element,.5,{bottom:-this.height+"px",onComplete:function(){this.element.style.display="none",this._lookout.animating=!1}.bind(this)})}.bind(this),1e3*this.config.lookoutTime)}.bind(this)}):t===ANI5_POS_LEFT?TweenLite.from(this.element,.5,{left:-this.width+"px",onComplete:function(){setTimeout(function(){TweenLite.to(this.element,.5,{left:-this.width+"px",onComplete:function(){this.element.style.display="none",this._lookout.animating=!1}.bind(this)})}.bind(this),1e3*this.config.lookoutTime)}.bind(this)}):t===ANI5_POS_RIGHT?TweenLite.from(this.element,.5,{left:A5WW+this.width+"px",onComplete:function(){setTimeout(function(){TweenLite.to(this.element,.5,{left:A5WW+this.width+"px",onComplete:function(){this.element.style.display="none",this._lookout.animating=!1}.bind(this)})}.bind(this),1e3*this.config.lookoutTime)}.bind(this)}):t===ANI5_POS_TOP_LEFT?TweenLite.from(this.element,.5,{top:-this.height+"px",left:-this.width+"px",onComplete:function(){setTimeout(function(){TweenLite.to(this.element,.5,{top:-this.height+"px",left:-this.width+"px",onComplete:function(){this.element.style.display="none",this._lookout.animating=!1}.bind(this)})}.bind(this),1e3*this.config.lookoutTime)}.bind(this)}):t===ANI5_POS_TOP_RIGHT?TweenLite.from(this.element,.5,{top:-this.height+"px",left:A5WW+this.width+"px",onComplete:function(){setTimeout(function(){TweenLite.to(this.element,.5,{top:-this.height+"px",left:A5WW+this.width+"px",onComplete:function(){this.element.style.display="none",this._lookout.animating=!1}.bind(this)})}.bind(this),1e3*this.config.lookoutTime)}.bind(this)}):t===ANI5_POS_BOTTOM_LEFT?TweenLite.from(this.element,.5,{bottom:-this.height+"px",left:-this.width+"px",onComplete:function(){setTimeout(function(){TweenLite.to(this.element,.5,{bottom:-this.height+"px",left:-this.width+"px",onComplete:function(){this.element.style.display="none",this._lookout.animating=!1}.bind(this)})}.bind(this),1e3*this.config.lookoutTime)}.bind(this)}):t===ANI5_POS_BOTTOM_RIGHT&&TweenLite.from(this.element,.5,{bottom:-this.height+"px",left:A5WW+this.width+"px",onComplete:function(){setTimeout(function(){TweenLite.to(this.element,.5,{bottom:-this.height+"px",left:A5WW+this.width+"px",onComplete:function(){this.element.style.display="none",this._lookout.animating=!1}.bind(this)})}.bind(this),1e3*this.config.lookoutTime)}.bind(this)}))},Ani5Animation.prototype.initRollout=function(t,e){this._rolloutInit||(this._rolloutInit=!0,this._rollout=this._rollout||{},this._rollout.rolled=!1,this._rollout._autorolling=!1,this._rollout.autoRollTween=null,this._rollout.autoRollTween2=null,this._rollout.xy0=t,this._rollout.xy1=e,this._rollout.dX=e.x-t.x,this._rollout.dXk=e.x>=t.x?1:-1,this._rollout.yCssBottom=-1!==[ANI5_POS_BOTTOM_RIGHT,ANI5_POS_BOTTOM,ANI5_POS_BOTTOM_LEFT,A5P_BLL,A5P_BRR].indexOf(this.config.pos)&&-1!==[ANI5_POS_BOTTOM_RIGHT,ANI5_POS_BOTTOM,ANI5_POS_BOTTOM_LEFT].indexOf(this.config.rolloutPos),this._rollout.yCssBottom?(this._rollout.dY=e.offsetY-t.offsetY,this._rollout.dYk=e.offsetY>=t.offsetY?1:-1):(this._rollout.dY=e.y-t.y,this._rollout.dYk=e.y>=t.y?1:-1),this._rollout.k=Math.abs(this._rollout.dX/this._rollout.dY),this._rollout.yScroll1={forX:~~(Math.abs(this._rollout.dX)/(this.config.rolloutSpeed/10)),forY:~~(Math.abs(this._rollout.dY)/(this.config.rolloutSpeed/10))},this.config.pos=0,this.config.posOffsetX=0,this.config.posOffsetY=0,this.config.posX=t.x,this.config.posY=t.y,this.initRolloutAutoRoll())},Ani5Animation.prototype.initRolloutAutoRoll=function(){if(!this._rollout.rolled){var t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),e=(this._rollout.xy0,this._rollout.xy1);if(1===this.config.rolloutAutoRoll||2===this.config.rolloutAutoRoll&&t<=A5WH){var i={left:e.x+"px",onComplete:function(){this.config.posX=this._rollout.xy1.x,this.config.posY=this._rollout.xy1.y;var t=this._rollout.xy1;this._rollout.xy1=this._rollout.xy0,this._rollout.xy0=t,this._rollout.dXk*=-1,this._rollout.dYk*=-1,this._rollout.yScroll0=window.scrollY||window.pageYOffset,this._rollout._autorolling=!1,this._rollout.autoRollTween=null,this.comfortTapElement&&(this._rollout.autoRollTween2=null)}.bind(this),onUpdate:function(){this._rollout._autorolling=!0}.bind(this)};this._rollout.yCssBottom?i.bottom=e.offsetY+"px":i.top=e.y+"px",this._rollout.autoRollTween=TweenLite.to(this.element,2,i).delay(this.config.rolloutAutoRollTimeout).pause(),this.comfortTapElement&&(delete i.onComplete,delete i.onUpdate,this._rollout.yCssBottom?i.bottom=e.offsetY+this.cteDy+"px":i.top=e.y-this.cteDy+"px",this._rollout.autoRollTween2=TweenLite.to(this.comfortTapElement,2,i).delay(this.config.rolloutAutoRollTimeout).pause())}}},Ani5Animation.prototype.onResize=function(){var t,e,i=v5Browser.deviceType===v5Browser.DT_MOBILE&&this.config.widthMobile?this.config.widthMobile:v5Browser.deviceType===v5Browser.DT_TABLET&&this.config.widthTablet?this.config.widthTablet:this.config.width?this.config.width:0,s=window.innerWidth>screen.width?window.innerWidth/screen.width:1,n=["base","hover"];for(var o in n)if(this[(o=n[o])+"Element"]){var r=Ani5HtmlTools.getConfigAssetSize(this.config,"width",o),a=Ani5HtmlTools.getConfigAssetSize(this.config,"height",o);if(i?(e=~~(a*(t=~~(A5WW*i/100))/r),r*s<t&&(e=~~(e*(r*s)/t),t=r*s)):(t=r,e=a),A5WW<t&&(e=~~(e*A5WW/t),t=A5WW),A5WH<e&&(t=~~(t*A5WH/e),e=A5WH),console.log(A5WW,A5WH,s,r,a,t,e),this[o+"Element"].style.width=t+"px",this[o+"Element"].style.height=e+"px",this[o+"Ani5"])if(this.config.assetType===ANI5_ASSET_TYPE_ANIM&&0!==this.config[o+"AnimAsset"].swfWidth&&0!==this.config[o+"AnimAsset"].swfHeight){this[o+"Ani5"].width=~~(this.config[o+"AnimAsset"].width*t/this.config[o+"AnimAsset"].swfWidth),this[o+"Ani5"].height=~~(this.config[o+"AnimAsset"].height*e/this.config[o+"AnimAsset"].swfHeight),this[o+"Ani5"].resize();var h=~~(this.config[o+"AnimAsset"].swfOffsetX*t/this.config[o+"AnimAsset"].swfWidth),l=~~(this.config[o+"AnimAsset"].swfOffsetY*e/this.config[o+"AnimAsset"].swfHeight);this[o+"Ani5"].element.style.marginTop=l+"px",this[o+"Ani5"].element.style.marginLeft=h+"px"}else this[o+"Ani5"].width=t,this[o+"Ani5"].height=e,this[o+"Ani5"].resize()}this.width=t,this.element.style.width=t+"px",this.height=e,this.element.style.height=e+"px",this.comfortTapElement&&(this.comfortTapElement.style.width=~~(t*this.cteK)+"px",this.comfortTapElement.style.height=~~(e*this.cteK)+"px");h="%"===this.config.posOffsetUnit?this.config.posOffsetX*A5WW/100:this.config.posOffsetX,l="%"===this.config.posOffsetUnit?this.config.posOffsetY*A5WH/100:this.config.posOffsetY;var c=Ani5HtmlTools.getXyForInternalPos(A5WW,A5WH,t,e,this.config.pos,h,l);if(c.offsetX=h,c.offsetY=l,c.pos=this.config.pos,this.parent.config.creative.type===ANI5_ROLLOUT){switch(this.config.pos){case ANI5_POS_TOP:c.y-=e;break;case ANI5_POS_TOP_RIGHT:c.x+=t,c.y-=e;break;case ANI5_POS_RIGHT:c.x+=t;break;case ANI5_POS_BOTTOM_RIGHT:c.x+=t,c.y+=e;break;case ANI5_POS_BOTTOM:c.y+=e;break;case ANI5_POS_BOTTOM_LEFT:c.x-=t,c.y+=e;break;case ANI5_POS_LEFT:c.x-=t;break;case ANI5_POS_TOP_LEFT:c.x-=t,c.y-=e;break;case A5P_TLL:case A5P_BLL:c.x-=t;break;case A5P_TRR:case A5P_BRR:c.x+=t}h=this.config.rolloutPosOffsetX*A5WW/100,l=this.config.rolloutPosOffsetY*A5WH/100;var d=Ani5HtmlTools.getXyForInternalPos(A5WW,A5WH,t,e,this.config.rolloutPos,h,l);d.offsetX=h,d.offsetY=l,d.pos=this.config.rolloutPos,this.initRollout(c,d)}this.element.style.left=c.x+"px";var u=-1!==[ANI5_POS_BOTTOM_RIGHT,ANI5_POS_BOTTOM,ANI5_POS_BOTTOM_LEFT,A5P_BLL,A5P_BRR].indexOf(c.pos);u?this.element.style.bottom=l+"px":this.element.style.top=c.y+"px",this.comfortTapElement&&(this.cteDx=~~((t*this.cteK-t)/2),this.cteDy=~~((e*this.cteK-e)/2),this.comfortTapElement.style.left=~~(c.x-this.cteDx)+"px",u?this.comfortTapElement.style.bottom=~~(l+this.cteDy)+"px":this.comfortTapElement.style.top=~~(c.y-this.cteDy)+"px"),this.tooltip&&this.tooltip.onResize(),this.closeAni5&&this.closeAni5.onResize()},Ani5Animation.prototype.click=function(t){this._autoShowContentTmt&&(clearTimeout(this._autoShowContentTmt),delete this._autoShowContentTmt),this._drag&&3===this._drag.state?this._drag.state=0:(this.showContent(t),this.onClick(),v5Event.trigger("A5E_OBJCLK",this.config.id))},Ani5Animation.prototype.clickLink=function(){this._autoShowContentTmt&&(clearTimeout(this._autoShowContentTmt),delete this._autoShowContentTmt),v5Event.trigger("A5E_OBJCLK",this.config.id),v5Event.trigger("A5E_OBJLNK",this.config.id),v5Event.trigger("A5E_LNK"),this.config.content.hideAnimation&&this.config.content.stopOnClose&&this.parent.stop()},Ani5Animation.prototype.showContent=function(t){this.parent.config.creative.type===ANI5_WOWPLAY&&this.parent.wowContentId?this.parent.content.showContent(this.parent.wowContentId,t):this.config.content&&this.config.content.type!==ANI5_CONTENT_LINK&&this.contentId&&this.parent.content.showContent(this.contentId,t)},Ani5Animation.prototype.close=function(){this.parent._anims--,console.log(this.parent._anims+" anims left"),(this.parent._anims<=0||this.config.stopOnClose)&&!this.parent.content.contentId?this.parent.stop():this.stop()},Ani5Animation.prototype.stop=function(){this._autoShowContentTmt&&(clearTimeout(this._autoShowContentTmt),delete this._autoShowContentTmt),this._alertIntrv&&(clearInterval(this._alertIntrv),this._alertIntrv=null),this._alertTmt&&(clearTimeout(this._alertTmt),this._alertTmt=null),this._lookIntrv&&(clearInterval(this._lookIntrv),this._lookIntrv=null),this._appearTmt&&(clearTimeout(this._appearTmt),this._appearTmt=null),this._hideTmt&&(clearTimeout(this._hideTmt),this._hideTmt=null),this._rollout&&(this._rollout.autoRollTween&&(this._rollout.autoRollTween.kill(),this._rollout.autoRollTween=null),this._rollout.autoRollTween2&&(this._rollout.autoRollTween2.kill(),this._rollout.autoRollTween2=null)),!this.ISBUTTON&&this.config.close.bySwipe&&(this.element.removeEventListener(v5Browser.isMobile?"touchstart":"mousedown",this._drag.onmousedown),this.element.removeEventListener(v5Browser.isMobile?"touchmove":"mousemove",this._drag.onmousemove),this.element.removeEventListener(v5Browser.isMobile?"touchend":"mouseup",this._drag.onmouseup)),this.element.style.visibility="hidden",this.comfortTapElement&&(this.comfortTapElement.style.visibility="hidden"),this.config.assetType===ANI5_ASSET_TYPE_ANIM&&(this.baseAni5.pause(),this.hoverAni5&&this.hoverAni5.pause()),2===this.parent._state||this.parent._anims||this.parent.ani5stats.pauseTimeTracking(),window.removeEventListener("scroll",this.scrollEventListener)},Ani5Animation.prototype.pause=function(){this.element.style.display="none",this.comfortTapElement&&(this.comfortTapElement.style.display="none"),this._lookIntrv&&(clearInterval(this._lookIntrv),this._lookIntrv=null)},Ani5Animation.prototype.resume=function(){this.element.style.display="block",this.comfortTapElement&&(this.comfortTapElement.style.display="block"),this.parent.config.creative.type===ANI5_LOOKOUT&&(this._lookIntrv=setInterval(function(){this.doLookout()}.bind(this),1e3*(1+this.config.lookoutTimeout+this.config.lookoutTime)),this.doLookout())},Ani5Animation.prototype.remove=function(){if(this.element.parentNode.removeChild(this.element),this.comfortTapElement){var t=this.comfortTapElement.parentNode;this.link?t.parentNode.removeChild(this.comfortTapElement.parentNode):t.removeChild(this.comfortTapElement)}},Ani5Animation.prototype.onScroll=function(){if(this.config.appearScreen&&!this._initShow&&!this._content){var t=window.scrollY,e=document.body.offsetHeight;(0<this.config.appearScreen&&t/A5WH>=this.config.appearScreen||this.config.appearScreen<0&&t>=e-(Math.abs(this.config.appearScreen)+.1)*A5WH)&&this.initShow()}v5Browser.isMobile&&v5empty(this.onScrollTmt)&&(this.onScrollTmt=setTimeout(function(){this.onScrollTmt=null,this._lookout.animating||this.onResize()}.bind(this),100)),this.parent.config.creative.type===ANI5_ROLLOUT&&this.onScrollRollout()},Ani5Animation.prototype.onScrollRollout=function(){if(void 0!==this._rollout.yScroll0&&!this._rollout._autorolling){this._rollout.rolled=!0,this._rollout.autoRollTween&&(this._rollout.autoRollTween.kill(),this._rollout.autoRollTween=null),this._rollout.autoRollTween2&&(this._rollout.autoRollTween2.kill(),this._rollout.autoRollTween2=null);var t=(window.scrollY||window.pageYOffset)-this._rollout.yScroll0;if(!(t<=0)){var e=Math.min(t,this._rollout.yScroll1.forY),i=Math.min(t,this._rollout.yScroll1.forX),s=~~(this._rollout.xy0.x+this._rollout.dXk*(i*this.config.rolloutSpeed/10));if(this._rollout.yCssBottom)var n=~~(this._rollout.xy0.offsetY+this._rollout.dYk*(e*this.config.rolloutSpeed/10));else n=~~(this._rollout.xy0.y+this._rollout.dYk*(e*this.config.rolloutSpeed/10));var o={left:s+"px",onComplete:function(t,e){this.config.posX=t,this.config.posY=e}.bind(this,s,n)};this._rollout.yCssBottom?o.bottom=n+"px":o.top=n+"px",TweenLite.to(this.element,0,o),this.comfortTapElement&&(delete o.onComplete,o.left=s-this.cteDx+"px",this._rollout.yCssBottom?o.bottom=n+this.cteDy+"px":o.top=n-this.cteDy+"px",TweenLite.to(this.comfortTapElement,0,o))}}},Ani5Animation.prototype.onClick=function(t){},Ani5Animation.prototype.onMouseover=function(t){},Ani5Animation.prototype.onMouseout=function(t){};var Ani5Content=function(t,e,i){this._elementId="_a5cn_"+v5rand(1,1e4),this._paused=!0,this._ignoreViPlusEvents=!1,this.content={},this.faderElement=null,this.contentId=null,this.bgAni5h=null,this.bgAni5v=null,this.bgAni5=null,this.bgLinkEl=null,this.clickToPlay=null,this.WW=window.innerWidth,this.WH=window.innerHeight,this.config=t,this.parent=e,this.slot=i,this.init()};Ani5Content.prototype.init=function(){if(this.config.fader){var t="position: fixed;top: 0; bottom: 0;left: 0; right: 0;z-index: 2001000;background-color: #"+this.config.faderColor,e='<div id="'+this._elementId+'_f" style="'+t+'"></div>';this.faderElement=v5dom(e),this.config.faderClose&&(this.faderElement.onclick=function(){this.close()}.bind(this))}var i,s={};null!=this.config.bgImageAsset&&((i=this.config.bgImageAsset).css="position: fixed; z-index: 2002000;",this.bgAni5h=new Ani5Image(i),s.h=i.id);null!=this.config.bgImageVerticalAsset&&((i=this.config.bgImageVerticalAsset).css="position: fixed; z-index: 2002000;",this.bgAni5v=new Ani5Image(i),s.v=i.id);""==this.config.bgLink||null==this.bgAni5h&&null==this.bgAni5v||(this.bgLinkEl=v5dom('<a href="'+this.config.bgLink+'" target="_blank"></a>'),this.bgLinkEl.onclick=function(t){var e=this.WW>=this.WH?void 0!==t.h?t.h:t.v:void 0!==t.v?t.v:t.h;v5Event.trigger("A5E_OBJCLK",e),v5Event.trigger("A5E_LNK")}.bind(this,s)),this.closeAni5=new Ani5Close(this.config.close,this),this.closeAni5.slot=this.slot,this.closeAni5.element.style.display="none",window.addEventListener("scroll",function(){this.onScroll()}.bind(this),!1),window.addEventListener("resize",function(){this.onResize()}.bind(this),!1),v5Event.addListener("BROWSER_VISIBLE",function(){this.resume()},this),v5Event.addListener("BROWSER_HIDDEN",function(){this.pause()},this)},Ani5Content.prototype.onResize=function(){if(this.WW=window.innerWidth,this.WH=window.innerHeight,null!=this.contentId){var t=this.content[this.contentId];t.config.type==ANI5_CONTENT_IMAGE?(this.assetByWH(),this.resizeContent(t.cur,t.config)):t.config.type==ANI5_CONTENT_VIDEO?(t.cur!=t.ani5&&this.assetByWH(),this.resizeContent(t.cur,t.config)):t.config.type==ANI5_CONTENT_VIPLUS?(this.resizeContent(t.ani5,t.config),Ani5Wrapper.ViPlus.onResize()):this.resizeContent(t.ani5,t.config)}null==this.bgAni5h&&null==this.bgAni5v||(this.WW>=this.WH?this.bgAni5=null!=this.bgAni5h?this.bgAni5h:this.bgAni5v:this.bgAni5=null!=this.bgAni5v?this.bgAni5v:this.bgAni5h,this.bgAni5==this.bgAni5h?(this.bgAni5h.element.style.display="block",null!=this.bgAni5v&&(this.bgAni5v.element.style.display="none")):this.bgAni5==this.bgAni5v&&(this.bgAni5v.element.style.display="block",null!=this.bgAni5h&&(this.bgAni5h.element.style.display="none")),this.resizeContent(this.bgAni5,this.config,!1)),this.closeAni5.onResize()},Ani5Content.prototype.assetByWH=function(){var t=this.content[this.contentId],e=t.type==ANI5_CONTENT_IMAGE?"ani5":"coverAni5";this.WW>=this.WH?t.cur=null!=t[e+"h"]?t[e+"h"]:t[e+"v"]:t.cur=null!=t[e+"v"]?t[e+"v"]:t[e+"h"],t.cur==t[e+"h"]?(t[e+"h"].element.style.display="block",null!=t[e+"v"]&&(t[e+"v"].element.style.display="none")):(null!=t[e+"h"]&&(t[e+"h"].element.style.display="none"),t[e+"v"].element.style.display="block")},Ani5Content.prototype.resizeContent=function(t,e,i){i=i||!0;var s=v5Browser.deviceType===v5Browser.DT_MOBILE&&e.widthMobile?e.widthMobile:v5Browser.deviceType===v5Browser.DT_TABLET&&e.widthTablet?e.widthTablet:e.width?e.width:0,n=window.innerWidth>screen.width?window.innerWidth/screen.width:1,o=s?~~(this.WW*s/100):0;o=!o||o>t.config.width*n?t.config.width:o;var r=~~(t.config.height*o/t.config.width);r>this.WH&&i&&(r=this.WH,o=~~(t.config.width*r/t.config.height));var a=t.element.style;e.type==ANI5_CONTENT_VIDEO&&t._mode==V5_VIDEOMODE_JS?(t.width=o,t.height=r,t.resize()):(a.width=o+"px",a.height=r+"px");var h=~~(e.posOffsetX/100*this.WW),l=~~(e.posOffsetY/100*this.WH),c=Ani5HtmlTools.getXyForInternalPos(this.WW,this.WH,o,r,e.pos,h,l);a.left=c.x+"px",a.top=c.y+"px"},Ani5Content.prototype.initContent=function(t){var e="_a5cno"+v5rand(1,1e4);if(this.contentCss="position: fixed; z-index: 2003000;"+(this.config.shadow?"box-shadow: 0 0 "+~~(.05*this.WW)+"px #"+this.config.shadowColor+";":""),t.type==ANI5_CONTENT_IMAGE?this.content[e]=this.initContentImage(t):t.type==ANI5_CONTENT_VIDEO?this.content[e]=this.initContentVideo(t):t.type==ANI5_CONTENT_FRAME?this.content[e]=this.initContentFrame(t):t.type==ANI5_CONTENT_VIPLUS&&(this.content[e]=this.initContentViPlus(t,e)),!this.content[e])return null;if(""!=t.link){var i=v5dom('<a href="'+t.link+'" target="_blank"></a>');i.onclick=function(t){var e=this.content[t],i=null;i=e.type==ANI5_CONTENT_IMAGE||e.type==ANI5_CONTENT_VIDEO?e.cur.config.id:e.ani5.config.id,v5Event.trigger("A5E_OBJCLK",i),v5Event.trigger("A5E_LNK"),this.pause(),this.showClickToPlay()}.bind(this,e),this.content[e].linkEl=i}else this.content[e].linkEl=null;return e},Ani5Content.prototype.initContentImage=function(t){if(null==t.imageAsset&&null==t.imageVerticalAsset)return null;var e,i=null,s=null;null!=t.imageAsset&&((e=t.imageAsset).css=this.contentCss,i=new Ani5Image(e));null!=t.imageVerticalAsset&&((e=t.imageVerticalAsset).css=this.contentCss,s=new Ani5Image(e));return{type:t.type,config:t,ani5h:i,ani5v:s,cur:null}},Ani5Content.prototype.initContentVideo=function(t){if(null==t.videoAsset)return null;var e,i=null,s=null,n=new Ani5Video(Object.assign({},t.videoAsset,{_mode:V5_VIDEOMODE_JS,css:this.contentCss}));(n.onEnded=function(){var t=this.content[this.contentId];null!=t.coverAni5h||null!=t.coverAni5v?(t.ani5.element.style.display="none",this.assetByWH(),this.resizeContent(t.cur,t.config)):this.close()}.bind(this),n.onStartedPlaying=function(t){v5Event.trigger("A5_VQ0",t)}.bind(this,t.id),n.onFirstQuartile=function(t){v5Event.trigger("A5_VQ1",t)}.bind(this,t.id),n.onSecondQuartile=function(t){v5Event.trigger("A5_VQ2",t)}.bind(this,t.id),n.onThirdQuartile=function(t){v5Event.trigger("A5_VQ3",t)}.bind(this,t.id),n.onForthQuartile=function(t){v5Event.trigger("A5_VQ4",t)}.bind(this,t.id),this.resizeContent(n,t),t.videoCoverAsset)&&((e=t.videoCoverAsset).css=this.contentCss,i=new Ani5Image(e));t.videoCoverVerticalAsset&&((e=t.videoCoverVerticalAsset).css=this.contentCss,s=new Ani5Image(e));return{type:t.type,config:t,ani5:n,coverAni5h:i,coverAni5v:s,cur:null}},Ani5Content.prototype.initContentFrame=function(t){if(!t.frameUrl)return null;var e={element:v5dom('<div style="'+this.contentCss+' -webkit-overflow-scrolling: touch; overflow-y: scroll;"><iframe src="'+t.frameUrl+'" scrolling="auto" frameborder="0" style="border: 0; width: 100%; height: 100%;"></iframe></div>'),config:{width:~~(this.WW*t.width/100),height:~~(this.WH*t.height/100)}};return{type:t.type,config:t,ani5:e}},Ani5Content.prototype.initContentViPlus=function(t,e){if(!t.viPlusId)return null;var i=v5Browser.deviceType===v5Browser.DT_MOBILE&&t.widthMobile?t.widthMobile:v5Browser.deviceType===v5Browser.DT_TABLET&&t.widthTablet?t.widthTablet:t.width?t.width:0,s=window.innerWidth>screen.width?window.innerWidth/screen.width:1,n=v5Browser.isMobile?640:1280,o=v5Browser.isMobile?360:720,r=~~(this.WW*i/100),a=~~((r=n*s<r?n*s:r)/n*o),h={element:v5dom('<iframe  style="'+this.contentCss+'" src="about:blank" scrolling="no" frameborder="0" style="border: 0; width: 100%; height: 100%;"></iframe>'),config:{width:r,height:a}},l=document.createElement("script");return l.src="//get.5visions.com/creative/"+t.viPlusId+"/vpjs/"+v5md5("viplus-js-"+t.viPlusId).substr(0,11)+".js",l.onload=function(t,e,i,s,n,o){o.parentNode.removeChild(o),this.content[t].viPlusWidth=i,this.content[t].viPlusHeight=s,this.content[t].viPlusId=e}.bind(this,e,t.viPlusId,r,a,h.element,l),this.slot.appendChild(l),v5Event.addListener("VIPLUS_AdStopped",function(t){this._ignoreViPlusEvents||this.close()},this),window.addEventListener("message",function(t){this.onWindowMessage(t)}.bind(this),!1),{type:t.type,config:t,ani5:h,viplus:null}},Ani5Content.prototype.initViPlus=function(t){t=t||this.contentId;var e=this.content[t],i=VIPLUSCONFIG[e.viPlusId];e.ani5.element=v5dom('<div style="'+this.contentCss+'"></div>'),Ani5Wrapper={type:ANI5_WRAPPER_VPAID,slot:e.ani5.element,config:i,ViPlus:null,onVpaidEvent:function(t,e){console.log("VPAID event ["+t+"] : "+e),v5Event.trigger("VIPLUS_"+e,t)}.bind(null,e.viPlusId)},Ani5ViPlus.VPW=e.viPlusWidth,Ani5ViPlus.VPH=e.viPlusHeight,i.slot=e.ani5.element;var s=Ani5ViPlus.getViPlus(i);Ani5Wrapper.ViPlus=s,e.viPlus=s,e.viPlus.start()},Ani5Content.prototype.showContent=function(t,e){if(null!=this.contentId)return this.close(),void setTimeout(function(){this.showContent(t)}.bind(this),200);if(null!=this.content[t]){var i=this.parent.config.creative.type==ANI5_WOWPLAY&&this.config.appearAnimation==ANI5_APPEAR_FADEIN?.7:.2;if(this.slot.appendChild(this.closeAni5.element),this.closeAni5.startTimer(),null!=this.bgAni5h||null!=this.bgAni5v){if(null!=this.bgLinkEl){this.slot.appendChild(this.bgLinkEl);var s=this.bgLinkEl}else s=this.slot;null!=this.bgAni5h&&s.appendChild(this.bgAni5h.element),null!=this.bgAni5v&&s.appendChild(this.bgAni5v.element),null!=this.bgAni5&&(this.bgAni5.element.style.display="block",this.bgAni5.element.style.opacity=0,TweenLite.to(this.bgAni5.element,i,{autoAlpha:1}))}this.config.fader&&(this.slot.appendChild(this.faderElement),this.faderElement.style.display="block",this.faderElement.style.opacity=0,TweenLite.to(this.faderElement,i,{autoAlpha:this.config.faderPercent/100})),this.contentId=t;var n,o=this.content[this.contentId];if(null!=o.linkEl){this.slot.appendChild(o.linkEl);var r=o.linkEl}else r=this.slot;if(o.type==ANI5_CONTENT_IMAGE?(null!=o.ani5h&&r.appendChild(o.ani5h.element),null!=o.ani5v&&r.appendChild(o.ani5v.element)):o.type==ANI5_CONTENT_VIDEO?(null!=o.ani5&&(o.ani5._mode==V5_VIDEOMODE_JS&&r.appendChild(o.ani5.audioElement),r.appendChild(o.ani5.element)),null!=o.coverAni5h&&(o.coverAni5h.element.style.display="none",r.appendChild(o.coverAni5h.element)),null!=o.coverAni5v&&(o.coverAni5v.element.style.display="none",r.appendChild(o.coverAni5v.element)),o.ani5.rewind(),o.cur=o.ani5):(o.type==ANI5_CONTENT_VIPLUS&&this.initViPlus(),this.slot.appendChild(o.ani5.element)),this.onResize(),o.type===ANI5_CONTENT_IMAGE){var a=(n=o.cur).element.getAttribute("src");".gif"===a.substr(-4)&&(n.element.src=a+(-1==a.indexOf("?")?"?":"&")+"t="+Date.now())}else o.type===ANI5_CONTENT_VIDEO&&(e&&"click"===e.type&&o.ani5.setVolume(1),o.ani5.play()),n=o.ani5;if(n.element.style.display="block",n.element.style.opacity=0,TweenLite.to(n.element,i,{autoAlpha:1}),this.closeAni5.element.style.visibility="hidden",this.closeAni5.element.style.display="block",this._tmtClose=setTimeout(function(t){this._tmtClose=null,TweenLite.to(this.closeAni5.element,t,{autoAlpha:1})}.bind(this,i),1e3*this.closeAni5.config.timeout),this._paused=!1,o.config.hideAnimation)for(var h=0;h<this.parent.animations.length;h++)this.parent.animations[h].pause();this.parent.ani5stats.startTimeTracking("earned"),v5Event.trigger("CNT_SHOW"),v5Event.trigger("A5E_CNTIMPR")}},Ani5Content.prototype.close=function(){var t,e=this.content[this.contentId],i=this.parent.config.creative.type==ANI5_WOWPLAY&&this.config.appearAnimation==ANI5_APPEAR_FADEIN?.7:.2;if(this.contentId=null,this.slot.removeChild(this.closeAni5.element),null!=this.bgAni5&&TweenLite.to(this.bgAni5.element,i,{autoAlpha:0,onComplete:function(){if(null!=this.bgLinkEl){this.slot.removeChild(this.bgLinkEl);var t=this.bgLinkEl}else t=this.slot;null!=this.bgAni5h&&t.removeChild(this.bgAni5h.element),null!=this.bgAni5v&&t.removeChild(this.bgAni5v.element)}.bind(this)}),this.config.fader&&TweenLite.to(this.faderElement,i,{autoAlpha:0,onComplete:function(){this.slot.removeChild(this.faderElement)}.bind(this)}),e.type==ANI5_CONTENT_IMAGE?t=e.cur:e.type==ANI5_CONTENT_VIDEO?(e.ani5.pause(),t=e.cur):(e.type==ANI5_CONTENT_VIPLUS&&Ani5Wrapper.adState!=A5VP_STSTP&&Ani5Wrapper!=A5VP_STSKP&&(this._ignoreViPlusEvents=!0,Ani5Wrapper.ViPlus.stop(),this._ignoreViPlusEvents=!1),t=e.ani5),TweenLite.to(t.element,i,{autoAlpha:0,onComplete:function(){if(null!=e.linkEl){this.slot.removeChild(e.linkEl);var t=e.linkEl}else t=this.slot;e.type==ANI5_CONTENT_IMAGE?(null!=e.ani5h&&t.removeChild(e.ani5h.element),null!=e.ani5v&&t.removeChild(e.ani5v.element)):e.type==ANI5_CONTENT_VIDEO?(null!=e.ani5&&(e.ani5._mode==V5_VIDEOMODE_JS&&t.removeChild(e.ani5.audioElement),t.removeChild(e.ani5.element)),null!=e.coverAni5h&&t.removeChild(e.coverAni5h.element),null!=e.coverAni5v&&t.removeChild(e.coverAni5v.element)):this.slot.removeChild(e.ani5.element)}.bind(this)}),void 0!==this._tmtClose&&null!=this._tmtClose?clearTimeout(this._tmtClose):TweenLite.to(this.closeAni5.element,i,{autoAlpha:0,onComplete:function(){this.closeAni5.element.style.display="none"}.bind(this)}),null!=this.clickToPlay&&this.hideClickToPlay(),this._paused=!0,e.config.hideAnimation)for(var s=0;s<this.parent.animations.length;s++)this.parent.animations[s].resume();v5Event.trigger("CNT_CLOSE"),this.parent.ani5stats.pauseTimeTracking(),this.parent.ani5stats.startTimeTracking("paid"),setTimeout(function(t){!t&&this.parent._anims||this.parent.stop()}.bind(this,e.config.stopOnClose),1e3*i)},Ani5Content.prototype.pause=function(){if(!this._paused&&(this._paused=!0,null!=this.contentId)){var t=this.content[this.contentId];t.config.type==ANI5_CONTENT_VIDEO&&t.cur==t.ani5?t.cur.pause():t.config.type==ANI5_CONTENT_VIPLUS&&Ani5Wrapper.ViPlus.pause(),v5Event.trigger("CNT_PAUSE"),this.parent.ani5stats.pauseTimeTracking()}},Ani5Content.prototype.resume=function(){if(this._paused&&(this._paused=!1,this.contentId)){var t=this.content[this.contentId];t.config.type==ANI5_CONTENT_VIDEO&&t.cur==t.ani5?t.cur.play():t.config.type==ANI5_CONTENT_VIPLUS&&Ani5Wrapper.ViPlus.resume(),this.clickToPlay&&this.hideClickToPlay(),v5Event.trigger("CNT_RESUME"),this.parent.ani5stats.startTimeTracking("earned")}},Ani5Content.prototype.stop=function(){},Ani5Content.prototype.remove=function(){},Ani5Content.prototype.onWindowMessage=function(t){void 0!==t.data.type&&"Ani5Message"===t.data.type&&"v5Complete"===t.data.cmd&&t.data.creativeId==this.content[this.contentId].config.viPlusId&&this.close()},Ani5Content.prototype.onScroll=function(){v5Browser.isMobile&&this.onResize()},Ani5Content.prototype.showClickToPlay=function(){var t=this.content[this.contentId].cur.element.getBoundingClientRect(),e="position: fixed;opacity: 0.7;z-index: 2004000;left: "+Math.round(t.left)+"px;top: "+Math.round(t.top)+"px;width: "+Math.round(t.width)+"px;height: "+Math.round(t.height)+"px;cursor: pointer;background-color: #000",i=v5dom('<div style="'+e+'"></div>');i.onclick=function(t){t.stopPropagation(),this.hideClickToPlay(),this.resume()}.bind(this),e="position: fixed;display: block;cursor: pointer;opacity: 0.7;z-index: 2004001;left: "+Math.round(t.left+(t.width-80)/2)+"px;top: "+Math.round(t.top+(t.height-80)/2)+"px;";var s=v5dom('<img src="'+v5Browser.proto+'//serve.5visions.com/i/0_icon_play_80x80.png" style="'+e+'">');s.onmouseover=function(){this.style.opacity=1},s.onmouseout=function(){this.style.opacity=.7},s.onclick=function(t){t.stopPropagation(),this.hideClickToPlay(),this.resume()}.bind(this),this.slot.appendChild(i),this.slot.appendChild(s),this.clickToPlay={fader:i,icon:s}},Ani5Content.prototype.hideClickToPlay=function(){this.slot.removeChild(this.clickToPlay.fader),this.slot.removeChild(this.clickToPlay.icon),this.clickToPlay=null};var Ani5Button=function(t,e,i){this._elementId="_a5b"+v5rand(1,1e4),this.baseAni5=null,this.hoverAni5=null,this.tooltip=null,this.baseElement=null,this.hoverElement=null,this.width=0,this.height=0,this._hideTmt=null,this.ZINDEX=5e6,this.ISBUTTON=!0,this.config=t,this.parent=e,this.slot=i,this.init()};v5extend(Ani5Button,Ani5Animation),Ani5Button.prototype.init=function(){this.link=null!=this.config.content&&this.config.content.type==ANI5_CONTENT_LINK&&""!=this.config.content.link&&this.config.content.link,this.config.hideTimeout&&(this.config.hideTimeout+=this.config.appearTimeout),this.initElement(),this.initMouse(),this.element.onclick=function(){this.onClick()}.bind(this),this.initAssets(),this.config.tooltip&&this.initTooltip(),v5Event.addListener("CNT_SHOW",function(){this.onResize(),this.initAppear(),this.config.hideTimeout&&(this.config.hideTimeout+=this.config.appearTimeout,this.initHide())},this),v5Event.addListener("CNT_CLOSE",function(){this.hide()},this),this.scrollEventListener=function(t){v5Browser.isMobile&&this.onResize()}.bind(this),window.addEventListener("scroll",this.scrollEventListener,!1),v5Event.addListener("A5_RESIZE",function(){this.onResize()},this)},Ani5Button.prototype.close=function(){};var A5E_INIT=3001,A5E_LOAD=3011,A5E_IMPR=3021,A5E_VWIMPR=3022,A5E_CNTIMPR=3023,A5E_CNTTIME=3024,A5E_TESTIMPR=3026,A5E_ANIMTIME=3027,A5E_LNK=3031,A5E_CLK=3032,A5E_OBJIMPR=3101,A5E_OBJCLK=3102,A5E_OBJMO=3103,A5E_OBJLNK=3104,A5E_VQ1=3121,A5E_VQ2=3122,A5E_VQ3=3123,A5E_VQ4=3124,VW_VW=331,VW_UN=332,A5ES_UNQ=3701,A5ES_LOAD=3711,A5ES_ALOHA=3712,A5ES_JSON=3713,A5ES_IMPR=3714,A5ES_RB1=3721,A5ES_RB2=3722,A5ES_RBIP=3723,A5ES_RBUA=3724,A5ES_WRZ1=3731,A5ES_WRZ2=3732,A5ES_INFUA=3741,A5ES_INFP=3742,A5ES_INFDT=3743,A5RH=A5RH||"rotator.5visions.com",A5AH=A5AH||"serve-1.5visions.com",A5SH=A5SH||"stats-1.5visions.com",A5TH=A5TH||"track-1.5visions.com",A5SSH=A5SSH||"stats-1.5visions.com",A5OH=v5Stats.getHost(),A5VP_STLDD=1,A5VP_STSTR=2,A5VP_STPSD=3,A5VP_STSTP=4,A5VP_STSKP=5,A5WW=window.innerWidth,A5WH=window.innerHeight,_a5_visibilityChange=document.mozHidden?"mozvisibilitychange":document.msHidden?"msvisibilitychange":document.webkitHidden?"webkitvisibilitychange":"visibilitychange",Ani5=function(){if(-1===document.location.host.indexOf("24video")||/(Windows\sCE|iPhone|iPod|MIDP|Symbian|SymbOS|NOKIA|Android|BlackBerry|Opera\sMobi|Mobile|Opera\sMini|WAP|Playstation\sPortable|Palm|Maemo|Netfront|Teleca|BOLT|Iris|Minimo|AvantGo|Silk|Bunjaloo|Symphony)/.test(navigator.userAgent)){window._Ani5=window._Ani5||{},this.creativeId=_Ani5.cid||null,this.cbNoCreative=_Ani5.cbnocr||null,this.cbOnFinished=_Ani5.cbonfi||null,this.cbOnImpression=_Ani5.cbonimpr||null,this.cbOnClick=_Ani5.cbonclk||null,this.onDocReady=_Ani5.odr||!1,this.docReady=!1,this.rbPuid1=_Ani5.puid1||321,this.rbPuid2=_Ani5.puid2||1,this.afUrl=_Ani5.afUrl||null,this.apiUrl=_Ani5.au||"//"+A5RH+"/v1/creative",this.rotatr=_Ani5.rtr||"rb",this.rotatrUid=_Ani5.ruid||null,this.rotatrs=[],this.idfa="",this.ip="",this.test=0,this.animations=[],this.content=null,this.buttons=[],this.contentTime=[],this.wowContentId=null,this._anims=0,this._evt={},this._init=!1,this._state=1,this._getcid=0;var t=v5getCookie("_a5unq");if((v5empty(t)||t<v5time()-86400)&&v5setCookie("_a5unq",v5time()),-1!==document.location.search.indexOf("_ani5cid")){var e=document.location.search.match(/_ani5cid=(\d+)/);null!==e&&(this.creativeId=e[1]),this.test=1}this.start2()}};function _Ani5rb(t){_Ani5.rb(t)}function _Ani5af(t){_Ani5.af(t)}function simpleLog(t,e){""!==(e=e||"")&&(e="&answers="+e);var i=Math.round(Date.now()/1e3),s=document.location.host,n=void 0!==v5Browser&&v5Browser.platform?v5Browser.platform:0;(new Image).src="//stats-0.5visions.com/v1/stats/track-event?creative=1450&event="+t+"&host="+s+"&idfa=_v5meow_idfa&platform="+n+"&t="+i+e}Ani5.prototype.start2=function(){(window.top===window.self||this._getcid||-1!==window.top.document.location.host.indexOf("5visions"))&&(this.onDocReady&&v5ready(function(){console.log("_a5ready()"),this.docReady=!0,this.init()}.bind(this)),this.creativeId?this.loadJson(this.creativeId,"init"):v5script("//"+A5RH+"/v1/ani5?cb=_Ani5.aloha&t="+Date.now()))},Ani5.prototype.aloha=function(t){if(t.error)return console.log("Ani5 :   ");this.idfa=t.idfa,this.ip=t.ip,this.vwScript="//5visions1-a.akamaihd.net"+t.vwScript,t.rb&&(this.rbPuid1=t.rb.puid1||321,this.rbPuid2ios=t.rb.puid2ios||t.rb.puid2||10,this.rbPuid2android=t.rb.puid2android||t.rb.puid2||11,this.rbPuid2=v5Browser._ios()?this.rbPuid2ios:v5Browser._android()?this.rbPuid2android:t.rb.puid2||1,this.rbPuid5=t.rb.puid5||0),t.rtr.length?(this.rotatrs=t.rtr,this.nextRotatr()):this.onNoCreative()},Ani5.prototype.nextRotatr=function(){if(!this.rotatrs.length)return this.onNoCreative();var t=this.rotatrs.shift();"rb"===t&&v5Browser.isMobile?this.loadRb():"af"===t?this.loadAf():"5v"===t?this.load5v():this.nextRotatr()},Ani5.prototype.loadJson=function(t,e){v5script(this.apiUrl+(-1!==t?"/"+t:"")+"?cb=_Ani5."+e+(this.test?"&test=1":""))},Ani5.prototype.load5v=function(){v5script(this.apiUrl+"?"+(null!==this.rotatrUid?"ruid="+this.rotatrUid:"")+"&cb=_Ani5.v5&t="+Date.now())},Ani5.prototype.v5=function(t){if(!t)return this.nextRotatr();this.loadJson(t,"init")},Ani5.prototype.loadRb=function(){simpleLog(A5ES_RB1),v5script("//ad.mail.ru/adq/?q=4808"+((null!==this.rbPuid1?"&puid1="+this.rbPuid1:"")+(null!==this.rbPuid2?"&puid2="+this.rbPuid2:""))+"&callback=_Ani5rb&t="+Date.now())},Ani5.prototype.rb=function(t){if(!t.length||""===t[0].html)return this.nextRotatr();var e=t[0];try{var i=JSON.parse(e.html)}catch(t){return this.onNoCreative()}simpleLog(A5ES_RB2);var s=parseInt(i.creative);for(var n in 1e9<s&&(s-=1e9,this.test=1),this.rbPixels={},i.statistics)n=i.statistics[n],this.rbPixels[n.type]=n.url;this.loadJson(s,"init")},Ani5.prototype.loadAf=function(){v5script(this.afUrl+"&t="+Date.now())},Ani5.prototype.af=function(t){if(!t)return this.nextRotatr();1e9<(t=parseInt(t))&&(t-=1e9,this.test=1),this.loadJson(t,"init")},Ani5.prototype.onNoCreative=function(){"function"==typeof this.cbNoCreative&&this.cbNoCreative.apply(null,[])},Ani5.prototype.init=function(t){if(null!==(t=t||null)||void 0!==this._json)if(!this.onDocReady||this.docReady){if(null===t&&void 0!==this._json&&(t=this._json),!this._init){this._init=!0,this.config=t,this.config._config&&(this.config._config.assetsHost&&(A5AH=this.config._config.assetsHost),this.config._config.statsHost&&(A5SH=this.config._config.statsHost),this.config._config.trackHost&&(A5TH=this.config._config.trackHost));var e=document.body;for(var i in this.content=new Ani5Content(t.content,this,e),t.animations)this.config.creative.type==ANI5_WOWPLAY&&this.animations.length&&(t.animations[i].content=null),this.animations.push(new Ani5Animation(t.animations[i],this,e)),this._anims++;for(var i in t.buttons)this.buttons.push(new Ani5Button(t.buttons[i],this,e));this.initTracking(),this.startVW()}}else this._json=t},Ani5.prototype.stop=function(){console.log("Ani5.prototype.stop()"),this.content.stop(),this.content.remove(),this.content=null;for(var t=0;t<this.animations.length;t++)this.animations[t].stop(),this.animations[t].remove(),this.animations[t]=null,delete this.animations[t];for(t=0;t<this.buttons.length;t++)this.buttons[t].stop(),this.buttons[t].remove(),this.buttons[t]=null,delete this.buttons[t];document.removeEventListener(_a5_visibilityChange,Ani5.onVisibilityChange),window.removeEventListener("resize",Ani5.onResize),v5Event.trigger("A5_STOP")},Ani5.prototype.initTracking=function(){var t=this.config._config,e={creativeId:t.id&&10<String(t.id).length?t.id:this.config.creative.id,time:parseInt(t.time),idfa:this.config.idfa||"",ghost:t.originalHost||A5OH,statsHost:t.statsHost,trackHost:t.trackHost};if(this.ani5stats=new v5Stats(e),this.ani5stats._contentTime.EVENTIDS={earned:A5E_CNTTIME,paid:A5E_ANIMTIME},this.ani5stats.initPixels(this.config.trackingPixels),this.ani5stats.trackHosts(),v5Event.addListener("A5E_OBJIMPR",function(t){this._evt.A5E_IMPR||(this._evt.A5E_IMPR=1,this.ani5stats.trackEvent(A5E_IMPR),"function"==typeof this.cbOnImpression&&this.cbOnImpression.apply(null,[])),!this._evt.rbPixelShow&&this.rbPixels&&this.rbPixels.show&&(this._evt.rbPixelShow=1,(new Image).src=this.rbPixels.show),this.ani5stats.trackEvent(A5E_OBJIMPR,{elementId:t,gparam:t})},this),v5Event.addListener("A5E_OBJMO",function(t){this.ani5stats.trackEvent(A5E_OBJMO,{elementId:t,gparam:t})},this),v5Event.addListener("A5E_OBJCLK",function(t){this._evt.A5E_CLK||(this._evt.A5E_CLK=1,this.ani5stats.trackEvent(A5E_CLK),"function"==typeof this.cbOnClick&&this.cbOnClick.apply(null,[])),this.ani5stats.trackEvent(A5E_OBJCLK,{elementId:t,gparam:t})},this),v5Event.addListener("A5E_OBJLNK",function(t){this.ani5stats.trackEvent(A5E_OBJLNK,{elementId:t,gparam:t})},this),v5Event.addListener("A5E_CNTIMPR",function(){this._evt.A5E_CNTIMPR||(this._evt.A5E_CNTIMPR=1,this.ani5stats.trackEvent(A5E_CNTIMPR))},this),v5Event.addListener("A5E_LNK",function(){this._evt.A5E_LNK||(this._evt.A5E_LNK=1,this.ani5stats.trackEvent(A5E_LNK)),!this._evt.rbPixelClick&&this.rbPixels&&this.rbPixels.click&&(this._evt.rbPixelClick=1,(new Image).src=this.rbPixels.click)},this),v5Event.addListener("A5_STOP",function(){this.ani5stats.pauseTimeTracking(),this.ani5stats.trackEvent(A5E_ANIMTIME,{param:Math.round(this.ani5stats._contentTime.paid)}),this.ani5stats.trackEvent(A5E_CNTTIME,{param:Math.round(this.ani5stats._contentTime.earned)}),"function"==typeof this.cbOnFinished&&this.cbOnFinished.apply(null,[])},this),v5Event.addListener("A5_VQ0",function(t){this._evt["A5_VQ0_"+t]||(this._evt["A5_VQ0_"+t]=1)},this),v5Event.addListener("A5_VQ1",function(t){this._evt["A5_VQ1_"+t]||(this._evt["A5_VQ1_"+t]=1,this.ani5stats.trackEvent(A5E_VQ1,{elementId:t,gparam:t}))},this),v5Event.addListener("A5_VQ2",function(t){this._evt["A5_VQ2_"+t]||(this._evt["A5_VQ2_"+t]=1,this.ani5stats.trackEvent(A5E_VQ2,{elementId:t,gparam:t}))},this),v5Event.addListener("A5_VQ3",function(t){this._evt["A5_VQ3_"+t]||(this._evt["A5_VQ3_"+t]=1,this.ani5stats.trackEvent(A5E_VQ3,{elementId:t,gparam:t}))},this),v5Event.addListener("A5_VQ4",function(t){this._evt["A5_VQ4_"+t]||(this._evt["A5_VQ4_"+t]=1,this.ani5stats.trackEvent(A5E_VQ4,{elementId:t,gparam:t}))},this),v5Event.addListener("CNT_CLOSE",function(){this._state=1},this),v5Event.addListener("CNT_SHOW",function(){this._state=2},this),this.animations.length){var i=this.animations[0].config.appearTimeout;this._vwElem=this.animations[0].element,this._vwObjId=this.animations[0].config.id;for(var s=1;s<this.animations.length;s++)this.animations[s].config.appearTimeout<i&&(i=this.animations[s].config.appearTimeout,this._vwElem=this.animations[s].element,this._vwObjId=this.animations[s].config.id)}this.beforeEventListener=function(t){this.ani5stats.trackEvent(A5E_ANIMTIME,{param:Math.round(this.ani5stats._contentTime.paid)}),this.ani5stats.trackEvent(A5E_CNTTIME,{param:Math.round(this.ani5stats._contentTime.earned)}),window.removeEventListener("beforeunload",this.beforeEventListener)}.bind(this),window.addEventListener("beforeunload",this.beforeEventListener,!1),document.addEventListener(_a5_visibilityChange,Ani5.onVisibilityChange,!1),window.addEventListener("resize",Ani5.onResize,!1)},Ani5.onVisibilityChange=function(){console.log("visibilityState",document.mozVisibilityState||document.msVisibilityState||document.webkitVisibilityState||document.visibilityState),"visible"==(document.mozVisibilityState||document.msVisibilityState||document.webkitVisibilityState||document.visibilityState)?v5Event.trigger("BROWSER_VISIBLE"):v5Event.trigger("BROWSER_HIDDEN")},Ani5.onResize=function(){A5WW=window.innerWidth,A5WH=window.innerHeight,v5Event.trigger("A5_RESIZE")},Ani5.prototype.startVW=function(){this._vwSent=!1,window.requestViewability?this.onVWScriptLoaded():this.vwScript&&v5script(this.vwScript,function(){this.onVWScriptLoaded()}.bind(this),window.document)},Ani5.prototype.onVWScriptLoaded=function(){console.log("+onVWScriptLoaded");try{window.requestViewability(this._vwElem,function(){this.onVW()}.bind(this))}catch(t){console.log(t),this.ani5stats.trackEvent(VW_UN)}},Ani5.prototype.onVW=function(){this._vwSent||(this._vwSent=!0,console.log("+onVW"),this.ani5stats.trackEvent(VW_VW))},_Ani5=new Ani5;
