/*! v2.30.15 built Wed May 20 2020 19:41:25 GMT+0300 (Moscow Standard Time) */
!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(t){return e[t]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e){e.exports='<style>@keyframes videonow-spin{0%{transform:rotate(0deg);-webkit-transform:rotate(0deg)}to{transform:rotate(360deg);-webkit-transform:rotate(360deg)}}</style><svg style="animation:videonow-spin 1s linear infinite" viewBox="0 0 128 128"><path fill="none" stroke="url(#a)" stroke-width="2.77" d="M1252.52 595.235a31.93 31.93 0 01-17.5 5.2c-17.7 0-32.07-14.368-32.07-32.064 0-17.694 14.37-32.06 32.07-32.06 15.31 0 28.13 10.756 31.3 25.118" transform="translate(-2164.94 -961.788) scale(1.8048)"/><defs><radialGradient id="a" cx="0" cy="0" r="1" gradientTransform="rotate(-3.67 9382.41 -18979.953) scale(36.57698)" gradientUnits="userSpaceOnUse"><stop offset="0%" stop-color="#79669C" stop-opacity="0"/><stop offset="95%" stop-color="#79669C"/><stop offset="100%" stop-color="#fff"/></radialGradient></defs></svg>'},function(e,t,r){r(2),e.exports=r(8)},function(e,t,r){"use strict";r.r(t);var n=r(3),o=(r.n(n),r(4)),i=(r.n(o),r(5)),a=(r.n(i),r(6)),c=(r.n(a),r(7));r.n(c)},function(){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),n=r.length>>>0,o=arguments[1],i=0;i<n;i++)if(t=r[i],e.call(o,t,i,r))return t}})},function(){Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},r=function(e){var t=function(e){var t=+e;return isNaN(t)?0:0!=t&&isFinite(t)?(0<t?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),9007199254740991)};return function(e){var n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,i=1<arguments.length?arguments[1]:void 0;if(void 0!==i){if(!t(i))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(o=arguments[2])}for(var a,c=r(n.length),u=t(this)?Object(new this(c)):Array(c),s=0;s<c;)a=n[s],u[s]=i?void 0===o?i(a,s):i.call(o,a,s):a,s+=1;return u.length=c,u}}())},function(){!function(){"use strict";function e(){for(;a.length;)a[0](),a.shift()}function t(e){this.a=c,this.b=void 0,this.f=[];var t=this;try{e(function(e){!function e(t,r){if(t.a==c){if(r==t)throw new TypeError;var i=!1;try{var a=r&&r.then;if(null!=r&&"object"==typeof r&&"function"==typeof a)return void a.call(r,function(r){i||e(t,r),i=!0},function(e){i||n(t,e),i=!0})}catch(e){return void(i||n(t,e))}t.a=0,t.b=r,o(t)}}(t,e)},function(e){n(t,e)})}catch(e){n(t,e)}}function r(e){return new t(function(t){t(e)})}function n(e,t){if(e.a==c){if(t==e)throw new TypeError;e.a=1,e.b=t,o(e)}}function o(e){!function(e){a.push(e),1==a.length&&i()}(function(){if(e.a!=c)for(;e.f.length;){var t=(o=e.f.shift())[0],r=o[1],n=o[2],o=o[3];try{0==e.a?n("function"==typeof t?t.call(void 0,e.b):e.b):1==e.a&&("function"==typeof r?n(r.call(void 0,e.b)):o(e.b))}catch(e){o(e)}}})}var i,a=[];i=function(){setTimeout(e)};var c=2;t.prototype.g=function(e){return this.c(void 0,e)},t.prototype.c=function(e,r){var n=this;return new t(function(t,i){n.f.push([e,r,t,i]),o(n)})},window.Promise||(window.Promise=t,window.Promise.resolve=r,window.Promise.reject=function(e){return new t(function(t,r){r(e)})},window.Promise.race=function(e){return new t(function(t,n){for(var o=0;o<e.length;o+=1)r(e[o]).c(t,n)})},window.Promise.all=function(e){return new t(function(t,n){function o(r){return function(n){a[r]=n,(i+=1)==e.length&&t(a)}}var i=0,a=[];0==e.length&&t(a);for(var c=0;c<e.length;c+=1)r(e[c]).c(o(c),n)})},window.Promise.prototype.then=t.prototype.c,window.Promise.prototype.catch=t.prototype.g)}()},function(){Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice})},function(){Array.prototype.some||(Array.prototype.some=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError;for(var t=Object(this),r=t.length>>>0,n=2<=arguments.length?arguments[1]:void 0,o=0;o<r;o++)if(o in t&&e.call(n,t[o],o,t))return!0;return!1})},function(e,t,r){"use strict";function n(e,t){return void 0===t&&(t=v),JSON.parse(t.getItem(g)||"{}")[e]}function o(e,t,r){void 0===r&&(r=v);var n=JSON.parse(r.getItem(g)||"{}");(n[e]=""+t)&&n[e].length||delete n[e],r.setItem(g,JSON.stringify(n))}function i(e,t,r){void 0===t&&(t="black");var n=q[e]||"";return r&&(~r.indexOf(":")?n+=";"+r:(t=r,!~n.indexOf(z)&&(n+=z))),n&&n.replace("{{color}}",t)||""}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t,r=1;r<arguments.length;r++)t=null==arguments[r]?{}:arguments[r],r%2?u(Object(t),!0).forEach(function(r){l(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))});return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t,r=this,n=(ge(function(e,t){return e||(e=window),t||(t=e.document),function(e,t){try{return e.top.location.href}catch(t){}try{if(t.referrer)return t.referrer}catch(t){}try{var r=e.location.ancestorOrigins;if(0<r.length)return r[r.length-1]}catch(t){}return null}(e,t)||e.location.href}())||{}).vn_module;(e||(e={}),n)||(n=e.vn_module,delete e.vn_module);n?(xe.log(" vn_module="+n+" using and was saved to sessionStorage",1,"font-size:1.5em"),O("vnModule",n)):(n=b("vnModule"))&&xe.warn(" vn_module("+n+") was restored from sessionStorage",2,"color:#ff5722; font-size:1.5em");try{t=e&&e.format&&JSON.stringify(e.format,function(e,t){return"lookupElement"===e?Object.prototype.toString.call(t):t||""})}catch(e){t=e}xe.trace(".processEntry() entry.format = "+t);var o=e,i=o.module,a=o.module2,c=o.url,u=i||{},s=u.log,l=u.min,d=a||{},p=d.log,v=d.min;(e.isABTesting=p||v)&&(.5>ke()?(p&&(s=p),v&&(l=v),xe.log(".processEntry() is AB-test. Uses module 2",2,"green")):xe.log(".processEntry() is AB-test. Uses module",2,"blue"));var m=n||(0<F&&s?s:l)||c||"//"+y.BASE_DOMAIN+"/"+he+".js",g=m===n?"custom module":m===l?"minified module":m===s?"module with log":m===c?'old style version from "url" field':"unknown";if(xe.log(".processEntry() found "+g+" ("+m+")",2,"green"),e&&e.format&&e.format.name?xe.log(" Initializing module with predefined format ("+e.format.name+")"):xe.log(" Initializing module without predefined format (must be provided in VAST data source)"),e&&e.debug)try{(window.VN||(window.VN={})).debug=JSON.parse(e.debug),xe.log(" processEntry() window.VN.debug = "+JSON.stringify(window.VN.debug))}catch(e){}xe.trace(" Env: "+e.env);var w=1===e.amp||!0===e.amp||"dfp"!==e.env?window:window.parent;if(!w)throw new Error("Failed to obtain target window reference ("+w+")");oe(window,e.css),(je[m]=je[m]||we(m,w.document)).then(function(){var t=ve({},e.options,Oe.options),n=e,o=n.profileId,i=n.amp,a=n.timeout,c=n.ext,u=n.maincontainerisiframe;if(o&&ve(t,{profileId:o}),a&&ve(t,{timeout:a}),i&&ve(t,{amp:i}),c){var s=e.viqeoStarterUrl,l=c.vnShowViqeo;s&&l&&l.options&&(l.options.starterUrl=s),ve(t,{ext:c})}void 0!==u&&(t.mainContainerIsIframe=ce(u));var d=e,p=d.initOnly,v=d.onload;if(p&&"0"!==p&&"false"!==p){xe.log(" function vnModuleCreate was created");var m=w.vnModuleCreate=f.bind(r,e,w,t),y=w.vnModuleReady;y&&y.length&&y.forEach(function(e){return e(m)}),v&&w[v]&&w[v](m)}else f(e,w,t)})}function f(e,t,r,n){void 0===n&&(n={}),xe.log("video now module starting...");var o=(t.createVPAIDAd||t.getVPAIDAd)(r);"adfox"===e.env&&o.subscribe(function(){var t=e.random,r=e.random1,n=window["fullscreenClose_"+(r||t)];"function"==typeof n?n():xe.warn(" Failed to call fullscreenClose function (random="+t+", random1="+r+")")},"AdDestroyed");var i=e.dataUrl,a=e.dataXml,c=e.format,u=e.isABTesting,l=e.ext,d=n||{},f=d.format,p=d.width,v=d.height,m=d.environmentVars,y=void 0===m?{}:m;n&&(f&&delete n.format,delete n.width,delete n.height,delete n.environmentVars);var g={dataUrl:i,AdParameters:a&&"dataXml="+encodeURIComponent(a),isABTesting:u},w=s({format:ve({},c,f||{}),advancedParams:n,ext:l},y);return o.initAd(p||0,v||0,"normal",0,g,w),o}function p(e){xe.trace(".processEntries("+e.length+")");var t=e[0];return t?(xe.trace(" Processing entry "),d(t),t.dynamic&&(xe.trace(" Initializing dynamic entry"),function(e){xe.trace(".initDynamicEntry()");var t=e.vnStartFunctionName;if(t&&xe.trace(".initDynamicEntry() vnStartFunctionName="+t),"undefined"!=typeof MutationObserver){var r=new MutationObserver(function(t){var n=e.maxInstances||1/0;return 0>=n?(xe.trace(" MutationObserver disconnected, max instances ("+n+") reached"),void r.disconnect()):void t.forEach(function(t){var r=t.addedNodes;Array.from(r).filter(function(t){return 1===t.nodeType&&("true"===e.dynamic||!0===e.dynamic||ie(t,e.dynamic)||t.querySelector(e.dynamic))}).forEach(function(t){try{var r;if(t){var n=t.className&&"."+t.className||"",o=t.getAttribute("style"),i=o&&o.length&&'style="'+o+'"'||"";r="<"+t.tagName+n+" "+i+">"}xe.log(".initDynamicEntry(): mutations lookupElement="+r)}catch(e){}var a=ve({},e,{format:{options:{lookupElement:t}}});delete a.dynamic,d(a)})})});r.observe(document.body,{childList:!0,attributes:!1,characterData:!1,subtree:!0})}else xe.warn(" MutationObserver is not available")}(t)),void(!t.blocking&&p(e.slice(1)))):(xe.trace(" No more entries left"),void xe.log(" Done",2))}Math.min,Math.max,Math.abs;r.r(t);var v,m,y={VERSION:"1.0.0",BASE_DOMAIN:"static.videonow.ru",DATA_DOMAIN:"init.videonow.ru",STAT_DOMAIN:"stat.videonow.ru",HOME_URL:"http://www.videonow.ru",CLIENT_INFO_DOMAINS:["init.videonow.ru","data.videonow.ru"]},g="videonow-config";try{v=localStorage,m=sessionStorage}catch(t){m=v={getItem:function(){return""},setItem:function(){return""}}}var w,h,b=function(e){return n(e,m)},O=function(e,t){return o(e,t,m)},A={NONE:0,ERROR:1,WARN:2,LOG:3,TRACK:4,TRACE:5},j="logLevel",S=Math.random().toString(36).substring(2,5),E="undefined"!=typeof window&&window||{};try{h=window.location.search;try{h=window.top.location.search}catch(e){}}catch(t){}var x,k,P=h?/[?&]vn_debug\b(?:=(\d+))?/.exec(h):null,N=P&&P[1],_=N;null==N?(N=parseInt(n(j),10)||0)&&(k=" logger: vn_debug("+N+") was restored from localStorage"):(x=" logger: vn_debug="+(N=parseInt(N,10)||0)+" is using and saved to localStorage",o(j,N));var I,M=[],T=function(){return"["+(new Date).toISOString().slice(11,-1)+"] <"+S+">"},R=function(e,t){return void 0===t&&(t=T),E.vnLog||function(r,n,o){var i="%c "+t()+n;M.push(i),r<=e&&(console.info(i,""+o),r===A.ERROR&&console.error("Stack trace"))}},L=0,C=1,D=2,U=function(e,t,r){return void 0===r&&(r=!0),t=t||R(e),r&&t(A.LOG," Videonow logger started with log level "+e+" ("+function(e){return Object.keys(A).find(function(t){return A[t]==e})}(e)+") v2.30.15 built "+new Date(1589992885982),"font-weight: bold"),{none:function(){},error:function(e,r,n){return void 0===r&&(r=D),t(A.ERROR,e,i(r,"red",n))},warn:function(e,r,n){return void 0===r&&(r=C),t(A.WARN,e,i(r,"red",n))},log:function(e,r,n){return void 0===r&&(r=L),t(A.LOG,e,i(r,r===C?"green":"#333",n))},track:function(e,r,n){return void 0===r&&(r=C),t(A.TRACK,e,i(r,"darkblue",n))},trace:function(e,r,n){return void 0===r&&(r=C),t(A.TRACE,e,i(r,r>C?"#aaa":"lightgray",n))},archive:M,getLevel:function(){return e},setLevel:function(r){e=r,t=t||R(r)}}},z="color:{{color}}",q=((w={})[L]="",w[C]=z,w[D]=z+";font-weight:bold",w);try{I=window.videonow=window.videonow||{}}catch(t){I={}}if(!I.logger){var V=U(N,null);x&&V.warn(x,2,"color:#ff5722;font-size:1.5em;font-weight:bold"),k&&V.warn(k,2,"color:#ff5722; font-size:1.5em"),I.logger=V}I.logger;var F=N,J=r(0),G=(r.n(J),"undefined"!=typeof window&&window||{}),B="undefined"!=typeof navigator&&navigator||{},X=B.userAgent,H=B.vendor,W=B.plugins,K=B.appVersion,Z=G.opera,Q=G.MSStream,Y=(G.devicePixelRatio,G.VN&&G.VN.debug&&G.VN.debug.userAgent||X||H||Z||""),$=/iPod/.test(Y)&&!Q,ee=/iPhone/.test(Y)&&!Q,te=/iPad/.test(Y)&&!Q,re=$||ee||te;/android/i.test(Y),/safari/i.test(Y)&&/apple/i.test(H),/chrome/i.test(Y),/firefox|mozilla/i.test(Y)&&(!H||/google/i.test(H)),/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(Y)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(Y.substr(0,4)),void 0===W||0===W.length?"undefined"==typeof ActiveXObject||new ActiveXObject("ShockwaveFlash.ShockwaveFlash"):W["Shockwave Flash"],function(){if(!re)return!1;if("string"!=typeof K)return!1;var e=K.match(/OS (\d+)_(\d+)_?(\d+)?/);e&&e.length&&2<e.length&&parseFloat(e[1]+"."+e[2])}();G.document&&G.document.addEventListener("touchstart",function(){!0}),G.document&&G.document.addEventListener("touchend",function(){!1});var ne=function(e,t){return e&&("object"==typeof e||"function"==typeof e)&&"string"==typeof e.innerHTML&&(!t||t.toUpperCase()===e.tagName)},oe=function(e,t){void 0===t&&(t={});var r=[];Object.keys(t).forEach(function(e){var n=t[e],o=[];Object.keys(n).forEach(function(e){var t=n[e],r=function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}(e);o.push(r+":"+t)});var i=e+"{"+o.join(";")+"}";r.push(i)}),function(e,t){var r=e.ownerDocument||e.document,n=r.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(r.createTextNode(t)),r.head.appendChild(n)}(e,r.join(""))},ie=function(e,t){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),void 0)}).call(e,t)},ae=function(e){return!e||Array.isArray(e)&&!e.length||Object.keys&&!Object.keys(e).length},ce=function(e){return e&&(!0===e||"true"===e||"1"===e||1===e)||!1},ue="__overwrite_type";"undefined"!=typeof exports&&(exports.OVERWRITE_FLAG=ue);var se="__important";"undefined"!=typeof exports&&(exports.IMPORTANT_FLAG=se);var le="__value";"undefined"!=typeof exports&&(exports.VALUE_FLAG=le);var de="__primitive";"undefined"!=typeof exports&&(exports.PRIMITIVE_FLAG=de);var fe=function(e){var t=(e||{})[ue];return t&&t.toLowerCase&&"solid"===t.toLowerCase()},pe=function(e){return e&&!0===e[se]},ve=function e(t){if(void 0===t&&(t={}),t){for(var r=arguments.length,n=Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];n.forEach(function(r){void 0===r&&(r={});var n=!pe(t)||pe(r),o=fe(r);o&&n?t=r:Array.isArray(t)&&Array.isArray(r)?t=Array.from(new Set(t.concat(r))):Object.keys(r).forEach(function(i){var a=r[i];if(void 0!==a&&a!==ue)if(!a||"object"!=typeof a||ae(a)||ne(a))i!==ue&&n&&(t[i]=a);else{var c=Object.prototype.hasOwnProperty.call(t,i)&&t[i]||(t[i]=Array.isArray(a)?[]:{});t[i]=pe(c)&&!pe(a)||!o&&!fe(a)?e(c,a):a}})})}return t};"undefined"!=typeof exports&&(exports.extend=ve),"undefined"!=typeof exports&&(exports.finalize=function e(t,r){return void 0===r&&(r={}),!t||Array.isArray(t)||"object"!=typeof t?t:!0===t[de]?t[le]:(Object.keys(t).forEach(function(n){var o=t[n];if(void 0!=o&&!0===o[de]&&void 0!=o[le])r[n]=o[le];else if(void 0!==o)if(!o||Array.isArray(o)||"object"!=typeof o||ae(o)||ne(o))r[n]=o;else{var i=Object.prototype.hasOwnProperty.call(r,n)&&r[n]||(r[n]={});e(o,i)}}),r&&r[de]?r[le]:r)});var me=function(e,t,r){var n=e&&t?e.querySelector(t):e,o=n&&n.textContent;return"string"==typeof o?o.trim():r},ye=function(e,t,r){var n=me(e,t,r);try{return JSON.parse(n)}catch(e){return n}},ge=function(e){void 0===e&&(e="");var t=e.split("?")[1]||"",r=t?t.split("&"):[];return r&&r.length&&r.reduce(function(e,t){var r=t.split("="),n=r[0]&&decodeURIComponent(r[0]),o=r[1]&&decodeURIComponent(r[1]);return(n||o)&&(e[n]=o&&o.replace(/\+/g," ")),e},{})||{}};"undefined"!=typeof exports&&(exports.parseXmlOptions=function(e,t){if(void 0===t&&(t={}),!e)return null;var r=function(e){for(var t,r=1;r<arguments.length;r++)t=null==arguments[r]?{}:arguments[r],r%2?a(Object(t),!0).forEach(function(r){c(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))});return e}({optionName:"option",onlyTopLevel:!1},t),n=r.optionName,o=r.onlyTopLevel,i=e&&(ye(e,"important")||e.getAttribute("important")),u=e.querySelector(n+"s"),s=u&&(ye(u,"important")||u.getAttribute("important")),l=u&&u.getAttribute("overwrite"),d=e.querySelectorAll(n+"s > "+n);if(!d||!d.length)return null;if(o)return Array.from(d);var f=Array.from(d).reduce(function(e,t){var r,n=t.getAttribute("name"),o=t.getAttribute("important"),a=e[n]=((r={})[le]=me(t),r[de]=!0,r);return void 0==o?void 0==s?void 0!=i&&(a[se]=ce(i)):a[se]=ce(s):a[se]=ce(o),e},{});return l&&(f[ue]=l),s?f[se]=ce(s):i&&(f[se]=ce(i)),f});var we=function(e,t){return void 0===t&&(t=window.document),new Promise(function(r,n){if(!e)throw new Error("requests.loadScript("+e+", "+t+") Invalid url");var o=t.getElementsByTagName("head")[0],i=t.createElement("script");i.src=e,i.type="text/javascript",i.addEventListener("load",r),i.addEventListener("error",n),o.appendChild(i)})},he="vn_module",be=["baseUrl","url","initonly","timeout","onload","vnstartfunction","random","random1","viqeostarterurl","maincontainerisiframe"],Oe=window.videonow=window.videonow||{},Ae=Oe.init=Oe.init||{},je=Oe.cache=Oe.cache||{},Se=function(){return"["+(new Date).toISOString().slice(11,-1)+"] ModuleInit"},Ee=R(F,Se),xe=U(F,0<F?Ee:function(){}),ke=function(){return crypto&&Uint32Array?crypto.getRandomValues(new Uint32Array(1))[0]/4294967296:Math.random()},Pe=function(e){return new Promise(function(t){xe.trace(".getScriptParams()"),xe.log(" getScriptParams() script.src="+e.src+" script['data-url']="+e.getAttribute("data-url"));var r=ve({},ge(e.src),function(e){var t=e&&e.dataset||{};return Object.keys(t).reduce(function(e,r){var n=t[r];return r&&n&&(e[r.startsWith("data-")?r.replace("data-",""):r]=t[r]),e},{})}(e)),n=r.vn_debug;delete r.vn_debug;var i=null==_||n!==_?n||null:_||null;if(!xe||null!=i&&xe.getLevel()!==i){o(j,i);var a=R(i,Se);(xe=U(i,0<n?a:function(){})).warn(" vn_module_init: new value vn_debug="+i+" is using and saved to localStorage",2,"color:#ff5722;font-size:1.5em;font-weight:bold");var c=Oe.logger;c&&c.setLevel(i)}r.baseUrl=r.url||"//"+y.DATA_DOMAIN+"/?init",delete r.url,r.profileId=r.profile||r.profileId;var u=0<=window.location.href.indexOf("ampproject.net");u||(u=(u=r.amp)&&"true"===u.toLowerCase()||"1"===u),u&&(r.amp=1,r.format="contentroll"),xe.trace(" Retrieved script parameters: "+JSON.stringify(r,null,"\t")),t(r)})},Ne=function(e){return new Promise(function(t){xe.trace(".getJsonUrl()");var r=e.baseUrl;delete e.baseUrl;var n=function(e,t){void 0===e&&(e=""),void 0===t&&(t={});var r=[];Object.keys(t).forEach(function(e){var n=t[e],o=[encodeURIComponent(e)];null!==n&&void 0!==n&&o.push(encodeURIComponent(n)),r.push(o.join("="))});var n=-1<e.indexOf("?")?"&":"?";return r.length?e+n+r.join("&"):e}(r,Object.keys(e).reduce(function(t,r){var n=e[r];return~be.indexOf(r.toLowerCase())||void 0===n?t:(t[r]=n,t)},{}));xe.trace(" Assembled JSON url ("+n+")"),t(n)})},_e=function(e){return new Promise(function(t){xe.trace(".fetchJson("+e+")"),xe.trace(" Fetching JSON data ("+e+")"),function(e,t){return void 0===t&&(t={}),new Promise(function(r,n){if(!e)throw new Error("Invalid url ("+e+")");var o=t,i=o.overrideMimeType,a=o.options,c=o.body,u=o.timeout,s=void 0===u?5e3:u,l=o.requestHeaders,d=void 0===l?{}:l,f=o.method,p=void 0===f?"GET":f,v=o.withCredentials,m=new XMLHttpRequest;m.addEventListener("load",r),m.addEventListener("error",n),m.addEventListener("timeout",n),m.withCredentials=void 0===v||v,i&&m.overrideMimeType(i),a&&ve(m,a),m.open(p,e,!0),m.timeout=s,d&&Object.getOwnPropertyNames(d).forEach(function(e){m.setRequestHeader(e,d[e])}),m.send(c)})}(e,{withCredentials:!1}).then(function(e){try{var r=JSON.parse(e.target.responseText),n=[].concat(r);xe.trace(" Retrieved JSON data ("+n.length+" items)"),xe.log(" Initializing entries ("+n.length+")"),t(n)}catch(e){throw new Error("Failed to parse profile json: "+e)}}).catch(function(e){throw new Error("Unable to retrieve profile data: "+e)})})},Ie=function(e){var t=[].concat(e);return t.initialized=!0,t},Me=function(e){return new Promise(function(t){var r,n=e.profileId,o=Ae[n];if(xe.trace(".getJsonData("+o+")"),o){if(xe.trace(" Using existing JSON data"),o.initialized)throw new Error("Profile ("+n+") already initialized, aborting...");r=Promise.resolve(o)}else Ae[n]={initialized:!0},xe.trace(" Requesting JSON data from server"),r=Promise.resolve(e).then(Ne).then(_e);var i=["format","options"],a=Object.keys(e).reduce(function(t,r){return 0>i.indexOf(r.toLowerCase())&&(t[r]=e[r]),t},{});t(r=r.then(Ie).then(function(e){return Ae[n]=e}).then(function(e){return e.map(function(e){return ve(e,a)})}))})},Te=function(e){xe.error(" "+e)};setTimeout(function(){try{var e=function(e){xe.trace(".getScript()");var t=document.querySelector('script[src*="'+e+'"]');if(!ne(t,"script"))throw new Error('Failed to obtain script tag (script[src*="'+e+'"])');xe.trace(" Retrieved script tag ("+t+")");var r=t.parentNode;return Oe.options=Oe.options||{},ve(Oe.options,{initScriptParentNode:r}),function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}(t),xe.trace(" Removed script tag from DOM"),t}("vn_init");Promise.resolve(e).then(Pe).then(Me).then(p).catch(Te)}catch(e){Te(e)}},0)}]);