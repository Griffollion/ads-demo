/*! v2.30.15 built Wed May 20 2020 19:41:25 GMT+0300 (Moscow Standard Time) */
!function(t){function e(r){if(i[r])return i[r].exports;var o=i[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,r){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)e.d(r,o,function(e){return t[e]}.bind(null,o));return r},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=37)}([function(t,e,i){"use strict";function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function o(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?r(Object(e),!0).forEach(function(i){n(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t){return f(t,"IFRAME")&&t.contentWindow&&"complete"===t.contentWindow.document.readyState||f(t,"DIV")&&t}function s(t,e){return d(t,e&&e.offsetParent)}function d(t,e){var i=0,r=0,o=document;if(e){var n=window,a=e.closest&&e.closest("body"),s=c(document,a);s&&s.length&&(n=s.pop().contentWindow),o=n.document;var d=(getComputedStyle(e)||{}).position;if(~["absolute","relative","fixed"].indexOf(d)){var l=e.getBoundingClientRect(),u=l.top,h=l.left;i=u+n.pageYOffset,r=h+n.pageXOffset}}var p=function(t,e){void 0===e&&(e=document);var i,r={top:0,left:0},o=t&&t.getBoundingClientRect&&t.getBoundingClientRect()||r,n=o.top,a=o.left;if(document===e)i=window;else{var s=c(document,e.body);i=s.length&&s.pop().contentWindow}if(i){var d=i,l=d.pageXOffset,u=d.pageYOffset;n+=u,a+=l}var h=t.closest&&t.closest("body"),p=c(e,h);if(p.length){var f=p.reduceRight(function(t,e){var i=e&&e.getBoundingClientRect()||r,o=i.top,n=i.left;t||(t={top:0,left:0});var a=e&&getComputedStyle(e)||{},s=a.paddingLeft,d=a.paddingTop;return t.top+=o+(e&&e.clientTop||0)+(s&&parseFloat(s)||0)+(e&&e.scrollTop||0),t.left+=n+(e&&e.clientLeft||0)+(d&&parseFloat(d)||0)+(e&&e.scrollLeft||0),t},null),g=f.top,b=f.left;n+=g,a+=b}return{top:n,left:a}}(t,o);return p.top-=i,p.left-=r,p}function c(t,e){return t&&t.body===e?[]:function t(e,i,r){void 0===r&&(r={}),r||(r={}),r.children||(r.children=[]);var o=e.querySelectorAll("iframe"),n=!1;return o.length&&Array.from(o).some(function(e){var o=e.contentDocument;if(o){if(o.body===i){n=[e];for(var a=r;a&&a.element;){n.push(a.element);var s=a;a=s.parent}return!0}var d={element:e,children:[]};if(d.parent=r,r.children.push(d),(n=t(o,i,d)).length)return!0}return!1}),n}(t,e)}i.d(e,"c",function(){return p}),i.d(e,"p",function(){return f}),i.d(e,"s",function(){return g}),i.d(e,"b",function(){return b}),i.d(e,"q",function(){return m}),i.d(e,"d",function(){return v}),i.d(e,"a",function(){return y}),i.d(e,"n",function(){return O}),i.d(e,"u",function(){return _}),i.d(e,"l",function(){return w}),i.d(e,"t",function(){return S}),i.d(e,"k",function(){return j}),i.d(e,"j",function(){return P}),i.d(e,"i",function(){return C}),i.d(e,"e",function(){return E}),i.d(e,"m",function(){return D}),i.d(e,"r",function(){return I}),i.d(e,"f",function(){return T}),i.d(e,"o",function(){return k}),i.d(e,"v",function(){return x}),i.d(e,"h",function(){return s}),i.d(e,"g",function(){return d});i(2);var l=i(11),u=i.n(l),h=i(5),p=function(t){t.preventDefault(),t.stopPropagation()},f=function(t,e){return t&&("object"==typeof t||"function"==typeof t)&&"string"==typeof t.innerHTML&&(!e||e.toUpperCase()===t.tagName)},g=function(t){return t&&t.parentNode&&t.parentNode.removeChild(t),null},b=function(t,e){var i=[].concat(t).filter(function(t){return t&&t.style});return Object.keys(e).forEach(function(t){var r=e[t];void 0!==r&&i.forEach(function(e){var i=e.style;if(i[t]=r,-1!==["transform","transition","userSelect"].indexOf(t)){var o=""+t[0].toUpperCase()+t.substr(1);["Webkit","Moz","Ms","O"].forEach(function(t){i[""+t+o]=r})}})}),t},m=function(t,e){if(void 0===e&&(e=!1),f(t,"video")||f(t,"audio")){var i=t.play();return void 0===i?void 0:i.then(function(){return i}).catch(function(t){if(e)throw t;return i})}return!1},v=function(t,e,i,r){var o=document.createElement(t);switch(typeof e){case"object":b(o,e);break;case"string":o.className=e}return o.innerHTML=i||"",o.addEventListener("click",r),o},y=function(t,e,i,r,o){var n=v(e,i,r,o);return t.appendChild(n)},O=function(t,e,i,r,o){var n=v(e,i,r,o);return t.parentElement.insertBefore(n,t.nextSibling)},_=function(t,e){t&&"object"==typeof e&&Object.keys(e).forEach(function(i){return t.setAttribute(i,e[i])})},A=function(t,e){return-1<(" "+t.className+" ").indexOf(" "+e+" ")},w=function(t,e){for(;t;){if(A(t,e))return!0;t=t.parentNode}return!1},S=function(t,e){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(t){return-1!==[].indexOf.call(document.querySelectorAll(t),void 0)}).call(t,e)},j=function(t,e,i){if(void 0===e&&(e=document.body),void 0===i&&(i=1),!t)return[];if(!f(e))return[];var r=[];return t.split("|").some(function(t){if(S(e,t))return r=[e],!0;var o=e.querySelectorAll(t);return 0<o.length&&!(o.length<i)&&(r=Array.from(o),!0)}),r},P=function(t,e,i,r){if(void 0===e&&(e="100%"),void 0===i&&(i=document.body),void 0===r&&(r=1),!t)return null;if(f(t))return t;if("string"==typeof t){var o=j(t,i,r),n=parseInt(e,10)/100;return isNaN(n)?null:o[n?Math.ceil(o.length*n)-1:0]}return null},C=function(t,e){var i=t.parentNode,r=getComputedStyle(t),o=i.style.display;i.style.display="none";var n=r.getPropertyValue(e);return i.style.display=o,n},E=function(t){return y(t,"div",{position:"absolute",transform:"translate(-50%, -50%)",top:"50%",left:"50%"},u.a)},D={position:"absolute",visibility:"hidden"},I={position:"absolute",visibility:"initial"},T=function(t,e){for(var i=[];t.parentNode;)if(i.push(t.parentNode),(t=t.parentNode)===e)return i;return i},k=function(t,e){for(var i=t.parentElement;;){if(!i)return!1;if(i===e)return!0;i=i.parentElement}},x=function(t,e){void 0===e&&(e={});var i,r=o({},{iframeLoadedTimeout:50,maxAttempt:10},{},e),n=r.iframeLoadedTimeout,s=r.maxAttempt,d=r.onload,c=r.onerror,l=s;if(d){if(a(t))return d(),null;h.g?i=setInterval(function(){--l;var e=a(t);if(e&&d(),(0==--l||e)&&clearInterval(i),!l&&!e)throw new Error(".setIframeEventsHandlers() fail loading iframe")},n):t.onload=d}return t.onerror=function(){if(clearInterval(i),!h.c)throw c&&c(),new Error(".setIframeEventsHandlers() fail loading iframe");d()},i}},function(t,e,i){"use strict";function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function o(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?r(Object(e),!0).forEach(function(i){n(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t,e){try{return t.top.location.href}catch(e){}try{if(e.referrer)return e.referrer}catch(e){}try{var i=t.location.ancestorOrigins;if(0<i.length)return i[i.length-1]}catch(e){}return null}function s(t,e){return t||(t=window),e||(e=t.document),a(t,e)||t.location.href}function d(t,e,i){void 0===i&&(i=null),i||(i=t);var r=document.documentElement,o=null,n=null,a=null,s=null;try{o=i.offsetHeight||i.innerHeight||window.innerHeight,n=i.innerWidth||window.innerWidth,s=(a=!isNaN(i.scrollTop)&&i.scrollTop||(window.pageYOffset||r.scrollTop)-(r.clientTop||0))+o}catch(t){}var d=e.getBoundingClientRect(),c=t.getBoundingClientRect&&t.getBoundingClientRect().top||0;return{viewportHeight:o,viewportWidth:n,viewportTop:a,viewportBottom:s,moduleTop:d.top+c}}function c(t,e){t&&Object(j.b)(t,{width:k(e.width),height:k(e.height)})}function l(t){if(!Object(j.p)(t))return{};var e=getComputedStyle(t),i=e.paddingTop,r=e.paddingRight,o=e.paddingBottom,n=e.paddingLeft,a=e.marginTop,s=e.marginRight,d=e.marginBottom,c=e.marginLeft,l=e.borderTopWidth,u=e.borderRightWidth,h=e.borderBottomWidth,p=e.borderLeftWidth,f=e.width,g=e.heigth,b=t.getBoundingClientRect(),m=b.width,v=b.height;f=parseFloat(f)||0,g=parseFloat(g)||0,l=parseFloat(l)||0,u=parseFloat(u)||0,h=parseFloat(h)||0,p=parseFloat(p)||0,i=parseFloat(i)||0,r=parseFloat(r)||0,o=parseFloat(o)||0,n=parseFloat(n)||0,a=parseFloat(a)||0,s=parseFloat(s)||0,d=parseFloat(d)||0,c=parseFloat(c)||0;var y=t.clientWidth,O=t.clientHeight,_=t.offsetHeight,A=t.offsetWidth,S=function(t){return 0>t?0:t};return{paddingTop:i,paddingRight:r,paddingBottom:o,paddingLeft:n,marginTop:a,marginRight:s,marginBottom:d,marginLeft:c,top:i+S(a),right:r+S(s),bottom:o+S(d),left:n+S(c),clientWidth:y,clientHeight:O,width:m,height:v,offsetHeight:_,offsetWidth:A,insideWidth:A-n-r-p-u,insideHeight:_-i-o-l-h,outsideWidth:A?A+S(c)+S(s):w(S(c),S(s)),outsideHeight:_?_+S(a)+S(d):w(S(a),S(d)),borderTopWidth:l,borderRightWidth:u,borderBottomWidth:h,borderLeftWidth:p,widthFromStyle:f,heightFromStyle:g,rect:t.getBoundingClientRect()}}function u(t,e){function i(t){return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}var r=t.getBoundingClientRect(),o=r.bottom-r.top,n=[i(r)];n[0].element=t,g(window,function(t){if(t){var e=i(t.getBoundingClientRect());e.win=t,n.push(e)}}),n.reverse();var a=n[0].win&&v(n[0].win),s=a&&a.clientWidth||null,d=a&&a.clientHeight||null,c=d?d+n[0].top:null,l=s?s+n[0].left:null;n.reduce(function(t,e){return e.bottom+=t.top,e.top+=t.top,e.right+=t.left,e.left+=t.left,e});var u=w.apply(null,n.map(function(t){return t.top})),h=w.apply(null,n.map(function(t){return t.left})),p=S.apply(null,n.map(function(t){return t.bottom}));null!==c&&(p=S(p,c));var f=S.apply(null,n.map(function(t){return t.right}));null!==l&&(f=S(f,l));var b=u,m=h,y=p,O=f,_=(r.bottom-r.top)*(r.right-r.left),A=(y-b)*(O-m),j=0>=A?0:A/_,E=s*d;if(!A&&!o){var D=n.filter(function(t){return t.element}),I=n.filter(function(t){return!t.element});D.length&&I.length&&I.some(function(t){return t.top<=D[0].top})&&I.some(function(t){return t.bottom>=D[0].bottom})&&(j=1)}P.b.none(C+".getVisibilityByRect() intersectionRatio="+j,1);var T={intersectionRatio:j,visibility:0^100*j,moduleSquare:_,screenSquare:E,relationSize:0^_/E*100,boundingClientRect:r};return P.b.none(C+".getVisibilityByRect() result="+JSON.stringify(T)),e&&e(T),T}function h(t,e,i){P.b.none(C+"._getVisibilityByIntersectionObserver");var r=o({},{continueWatch:!1,threshold:[]},{},i).threshold,n=new IntersectionObserver(function(t){t.forEach(function(t){var i=t.boundingClientRect,r=t.rootBounds,o=t.intersectionRatio,n=(t.target,O(i.width)*O(i.height)),a=r?r.width*r.height:null,s={intersectionRatio:o,visibility:0^Math.round(100*o),moduleSquare:n,screenSquare:a,relationSize:a?0^n/a*100:null,boundingClientRect:i};e(s)})}.bind(this),{threshold:r.sort()});return n.observe(t),n}function p(t,e){function i(e){return void 0===e&&(e=null),(e&&Promise.resolve(e)||window.IntersectionObserver&&(e=u.call(null,t))&&Promise.resolve(e)||Promise.resolve(null)).catch(function(t){return t&&t.message,null})}var r=this;void 0===e&&(e=100);var o=new Promise(function(t){return setTimeout(t,e,null)}),n=new Promise(function(e){window.IntersectionObserver?h.call(r,t,e,{threshold:[0,1]}):u.call(null,t,e)});return Promise.race([o,n]).then(function(t){return i.call(r,t)}).catch(function(t){return t&&t.message,i.call(r)})}function f(t,e,i){var r=o({},{threshold:[],continueWatch:!0,registerHandle:function(){throw Error(C+" watchVisibility() registerHandle must be defined")}},{},e),n=r.threshold,a=r.registerHandle,s=r.continueWatch;if(window.IntersectionObserver)return h.call(this,t,i,{continueWatch:s,threshold:n});var d=a(u.bind(null,t,i)),c=d.handler,l=d.event,p=d.scrollNode;return u.call(null,t,i),{disconnect:function(){p&&p.removeEventListener(l,c)}}}function g(t,e){for(var i=t,r=t;;){try{i=r.parent&&r.parent.document||r.parent&&r.parent.contentWindow?r.parent:r,i=r,r=r.parent}catch(t){return e&&e(null),v(r)}if(e&&e(m(r,i)),r===i)return v(i)}}function b(t){try{if(t.top&&v(t.top))return t.top}catch(t){return null}return null}function m(t,e){if(!t||!t.frames)return null;if(t===e)return v(t);var i=v(t).querySelectorAll("iframe"),r=[].filter.call(i,function(t){return t.contentWindow===e});return r.length?r[0]:null}function v(t){return t&&t.document&&t.document.documentElement||t&&t.contentWindow&&t.contentWindow.document.documentElement||t}function y(t,e,i){var r=Error(e+" ("+(t&&t.message)+")");return i?r.code=i:t&&t.code&&(r.code=t.code),t&&t.name&&(r.name=t.name),r}function O(t,e,i){return void 0===e&&(e=.1),void 0===i&&(i=0),A(t)>=e?t:i}function _(t,e,i){return void 0===i&&(i=.1),A(t-e)>i}var A=Math.abs,w=Math.max,S=Math.min;i.d(e,"b",function(){return E}),i.d(e,"f",function(){return D}),i.d(e,"d",function(){return I}),i.d(e,"n",function(){return T}),i.d(e,"r",function(){return k}),i.d(e,"q",function(){return x}),i.d(e,"l",function(){return a}),i.d(e,"i",function(){return s}),i.d(e,"j",function(){return d}),i.d(e,"c",function(){return c}),i.d(e,"h",function(){return l}),i.d(e,"m",function(){return p}),i.d(e,"u",function(){return f}),i.d(e,"t",function(){return g}),i.d(e,"k",function(){return b}),i.d(e,"g",function(){return v}),i.d(e,"a",function(){return N}),i.d(e,"e",function(){return y}),i.d(e,"p",function(){return M}),i.d(e,"s",function(){return R}),i.d(e,"o",function(){return _});var j=i(0),P=i(2),C="utils",E=function(t,e){return t.reduce(function(t,e){return t.then(e)},Promise.resolve(e))},D=function(t,e){var i=t&&t.length;if(!i)return Promise.resolve(!1);var r=[];return new Promise(function(o,n){var a=0,s=function(t){if(t>=i)if(r.length){var e=r.filter(function(t){return t.fatal});n(e.length&&e[0]||r[0])}else o()};t.forEach(function(t){t(e).then(function(){return s(++a)}).catch(function(t){r.push(t),s(++a)})})})},I=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=1),w(e,S(i,t))},T=function(t){return t.mozHasAudio||t.webkitAudioDecodedByteCount||t.audioTracks&&t.audioTracks.length},k=function(t){return void 0===t&&(t=""),0===(""+t).length||/%|px/.test(""+t)?""+t:t+"px"},x=function(t){return void 0===t&&(t=""),""+t&&!/ms|s/.test(""+t)?t+"ms":""+t},N=function(){var t=null,e=null;this.promise=new Promise(function(i,r){t=i,e=r}),this.resolve=t,this.reject=e},M=function(t){return!t||Array.isArray(t)&&!t.length||Object.keys&&!Object.keys(t).length},R=function(t){return t&&(!0===t||"true"===t||"1"===t||1===t)||!1}},function(t,e,i){"use strict";function r(t,e,i){void 0===e&&(e="black");var r=j[t]||"";return i&&(~i.indexOf(":")?r+=";"+i:(e=i,!~r.indexOf(S)&&(r+=S))),r&&r.replace("{{color}}",e)||""}var o,n="videonow-config";try{o=localStorage,sessionStorage}catch(e){o={getItem:function(){return""},setItem:function(){return""}}}i.d(e,"a",function(){return w}),i.d(e,"c",function(){return E}),i.d(e,"d",function(){return y});var a,s,d={NONE:0,ERROR:1,WARN:2,LOG:3,TRACK:4,TRACE:5},c="logLevel",l=Math.random().toString(36).substring(2,5),u="undefined"!=typeof window&&window||{};try{s=window.location.search;try{s=window.top.location.search}catch(t){}}catch(e){}var h,p,f=s?/[?&]vn_debug\b(?:=(\d+))?/.exec(s):null,g=f&&f[1];null==g?(g=parseInt(function(t,e){return void 0===e&&(e=o),JSON.parse(e.getItem(n)||"{}")[t]}(c),10)||0)&&(p=" logger: vn_debug("+g+") was restored from localStorage"):(h=" logger: vn_debug="+(g=parseInt(g,10)||0)+" is using and saved to localStorage",function(t,e,i){void 0===i&&(i=o);var r=JSON.parse(i.getItem(n)||"{}");(r[t]=""+e)&&r[t].length||delete r[t],i.setItem(n,JSON.stringify(r))}(c,g));var b,m=[],v=function(){return"["+(new Date).toISOString().slice(11,-1)+"] <"+l+">"},y=function(t,e){return void 0===e&&(e=v),u.vnLog||function(i,r,o){var n="%c "+e()+r;m.push(n),i<=t&&console.info(n,""+o)}},O=0,_=1,A=2,w=function(t,e,i){return void 0===i&&(i=!0),e=e||y(t),i&&e(d.LOG," Videonow logger started with log level "+t+" ("+function(t){return Object.keys(d).find(function(e){return d[e]==t})}(t)+") v2.30.15 built "+new Date(1589992885967),"font-weight: bold"),{none:function(){},error:function(t,i,o){return void 0===i&&(i=A),e(d.ERROR,t,r(i,"red",o))},warn:function(t,i,o){return void 0===i&&(i=_),e(d.WARN,t,r(i,"red",o))},log:function(t,i,o){return void 0===i&&(i=O),e(d.LOG,t,r(i,i===_?"green":"#333",o))},track:function(t,i,o){return void 0===i&&(i=_),e(d.TRACK,t,r(i,"darkblue",o))},trace:function(t,i,o){return void 0===i&&(i=_),e(d.TRACE,t,r(i,i>_?"#aaa":"lightgray",o))},archive:m,getLevel:function(){return t},setLevel:function(i){t=i,e=e||y(i)}}},S="color:{{color}}",j=((a={})[O]="",a[_]=S,a[A]=S+";font-weight:bold",a);try{b=window.videonow=window.videonow||{}}catch(e){b={}}if(!b.logger){var P=w(g,null);h&&P.warn(h,2,"color:#ff5722;font-size:1.5em;font-weight:bold"),p&&P.warn(p,2,"color:#ff5722; font-size:1.5em"),b.logger=P}var C=b.logger,E=(e.b=C,g)},function(t,e,i){"use strict";function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function o(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?r(Object(e),!0).forEach(function(i){n(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.d(e,"d",function(){return d}),i.d(e,"c",function(){return c}),i.d(e,"h",function(){return l}),i.d(e,"a",function(){return u}),i.d(e,"i",function(){return h}),i.d(e,"j",function(){return p}),i.d(e,"e",function(){return f}),i.d(e,"g",function(){return g}),i.d(e,"f",function(){return b}),i.d(e,"b",function(){return m});i(2);var a=i(1),s=i(4),d=function(t,e,i){var r=t&&e?t.querySelector(e):t,o=r&&r.textContent;return"string"==typeof o?o.trim():i},c=function(t,e,i){var r=d(t,e,i);try{return JSON.parse(r)}catch(t){return r}},l=function(t){void 0===t&&(t="");var e=t.split("?")[1]||"",i=e?e.split("&"):[];return i&&i.length&&i.reduce(function(t,e){var i=e.split("="),r=i[0]&&decodeURIComponent(i[0]),o=i[1]&&decodeURIComponent(i[1]);return(r||o)&&(t[r]=o&&o.replace(/\+/g," ")),t},{})||{}},u=function(t,e){void 0===t&&(t=""),void 0===e&&(e={});var i=[];Object.keys(e).forEach(function(t){var r=e[t],o=[encodeURIComponent(t)];null!==r&&void 0!==r&&o.push(encodeURIComponent(r)),i.push(o.join("="))});var r=-1<t.indexOf("?")?"&":"?";return i.length?t+r+i.join("&"):t},h=function(t){if(!t)return null;if(window.DOMParser){var e=(new window.DOMParser).parseFromString(t,"application/xml");return!e||e.querySelector("parsererror")?null:e}if(void 0!==window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")){var i=new window.ActiveXObject("Microsoft.XMLDOM");return i.async="false",i.loadXML(t),i}return null},p=function(t,e){if(void 0===e&&(e={}),!t)return null;var i=o({optionName:"option",onlyTopLevel:!1},e),r=i.optionName,n=i.onlyTopLevel,l=t&&(c(t,"important")||t.getAttribute("important")),u=t.querySelector(r+"s"),h=u&&(c(u,"important")||u.getAttribute("important")),p=u&&u.getAttribute("overwrite"),f=t.querySelectorAll(r+"s > "+r);if(!f||!f.length)return null;if(n)return Array.from(f);var g=Array.from(f).reduce(function(t,e){var i,r=e.getAttribute("name"),o=e.getAttribute("important"),n=t[r]=((i={})[s.d]=d(e),i[s.c]=!0,i);return void 0==o?void 0==h?void 0!=l&&(n[s.a]=Object(a.s)(l)):n[s.a]=Object(a.s)(h):n[s.a]=Object(a.s)(o),t},{});return p&&(g[s.b]=p),h?g[s.a]=Object(a.s)(h):l&&(g[s.a]=Object(a.s)(l)),g};"undefined"!=typeof exports&&(exports.parseXmlOptions=p);var f=function(t){var e=t||{},i=e.options,r=e.important,o=Object(a.s)(r);if(Object(a.p)(i))return null;var n=Object.keys(i).reduce(function(t,e){var n,a=i[e];if(void 0===a)return t;var d=t[e]=((n={})[s.d]=a,n[s.c]=!0,n);return void 0!=r&&(d[s.a]=o),t},{});return void 0!=r&&(n[s.a]=o),n},g=function(t){var e=/^\s*(?:(?:(\d\d):)?(\d\d):)?(\d\d)(?:[.,](\d+))?\s*$/.exec(t);return e?60*(+e[1]||0)*60+60*(+e[2]||0)+(+e[3]||0)+ +("0."+(e[4]||0)):1/0},b=function(t){var e=/^\s*([\d.]+)%\s*$/.exec(t);return e?(+e[1]||0)/100:null},m=function(t){var e=t.querySelectorAll("Ad"),i=t.querySelectorAll("Extensions > Extension > Ad");return e&&e.length?i&&i.length?(e=Array.from(e),i=Array.from(i),e.reduce(function(t,e){return i.some(function(t){return t===e})||t.push(e),t},[])):Array.from(e):[]}},function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return a}),i.d(e,"d",function(){return s}),i.d(e,"c",function(){return d}),i.d(e,"e",function(){return u}),i.d(e,"f",function(){return h});var r=i(0),o=i(1),n="__overwrite_type";"undefined"!=typeof exports&&(exports.OVERWRITE_FLAG=n);var a="__important";"undefined"!=typeof exports&&(exports.IMPORTANT_FLAG=a);var s="__value";"undefined"!=typeof exports&&(exports.VALUE_FLAG=s);var d="__primitive";"undefined"!=typeof exports&&(exports.PRIMITIVE_FLAG=d);var c=function(t){var e=(t||{})[n];return e&&e.toLowerCase&&"solid"===e.toLowerCase()},l=function(t){return t&&!0===t[a]},u=function t(e){if(void 0===e&&(e={}),e){for(var i=arguments.length,a=Array(1<i?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];a.forEach(function(i){void 0===i&&(i={});var a=!l(e)||l(i),s=c(i);s&&a?e=i:Array.isArray(e)&&Array.isArray(i)?e=Array.from(new Set(e.concat(i))):Object.keys(i).forEach(function(d){var u=i[d];if(void 0!==u&&u!==n)if(!u||"object"!=typeof u||Object(o.p)(u)||Object(r.p)(u))d!==n&&a&&(e[d]=u);else{var h=Object.prototype.hasOwnProperty.call(e,d)&&e[d]||(e[d]=Array.isArray(u)?[]:{});e[d]=l(h)&&!l(u)||!s&&!c(u)?t(h,u):u}})})}return e};"undefined"!=typeof exports&&(exports.extend=u);var h=function t(e,i){return void 0===i&&(i={}),!e||Array.isArray(e)||"object"!=typeof e?e:!0===e[d]?e[s]:(Object.keys(e).forEach(function(n){var a=e[n];if(void 0!=a&&!0===a[d]&&void 0!=a[s])i[n]=a[s];else if(void 0!==a)if(!a||Array.isArray(a)||"object"!=typeof a||Object(o.p)(a)||Object(r.p)(a))i[n]=a;else{var c=Object.prototype.hasOwnProperty.call(i,n)&&i[n]||(i[n]={});t(a,c)}}),i&&i[d]?i[s]:i)};"undefined"!=typeof exports&&(exports.finalize=h)},function(t,e,i){"use strict";i.d(e,"e",function(){return g}),i.d(e,"a",function(){return b}),i.d(e,"g",function(){return m}),i.d(e,"c",function(){return v}),i.d(e,"f",function(){return y}),i.d(e,"d",function(){return O}),i.d(e,"b",function(){return A});var r="undefined"!=typeof window&&window||{},o="undefined"!=typeof navigator&&navigator||{},n=o.userAgent,a=o.vendor,s=o.plugins,d=o.appVersion,c=r.opera,l=r.MSStream,u=(r.devicePixelRatio,r.VN&&r.VN.debug&&r.VN.debug.userAgent||n||a||c||""),h=/iPod/.test(u)&&!l,p=/iPhone/.test(u)&&!l,f=/iPad/.test(u)&&!l,g=h||p||f,b=/android/i.test(u),m=/safari/i.test(u)&&/apple/i.test(a),v=(/chrome/i.test(u),/firefox|mozilla/i.test(u)&&(!a||!/google/i.test(a))),y=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(u)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(u.substr(0,4)),O=void 0===s||0===s.length?!("undefined"==typeof ActiveXObject||!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")):s["Shockwave Flash"],_=function(){if(!g)return!1;if("string"!=typeof d)return!1;var t=d.match(/OS (\d+)_(\d+)_?(\d+)?/);return t&&t.length&&2<t.length?parseFloat(t[1]+"."+t[2]):11}(),A=!y||g&&10.2<_;r.document&&r.document.addEventListener("touchstart",function(){!0}),r.document&&r.document.addEventListener("touchend",function(){!1})},function(t,e){"use strict";e.a={GENERAL_LINEAR_ERROR:400,TIMEOUT_OF_MEDIA:402,FAIL_MEDIA_DISPLAY:405,GENERAL_VPAID_ERROR:901,VPAID_JS_ERROR:1010,FORMAT_ERROR:1020,AD_SIZE_ERROR:1030,AD_IMPRESSION_NOT_HAPPENED_ERROR:1040,AD_STAT_ERROR:1050,FAIL_MEDIA_START:3e3}},function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s}),i.d(e,"f",function(){return d}),i.d(e,"c",function(){return c}),i.d(e,"e",function(){return l}),i.d(e,"d",function(){return u});i(2);var r=i(4),o=i(3),n=i(5),a=function(t,e){return void 0===e&&(e=window.document),new Promise(function(i,r){if(!t)throw new Error("requests.loadScript("+t+", "+e+") Invalid url");var o=e.getElementsByTagName("head")[0],n=e.createElement("script");n.src=t,n.type="text/javascript",n.addEventListener("load",i),n.addEventListener("error",r),o.appendChild(n)})},s=function(t,e){if(void 0===e&&(e=!1),t)if(n.e||e){var i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("target","_blank");var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),i.dispatchEvent(r)}else window.open(t,"_blank")},d=function(t,e){return void 0===e&&(e={}),new Promise(function(i,o){if(!t)throw new Error("Invalid url ("+t+")");var n=e,a=n.overrideMimeType,s=n.options,d=n.body,c=n.timeout,l=void 0===c?5e3:c,u=n.requestHeaders,h=void 0===u?{}:u,p=n.method,f=void 0===p?"GET":p,g=n.withCredentials,b=new XMLHttpRequest;b.addEventListener("load",i),b.addEventListener("error",o),b.addEventListener("timeout",o),b.withCredentials=void 0===g||g,a&&b.overrideMimeType(a),s&&Object(r.e)(b,s),b.open(f,t,!0),b.timeout=l,h&&Object.getOwnPropertyNames(h).forEach(function(t){b.setRequestHeader(t,h[t])}),b.send(d)})},c=function(t){return new Promise(function(e){var i=t.startsWith("data:")?"":(~t.indexOf("?")?"#":"?vn=")+Math.random().toString(10).substring(2,5),r=document.createElement("img");r.onload=e,r.onerror=function(){e()},r.src=""+t+i})},l=function(t,e,i,r){void 0===i&&(i=function(t){return Promise.resolve(t)});var n=e?t.querySelectorAll(e):[t];return Array.from(n).map(function(t){return i(Object(o.d)(t)).then(function(t){return c(t,r)})})},u=function(t,e,i){return void 0===e&&(e=function(t){return Promise.resolve(t)}),t&&t.map(function(t){return e(t).then(function(t){return c(t,i)})})}},function(t,e,i){"use strict";function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function o(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?r(Object(e),!0).forEach(function(i){n(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.d(e,"a",function(){return l}),i.d(e,"c",function(){return u}),i.d(e,"b",function(){return h}),i.d(e,"d",function(){return p});var a=i(10),s=i(3),d=i(2),c="Vpaid",l=function(t){function e(e){var i;void 0===e&&(e={});var r=e&&e.ancestor&&e.ancestor+":"+c||"Module::"+c,n=e&&(e.logger||e.moduleAPI&&e.moduleAPI.logger)||d.b;return(i=t.call(this,o({},e,{ancestor:r,logger:n}))||this)[c]=r,i.options=e,i.logger=n,i.adLinear=!0,i.adWidth=0,i.adHeight=0,i.adExpanded=!1,i.adSkippableState=!0,i.adRemainingTime=0,i.adDuration=0,i.adVolume=1,i.adCompanions="",i.adIcons=!1,i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getAdLinear=function(){return this.adLinear},i.getAdWidth=function(){return this.adWidth},i.getAdHeight=function(){return this.adHeight},i.getAdAspectRatio=function(){var t=this.getAdWidth(),e=this.getAdHeight();return isNaN(t)||isNaN(e)||0===t?9/16:e/t},i.getAdExpanded=function(){return this.adExpanded},i.getAdSkippableState=function(){return this.adSkippableState},i.getAdRemainingTime=function(){return this.adRemainingTime},i.getAdDuration=function(){return this.adDuration},i.getAdElapsedTime=function(){var t=this.getAdDuration(),e=this.getAdRemainingTime();return t===1/0||e===1/0?0:t-e},i.getAdVolume=function(){return this.adVolume},i.getAdCompanions=function(){return this.adCompanions},i.getAdIcons=function(){return this.adIcons},i.handshakeVersion=function(){return"2.0"},i.initAd=function(t,e,i,r,n,a){return void 0===n&&(n={}),void 0===a&&(a={}),this.adLinear=!0,this.adWidth=t,this.adHeight=e,this.adExpanded=!1,this.adSkippableState=!0,this.adRemainingTime=0,this.adDuration=0,this.adVolume=this.adVolume||0,this.adCompanions="",this.adIcons=!1,this.viewMode=i,this.desiredBitrate=r,this.creativeData=n,this.environmentVars=a,this.useExistsVideoSlot=a.useExistsVideoSlot,this.options=o({},this.options,{},a.options),Promise.resolve()},i.resizeAd=function(t,e,i){void 0===i&&(i=this.viewMode),this.adWidth=t,this.adHeight=e,this.viewMode=i,this.trigger("AdSizeChange")},i.startAd=function(){this.trigger("AdStarted")},i.stopAd=function(){this.trigger("AdStopped")},i.pauseAd=function(){this.trigger("AdPaused")},i.resumeAd=function(){this.trigger("AdResumed"),this.trigger("AdPlaying")},i.expandAd=function(){this.setAdExpanded(!0)},i.collapseAd=function(){this.setAdExpanded(!1)},i.skipAd=function(){this.trigger("AdSkipped")},i.setAdExpanded=function(t){this.adExpanded!==t&&(this.adExpanded=t,this.trigger("AdExpandedChange"))},i.setAdSkippableState=function(t){return this.adSkippableState!==t&&(this.adSkippableState=t,this.trigger("AdSkippableStateChange"),!0)},i.setAdVolume=function(t,e){var i=this;return void 0===e&&(e={}),this.adVolume!==t?(this.adVolume=t,setTimeout(function(){return i.trigger("AdVolumeChange")},1),t):(e.forceTrigger&&this.trigger("AdVolumeChange"),null)},i._destroy=function(){t.prototype._destroy.call(this),this.trigger("AdDestroyed"),this.creativeData=null,this.environmentVars=null,this.options=null},e.create=function(){throw new Error("Abstract method call Vpaid.create()")},i.getMediaInfo=function(){return this.media||{}},i.toString=function(){return c},e}(a.a),u=function(t,e,i){void 0===i&&(i=!1);var r=t&&t.querySelectorAll('InLine > Creatives > Creative > Linear > MediaFiles > MediaFile[type="'+e+'"]');if(!r||!r.length)return null;var o=Array.from(i?r:[r[0]]).map(function(t){return{src:Object(s.d)(t),width:+t.getAttribute("width")||0,height:+t.getAttribute("height")||0,bitrate:+t.getAttribute("bitrate")||0,scalable:"false"!==t.getAttribute("scalable"),maintainAspectRatio:null===t.getAttribute("maintainAspectRatio")?t.getAttribute("maintainAspectRatio"):"true"===t.getAttribute("maintainAspectRatio"),delivery:t.getAttribute("delivery")}});return i?o:o[0]},h=function(t){return t&&Object(s.d)(t,"InLine>Creatives>Creative>Linear>Duration")},p=function(t){return t&&["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd"].every(function(e){return"function"==typeof t[e]})}},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var r=i(10),o=i(2),n=i(0),a=function(t){function e(e,i,r){var n;void 0===r&&(r=!1);var a="::Control["+e+"] ",s=i&&i.getAPI&&i.getAPI().logger||o.b;(n=t.call(this,{ancestor:a,logger:s})||this).name=e,n.module=i,n.moduleId=a;var d=i._getControlUnionData(e);if(null===d)throw new Error(a+" disabled");if(r&&void 0===d)throw new Error(a+" is not available");return n.checkBlocked(),i._addDestroyableObject(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.checkBlocked=function(){(this.module._getControlUnionData(this.name)||{}).remove&&this.ifBlockedAction()},i.ifBlockedAction=function(){throw new Error(":"+this.moduleId+' is has attribute remove="true"')},i._destroy=function(){var e=this.module,i=(this.moduleId,this.name);t.prototype._destroy.call(this),Object(n.s)(e._getControlNode(i))},i.getName=function(){return this.name},e}(r.a)},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var r=i(12),o=i(0),n=i(2),a="Managed",s=function(t){function e(e){var i;void 0===e&&(e={});var r=e&&e.ancestor&&e.ancestor+":"+a||a,o=e&&(e.logger||e.moduleAPI&&e.moduleAPI.logger)||n.b;return(i=t.call(this)||this).logger=o,i[a]=r,i._vpaidEventListeners=[],i._domEventListeners=[],i._patchedMethods=[],i._domNodes=[],i._timeouts=[],i._destroyableObjects=[],i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._addDOMNode=function(t){return this._domNodes.push(t),t},i._removeDOMNode=function(t){Object(o.s)(t),this._domNodes=this._domNodes.filter(function(e){return e!==t})},i._addDOMEventListener=function(t,e,i,r){return this._domEventListeners.push({node:t,name:e,listener:i}),t.addEventListener(e,i,r),i},i._removeDOMEventListener=function(t,e,i){this._domEventListeners=this._domEventListeners.filter(function(r){return r.node!==t||r.name!==e||r.listener!==i||(t.removeEventListener(e,i),!1)})},i._addVPAIDEventListener=function(t,e,i){return this._vpaidEventListeners.push({vpaid:t,name:e,listener:i}),t.subscribe(i,e),i},i._removeVPAIDEventListener=function(t,e,i){this._vpaidEventListeners=this._vpaidEventListeners.filter(function(r){return r.vpaid!==t||r.name!==e||r.listener!==i||(t.unsubscribe(i,e),!1)})},i._patchMethod=function(t,e,i){var r=t[e];return i._originalHandler=r,t[e]=i,this._patchedMethods.push({object:t,method:e}),r.bind(t)},i._restoreMethod=function(t,e){this._patchedMethods=this._patchedMethods.filter(function(i){return i.object!==t||i.method!==e||(t[e]=t[e]._originalHandler,!1)})},i._removeEventListeners=function(){var t=this,e=this._vpaidEventListeners,i=this._domEventListeners;e.length&&e.forEach(function(e){var i=e.vpaid,r=e.name,o=e.listener;t._removeVPAIDEventListener(i,r,o)}),i.length&&i.forEach(function(e){var i=e.node,r=e.name,o=e.listener;t._removeDOMEventListener(i,r,o)})},i._destroy=function(){var t=this,e=this._patchedMethods,i=this._domNodes,r=this._timeouts,n=this._destroyableObjects;if(this._removeEventListeners(),e.length&&e.forEach(function(e){var i=e.object,r=e.method;t._restoreMethod(i,r)}),i.length&&i.forEach(function(t){Object(o.s)(t)}),r.length&&r.forEach(function(e){t._removeTimeout(e.name)}),n.length){var a=this._delayRemovingControls;n.forEach(function(e){var i=e.getName&&e.getName(),r=(i&&a&&a[i]||{}).delay;r&&0<r?setTimeout(function(){t._removeDestroyableObject(e)},r):t._removeDestroyableObject(e)})}},i._addTimeout=function(t,e,i){this._removeTimeout(t);var r=setTimeout(e,i);return this._timeouts.push({name:t,timeoutId:r}),e},i._removeTimeout=function(t){this._timeouts=this._timeouts.filter(function(e){return e.name!==t||(clearTimeout(e.timeoutId),!1)})},i._addDestroyableObject=function(t){t&&t._destroy&&this._destroyableObjects.push(t)},i._removeDestroyableObject=function(t){this._destroyableObjects=this._destroyableObjects.filter(function(e){return e!==t||(e&&e._destroy&&e._destroy(),!1)})},e}(r.a)},function(t){t.exports='<style>@keyframes videonow-spin{0%{transform:rotate(0deg);-webkit-transform:rotate(0deg)}to{transform:rotate(360deg);-webkit-transform:rotate(360deg)}}</style><svg style="animation:videonow-spin 1s linear infinite" viewBox="0 0 128 128"><path fill="none" stroke="url(#a)" stroke-width="2.77" d="M1252.52 595.235a31.93 31.93 0 01-17.5 5.2c-17.7 0-32.07-14.368-32.07-32.064 0-17.694 14.37-32.06 32.07-32.06 15.31 0 28.13 10.756 31.3 25.118" transform="translate(-2164.94 -961.788) scale(1.8048)"/><defs><radialGradient id="a" cx="0" cy="0" r="1" gradientTransform="rotate(-3.67 9382.41 -18979.953) scale(36.57698)" gradientUnits="userSpaceOnUse"><stop offset="0%" stop-color="#79669C" stop-opacity="0"/><stop offset="95%" stop-color="#79669C"/><stop offset="100%" stop-color="#fff"/></radialGradient></defs></svg>'},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var r=function(){function t(){this._eventListeners={}}var e=t.prototype;return e.subscribe=function(t,e,i){void 0===i&&(i=null),t=i&&t.bind(i)||t,this._eventListeners[e]=[].concat(this._eventListeners[e]||[],t)},e.subscribeOnce=function(t,e){var i=this;this.subscribe(function r(){t.apply(void 0,arguments),i.unsubscribe(r,e)},e)},e.unsubscribe=function(t,e){this&&(this._eventListeners[e]=[].concat(this._eventListeners[e]||[]).filter(function(e){return e!==t}))},e.unsubscribeType=function(t){this&&(this._eventListeners[t]=[])},e.unsubscribeAll=function(){this._eventListeners={}},e.trigger=function(t){for(var e=this,i=arguments.length,r=Array(1<i?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];(this._eventListeners[t]||[]).forEach(function(t){return t.apply(e,r)})},t}()},function(t,e,i){"use strict";function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function o(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?r(Object(e),!0).forEach(function(i){n(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.d(e,"a",function(){return d});var a=i(2),s={increasePieceOfTime:1e3},d=function(){function t(t){void 0===t&&(t={}),this.options=o({},s,{},t),this.logger=t&&(t.logger||t.module&&t.module.logger||t.moduleAPI&&t.moduleAPI.logger)||a.b;var e=t,i=e.duration,r=e.VPAID_API;this._trigger=r&&r.trigger,this._duration=i,this._timeoutId=null,this._elapsedTime=0}var e=t.prototype;return e.getAdRemainingTime=function(){var t=this.getAdDuration();return t?t-this.getAdElapsedTime():0},e.getAdElapsedTime=function(){return this._elapsedTime||0},e.getAdDuration=function(){return this._duration||0},e.start=function(){var t=this,e=this.options.increasePieceOfTime,i=this.getAdDuration(),r=this.getAdElapsedTime();!i||void 0!==r&&r>i||(this._timeoutId=setInterval(function(){var r=t.adRemainingTime,o=t.getAdRemainingTime();t.adRemainingTime=o;var n=function(t){return this._elapsedTime+=t,this._elapsedTime}.call(t,e/1e3);return t._trigger("AdDurationChange"),o<.75*i&&r>=.75*i&&t._trigger("AdVideoFirstQuartile"),o<.5*i&&r>=.5*i&&t._trigger("AdVideoMidpoint"),o<.25*i&&r>=.25*i&&t._trigger("AdVideoThirdQuartile"),0>=o&&0<r?(t.stop(),void t._trigger("AdVideoComplete")):void(n>i&&(t.stop(),t._trigger("AdVideoComplete")))},e))},e.stop=function(){clearInterval(this._timeoutId)},e._destroy=function(){this.stop()},t}()},function(t,e){"use strict";e.a={VERSION:"1.0.0",BASE_DOMAIN:"static.videonow.ru",DATA_DOMAIN:"init.videonow.ru",STAT_DOMAIN:"stat.videonow.ru",HOME_URL:"http://www.videonow.ru",CLIENT_INFO_DOMAINS:["init.videonow.ru","data.videonow.ru"]}},function(t,e,i){"use strict";i.r(e);var r=i(16),o=(i.n(r),i(17)),n=(i.n(o),i(18)),a=(i.n(n),i(19)),s=(i.n(a),i(20));i.n(s)},function(){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){"use strict";if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,i=Object(this),r=i.length>>>0,o=arguments[1],n=0;n<r;n++)if(e=i[n],t.call(o,e,n,i))return e}})},function(){Array.from||(Array.from=function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},i=function(t){var e=function(t){var e=+t;return isNaN(e)?0:0!=e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(e,0),9007199254740991)};return function(t){var r=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,n=1<arguments.length?arguments[1]:void 0;if(void 0!==n){if(!e(n))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(o=arguments[2])}for(var a,s=i(r.length),d=e(this)?Object(new this(s)):Array(s),c=0;c<s;)a=r[c],d[c]=n?void 0===o?n(a,c):n.call(o,a,c):a,c+=1;return d.length=s,d}}())},function(){!function(){"use strict";function t(){for(;a.length;)a[0](),a.shift()}function e(t){this.a=s,this.b=void 0,this.f=[];var e=this;try{t(function(t){!function t(e,i){if(e.a==s){if(i==e)throw new TypeError;var n=!1;try{var a=i&&i.then;if(null!=i&&"object"==typeof i&&"function"==typeof a)return void a.call(i,function(i){n||t(e,i),n=!0},function(t){n||r(e,t),n=!0})}catch(t){return void(n||r(e,t))}e.a=0,e.b=i,o(e)}}(e,t)},function(t){r(e,t)})}catch(t){r(e,t)}}function i(t){return new e(function(e){e(t)})}function r(t,e){if(t.a==s){if(e==t)throw new TypeError;t.a=1,t.b=e,o(t)}}function o(t){!function(t){a.push(t),1==a.length&&n()}(function(){if(t.a!=s)for(;t.f.length;){var e=(o=t.f.shift())[0],i=o[1],r=o[2],o=o[3];try{0==t.a?r("function"==typeof e?e.call(void 0,t.b):t.b):1==t.a&&("function"==typeof i?r(i.call(void 0,t.b)):o(t.b))}catch(t){o(t)}}})}var n,a=[];n=function(){setTimeout(t)};var s=2;e.prototype.g=function(t){return this.c(void 0,t)},e.prototype.c=function(t,i){var r=this;return new e(function(e,n){r.f.push([t,i,e,n]),o(r)})},window.Promise||(window.Promise=e,window.Promise.resolve=i,window.Promise.reject=function(t){return new e(function(e,i){i(t)})},window.Promise.race=function(t){return new e(function(e,r){for(var o=0;o<t.length;o+=1)i(t[o]).c(e,r)})},window.Promise.all=function(t){return new e(function(e,r){function o(i){return function(r){a[i]=r,(n+=1)==t.length&&e(a)}}var n=0,a=[];0==t.length&&e(a);for(var s=0;s<t.length;s+=1)i(t[s]).c(o(s),r)})},window.Promise.prototype.then=e.prototype.c,window.Promise.prototype.catch=e.prototype.g)}()},function(){Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice})},function(){Array.prototype.some||(Array.prototype.some=function(t){"use strict";if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof t)throw new TypeError;for(var e=Object(this),i=e.length>>>0,r=2<=arguments.length?arguments[1]:void 0,o=0;o<i;o++)if(o in e&&t.call(r,e[o],o,e))return!0;return!1})},function(t){t.exports='<svg width="50" height="50" viewBox="0 0 64 64"><circle cx="32" cy="32" r="30" fill="none" stroke-width="3"/><path stroke-width="0" d="M17.534 41.553l29.334.01-.952 1.373-27.418-.033-.964-1.35zm.202-18.25l28.942-.034.84 1.405-30.634.01.852-1.385zm-2.856 9.144l34.632-.033-.046 1.408-34.564-.022-.022-1.353zm34.66.13c0 9.318-7.774 16.9-17.33 16.9-9.555 0-17.327-7.583-17.327-16.9 0-9.316 7.774-16.896 17.326-16.896 9.554 0 17.33 7.58 17.33 16.9zm-17.33-18.25c-10.316 0-18.71 8.187-18.71 18.25s8.394 18.25 18.71 18.25c10.32 0 18.714-8.187 18.714-18.25s-8.393-18.25-18.714-18.25zm5.25 18.25c0 9.958-2.765 16.9-5.25 16.9-2.482 0-5.248-6.942-5.248-16.9 0-9.96 2.765-16.896 5.248-16.896s5.25 6.94 5.25 16.9zm-5.25-18.25c-4.31 0-6.635 9.403-6.635 18.25 0 8.848 2.326 18.25 6.635 18.25 4.31 0 6.64-9.403 6.64-18.25-.002-8.847-2.33-18.25-6.64-18.25zm12.297 18.25c0 9.318-5.52 16.9-12.297 16.9-6.777 0-12.292-7.583-12.292-16.9 0-9.316 5.515-16.896 12.292-16.896 6.778 0 12.297 7.58 12.297 16.9zM32.21 14.327c-7.542 0-13.68 8.188-13.68 18.25s6.138 18.25 13.68 18.25c7.543 0 13.68-8.186 13.68-18.25s-6.137-18.25-13.68-18.25z"/></svg>'},function(t,e,i){"use strict";(function(t){function r(e){t&&t.getAPI&&t.getAPI().logger||o.b;var i=e&&e.querySelector('Extension[type="'+s+'"]'),r=i&&Array.from(i.querySelectorAll("urls > url"));if(r&&r.length){var a=Object(n.c)(i,"global"),d=Object(n.c)(i,"important");return{urls:r.map(function(t){return Object(n.c)(t).split("?")[0].replace(/^(https*:)*\/\//,"").toLowerCase()}),global:a,important:d}}return null}i.d(e,"b",function(){return r});var o=i(2),n=i(3),a=i(4),s="vnCreativeBlock";e.a=function(t){return new Promise(function(e){t&&t.getAPI&&t.getAPI().logger||o.b;var i,r=(t._getLastParameters()||{})[s]||{},n=r.urls,d=r.global,c=r.important;(n&&n.length||d||c)&&t._setControlData(s,((i={urls:n})[a.a]=c,i),d);e(t)})}}).call(this,i(39)(t))},function(t){t.exports='<svg width="96" height="24" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414" clip-rule="evenodd" viewBox="0 0 128 32"><path fill-opacity=".298" d="M120.368 28.943c-.464 1.503-1.606 2.72-3.108 2.72H2.766c-1.502 0-3.208-1.217-2.72-2.72L9.11 3.02C9.758.923 10.557.3 12.06.3h113.18a2.72 2.72 0 012.72 2.72l-7.592 25.923z"/><path fill="#fff" d="M20.303 23.29c-.05.13-.11.238-.178.32a.678.678 0 01-.32.185c-.14.042-.33.07-.573.08-.24.01-.552.018-.938.018-.31 0-.573-.003-.793-.007-.21-.004-.4-.014-.55-.03a1.754 1.754 0 01-.37-.068.73.73 0 01-.23-.117c-.06-.04-.1-.1-.13-.16s-.05-.15-.07-.25l-3.3-13.27c-.06-.27-.1-.49-.11-.66 0-.16.05-.28.15-.36.11-.08.28-.13.51-.15.24-.02.56-.03.98-.03.36 0 .64.01.83.02.2.02.36.05.46.08.11.04.18.1.21.18.04.08.07.18.1.29L18.6 20.9h.012l4.58-11.49c.04-.13.09-.23.145-.31.05-.08.137-.14.254-.19.12-.04.28-.07.49-.09.21-.01.5-.02.86-.02s.63.01.83.03c.2.03.33.08.39.17.07.09.08.218.04.38s-.12.377-.24.647L20.31 23.29zm7.95.114a.361.361 0 01-.094.21.608.608 0 01-.27.15c-.12.04-.28.07-.47.093-.2.024-.45.036-.75.036s-.54-.012-.74-.036c-.2-.022-.35-.054-.46-.093a.45.45 0 01-.24-.15.263.263 0 01-.06-.21l1.23-14.14c0-.077.04-.145.09-.208.05-.06.14-.112.27-.15.12-.038.28-.07.47-.094.19-.022.44-.033.73-.033.3 0 .54.01.73.03.19.02.34.05.45.09.114.04.19.09.24.15.044.06.064.13.06.21l-1.2 14.14zM39.78 16.22a7.37 7.37 0 00-.076-1.978 3.855 3.855 0 00-.66-1.587 3.275 3.275 0 00-1.32-1.046c-.553-.26-1.296-.38-2.23-.38h-1.538l-.89 10.18h1.583c.83 0 1.54-.11 2.13-.33a3.95 3.95 0 001.51-.98c.42-.44.75-.98.99-1.63.24-.65.4-1.41.48-2.27zm3.156-.105c-.12 1.373-.403 2.55-.846 3.524-.445.97-1.03 1.77-1.754 2.38-.725.62-1.58 1.07-2.567 1.36-.99.29-2.15.43-3.47.43h-3.58c-.26 0-.47-.08-.63-.23-.16-.15-.23-.4-.2-.74L31.03 9.8c.03-.34.14-.583.326-.734a1.02 1.02 0 01.662-.223h3.84c1.335 0 2.452.153 3.354.465.9.312 1.643.775 2.23 1.39.58.613 1 1.37 1.25 2.273.253.9.33 1.95.223 3.14zm9.15 6.515c-.02.225-.047.412-.08.562-.032.152-.07.273-.118.365a.532.532 0 01-.163.202.349.349 0 01-.197.06h-7.52a.88.88 0 01-.624-.23c-.16-.15-.225-.4-.196-.74l1.14-13.05c.03-.34.14-.59.327-.74.187-.15.408-.23.662-.23h7.476c.07 0 .13.02.18.06.05.04.09.1.12.2.032.09.05.22.055.37.005.15 0 .34-.02.57-.02.21-.046.4-.078.55-.03.15-.072.27-.12.36a.508.508 0 01-.156.2.323.323 0 01-.19.06h-5.346l-.32 3.66h4.524c.07 0 .133.02.186.06.055.04.096.11.127.2.032.09.05.21.056.36.01.15 0 .33-.01.55-.02.22-.04.41-.08.55-.03.14-.07.26-.11.35-.05.08-.1.15-.16.19a.32.32 0 01-.19.05h-4.53l-.37 4.22h5.4c.07 0 .13.02.19.06.06.04.1.11.13.2.03.09.05.21.06.36.01.15 0 .34-.01.56z"/><path fill="#DADADA" d="M81.01 22.408a1.209 1.209 0 01-.417.82 1.05 1.05 0 01-.386.203c-.148.05-.294.07-.44.07H78.47c-.268 0-.5-.03-.692-.08a1.21 1.21 0 01-.518-.29 2.153 2.153 0 01-.43-.58 8.739 8.739 0 01-.437-.94l-3.113-7c-.18-.41-.36-.86-.542-1.35-.18-.48-.342-.95-.48-1.4h-.023c-.018.56-.044 1.11-.076 1.66-.04.55-.08 1.12-.13 1.71l-.69 7.84c-.01.08-.03.15-.08.21-.05.07-.13.12-.24.16-.11.05-.25.08-.43.1-.18.02-.41.04-.69.04-.27 0-.49-.01-.67-.03-.18-.02-.32-.05-.41-.1a.406.406 0 01-.2-.15c-.04-.06-.05-.13-.04-.21L69.76 9.6c.034-.368.164-.64.39-.82.23-.18.497-.27.806-.27h1.63c.295 0 .54.024.735.073.2.053.37.135.52.25.15.118.28.278.4.48.12.207.24.46.37.76l2.44 5.474c.15.33.28.658.42.977.14.32.27.64.4.96.13.32.25.635.37.944.12.31.24.61.35.92h.02a66.734 66.734 0 01.22-3.368l.62-7.026a.423.423 0 01.09-.21c.05-.06.13-.11.25-.16.12-.047.26-.08.44-.1.18-.02.41-.03.69-.03.26 0 .48.01.66.03.18.02.31.05.4.1.09.046.16.1.19.16.04.064.05.13.04.21L81 22.414zm12.444-6.436c.07-.787.07-1.503.003-2.147-.068-.643-.23-1.195-.485-1.654a2.705 2.705 0 00-1.094-1.06c-.47-.25-1.078-.37-1.82-.37-.748 0-1.385.14-1.91.42-.525.29-.965.66-1.314 1.13-.35.48-.615 1.03-.8 1.65-.18.63-.302 1.3-.363 2-.07.82-.07 1.56 0 2.21.07.65.23 1.21.48 1.67.25.47.62.82 1.09 1.06.47.24 1.09.37 1.83.37s1.39-.14 1.91-.41c.53-.28.97-.65 1.32-1.13.35-.48.62-1.03.8-1.67.18-.63.31-1.31.37-2.03zm3.208-.162c-.108 1.243-.36 2.353-.756 3.334-.392.978-.924 1.812-1.594 2.492a6.692 6.692 0 01-2.4 1.565c-.93.36-1.984.54-3.163.54-1.17 0-2.18-.15-3.02-.45-.84-.3-1.53-.77-2.05-1.39-.53-.62-.89-1.42-1.1-2.38-.21-.96-.25-2.1-.14-3.42.1-1.21.35-2.3.74-3.27.39-.97.92-1.79 1.59-2.47a6.65 6.65 0 012.4-1.56c.92-.36 1.98-.54 3.17-.54 1.13 0 2.12.15 2.96.45.84.31 1.52.77 2.05 1.4.52.62.89 1.41 1.11 2.36.21.96.26 2.08.15 3.38zm15.77 6.886c-.06.184-.14.334-.23.445-.09.12-.22.2-.386.26s-.378.1-.634.12c-.257.02-.582.03-.977.03-.44 0-.79-.01-1.055-.02-.263-.02-.47-.06-.62-.11-.15-.06-.254-.14-.314-.25-.058-.11-.1-.26-.124-.44l-1.565-9.49h-.022l-3.1 9.49c-.052.18-.12.33-.198.44a.77.77 0 01-.353.26c-.155.06-.363.11-.623.13-.26.02-.6.03-1.02.03-.44 0-.8-.01-1.07-.03-.26-.02-.47-.06-.61-.12a.57.57 0 01-.31-.25c-.06-.11-.1-.26-.13-.44l-2.28-13.1a3.37 3.37 0 01-.05-.65c0-.15.06-.28.16-.36.1-.08.27-.13.49-.15.22-.02.53-.03.92-.03.36 0 .65.006.86.018.21.014.37.04.48.08.11.04.18.106.21.185.03.08.05.193.06.34l1.63 11.47h.01l3.72-11.39c.04-.15.09-.27.15-.36a.557.557 0 01.278-.215c.12-.05.29-.086.5-.1.21-.02.483-.03.83-.03.37 0 .665.004.884.02.22.014.38.05.5.1.11.05.19.12.24.212.04.09.07.21.09.37l1.83 11.38h.02l3.63-11.43c.03-.12.07-.23.11-.315.04-.09.12-.16.236-.21.11-.05.27-.09.47-.11.2-.02.48-.03.843-.03.34 0 .607.01.79.03.19.01.32.07.4.15.08.08.107.21.077.37s-.085.39-.18.67l-4.58 13.03zM59.99 19.37l.61-7.003 3.883 3.5-4.494 3.502z"/><path fill="#fff" d="M67.66 16.702c-.128 1.026-.36 1.957-.698 2.793-.393.98-.925 1.812-1.595 2.492a6.692 6.692 0 01-2.4 1.565c-.93.356-1.984.536-3.163.536-1.166 0-2.17-.15-3.013-.457-.83-.3-1.52-.76-2.04-1.39-.52-.62-.88-1.42-1.09-2.38-.21-.96-.25-2.1-.13-3.42.11-1.21.36-2.3.75-3.27.4-.96.93-1.79 1.6-2.47.67-.68 1.47-1.2 2.4-1.56.93-.36 1.99-.54 3.18-.54 1.14 0 2.12.15 2.97.45.85.3 1.53.77 2.06 1.39.53.63.9 1.42 1.11 2.37.19.85.25 1.84.18 2.97l-3.94-3.56c-.23-.3-.52-.54-.87-.73-.47-.25-1.07-.37-1.82-.37-.74 0-1.38.14-1.91.42-.52.29-.96.66-1.31 1.13-.35.47-.61 1.02-.8 1.65-.18.63-.3 1.3-.36 2-.07.82-.07 1.56-.01 2.21.07.65.23 1.21.48 1.67.26.47.62.82 1.09 1.06.47.25 1.09.37 1.83.37s1.39-.14 1.91-.42c.1-.05.2-.1.29-.16v.04l5.36-4.34z"/></svg>'},function(t){t.exports='<style>@keyframes videonow-pull{0%,10%,30%,to{transform:translateY(0);-webkit-transform:translateY(0)}20%{transform:translateY(2px);-webkit-transform:translateY(2px)}}</style><svg style="animation:videonow-pull 1s infinite" width="64" height="24" viewBox="0 0 64 10"><path fill="none" stroke="#fff" stroke-width="2.001" d="M.996 2.99L32.39 14.74M63 2.99L31.606 14.74"/></svg>'},function(t){t.exports='<svg viewBox="0 0 64 64" style="width:100%;height:100%"><path fill="#333" d="M23.817 49V17L50 33 23.817 49z"/></svg>'},function(t){t.exports='<svg id="skipAd" width="25" height="25" viewBox="0 0 64 64"><style>g#vnSkipAd:hover&gt;path#cross{opacity:1}g#vnSkipAd:hover&gt;path#background{fill-opacity:0.5}</style><g id="vnSkipAd"><path id="background" fill-opacity=".298" d="M64.055 16c0-8.832-7.173-16-16.017-16h-31.99C7.204 0 .03 7.167.03 16v32c0 8.83 7.174 16 16.018 16h31.99c8.844 0 16.017-7.17 16.017-16V16z"/><path id="cross" fill="#fff" d="M32.605 27.734L47.91 12.427l3.62 3.62L36.223 31.35 51.53 46.66l-3.62 3.617L32.606 34.97 17.298 50.278 13.68 46.66l15.306-15.31L13.68 16.046l3.618-3.62 15.307 15.308z" opacity=".5"/></g></svg>'},function(t,e,i){"use strict";(function(t){function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function o(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?r(Object(e),!0).forEach(function(i){n(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.d(e,"a",function(){return f});var a=i(0),s=i(7),d=i(5),c=i(28),l=i.n(c),u=i(29),h=i.n(u),p="logo",f=function(e){function i(i){var r=e.call(this,p,i)||this,n=i._getControlNode("wrapper"),c=i._getControlUnionData(p,"customerlogo")||{},u=c.logoSrc,f=c.logoHeight,g=c.logoWidth,b=u&&"<img src='"+u+"' "+function(t,e,i){return void 0===e&&(e="="),void 0===i&&(i=" "),t.reduce(function(t,i){var r=Object.keys(i)[0],o=i[r];return o&&t.push(""+r+e+o),t},[]).join(i)}([{width:g},{height:f}])+">",m=i._getControlUnionData(p,"css"),v=Object(a.a)(n,"div",o({position:"absolute",zIndex:1,bottom:0,left:0,padding:"5px",cursor:"pointer"},m),b||i._getControlUnionData(p,"content")||""+l.a+h.a,s.b.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r),t.HOME_URL));return b||(d.f?(v.firstElementChild.style.display="none",v.lastElementChild.style.display=""):(v.lastElementChild.style.display="none",v.firstElementChild.style.display="",r._addDOMEventListener(v,"mouseenter",function(){v.firstElementChild.style.display="none",v.lastElementChild.style.display=""}),r._addDOMEventListener(v,"mouseleave",function(){v.lastElementChild.style.display="none",v.firstElementChild.style.display=""}))),i._setControlData(p,{node:v}),r}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(i,e),i.getName=function(){return p},i}(i(9).a)}).call(this,i(38))},function(t){t.exports='<svg width="60" height="20" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414" clip-rule="evenodd" viewBox="0 0 60 20"><path fill="#aaa" d="M54.205 15.227c-.203.658-.703 1.19-1.36 1.19H2.697c-1.196 0-1.467-.5-1.192-1.19l3.97-11.354c.284-.918.634-1.19 1.292-1.19H56.34c1.183 0 1.337.598 1.19 1.19l-3.325 11.354z"/><path fill="#fff" d="M10.38 12.75a.496.496 0 01-.08.14.279.279 0 01-.14.082c-.06.018-.144.03-.25.035a8.882 8.882 0 01-.41.008c-.136 0-.252 0-.348-.003A3.677 3.677 0 018.907 13a.966.966 0 01-.162-.03.349.349 0 01-.102-.052.183.183 0 01-.06-.073.641.641 0 01-.032-.11L7.11 6.923a1.613 1.613 0 01-.05-.29c0-.07.02-.123.066-.158a.413.413 0 01.22-.065c.104-.01.246-.015.428-.015.156 0 .277.004.364.01a.84.84 0 01.2.036c.046.02.077.05.09.08a.79.79 0 01.044.13l1.154 5.06h.005l2.01-5.03c.02-.05.04-.1.07-.14.03-.03.06-.06.11-.08.05-.02.13-.03.22-.04.09 0 .22-.01.38-.01s.28.01.36.02c.09.01.15.04.18.08s.03.09.02.16c-.02.07-.05.17-.1.28l-2.47 5.82zm3.48.05a.149.149 0 01-.04.092.24.24 0 01-.115.067c-.053.01-.122.03-.206.04-.09.01-.2.01-.33.01s-.24-.01-.32-.02c-.09-.01-.16-.03-.2-.04-.05-.02-.09-.04-.11-.07a.161.161 0 01-.03-.09l.54-6.19c0-.04.01-.07.04-.09.02-.03.06-.05.11-.07.05-.02.12-.03.21-.04.08-.01.19-.02.32-.02s.24 0 .32.01c.08.01.15.02.2.04.05.01.08.04.1.06.02.02.02.05.02.09l-.54 6.19zm5.05-3.145c.027-.31.015-.6-.034-.867a1.683 1.683 0 00-.29-.695 1.427 1.427 0 00-.577-.458c-.25-.11-.57-.165-.98-.165h-.68l-.39 4.46h.69c.36 0 .67-.047.93-.142.26-.094.48-.237.66-.428.18-.19.33-.43.43-.712.11-.283.18-.615.21-.993zm1.382-.046c-.053.6-.177 1.11-.37 1.54-.196.43-.452.77-.77 1.04-.317.27-.69.47-1.123.59-.44.12-.94.19-1.52.19h-1.57c-.12 0-.21-.04-.28-.1-.07-.07-.1-.18-.09-.32l.5-5.72c.01-.15.06-.26.14-.33.08-.07.18-.1.29-.1h1.69c.58 0 1.07.07 1.47.2.39.13.72.34.97.61.25.26.44.6.55.99.11.39.14.85.09 1.37zm4.008 2.85c-.01.09-.02.18-.036.24a.683.683 0 01-.052.16.256.256 0 01-.07.09c-.028.02-.056.02-.087.02H20.76c-.11 0-.202-.04-.272-.1s-.1-.18-.086-.33l.5-5.72c.013-.15.06-.26.143-.33.082-.07.178-.1.29-.1h3.274c.03 0 .05 0 .07.02.02.02.04.05.05.09.01.04.02.09.02.16s0 .15-.01.25c-.01.09-.02.17-.04.24-.01.07-.03.12-.05.16-.02.04-.05.07-.07.09-.03.02-.05.03-.08.03h-2.34l-.14 1.6H24c.03 0 .06.01.083.03.02.02.04.05.052.09.012.04.02.09.023.15 0 .06 0 .14-.01.24-.005.09-.02.18-.03.24a.691.691 0 01-.05.15c-.02.04-.045.07-.07.08-.03.01-.057.02-.09.02h-1.98l-.16 1.85h2.36c.03 0 .06.01.085.03.023.02.042.05.055.09.02.04.027.09.03.16.002.06 0 .15-.01.24z"/><path fill="#eee" d="M36.967 12.52a.531.531 0 01-.182.358.504.504 0 01-.17.09.706.706 0 01-.192.027h-.568c-.118 0-.22-.013-.303-.036-.085-.03-.16-.07-.227-.13s-.13-.15-.188-.26c-.06-.11-.122-.25-.192-.42l-1.363-3.06a12.01 12.01 0 01-.448-1.21h-.01c-.008.24-.02.48-.033.72-.01.25-.03.49-.05.75l-.3 3.43c0 .04-.01.07-.03.09-.02.03-.05.05-.1.07a.64.64 0 01-.19.05c-.07.01-.17.01-.3.01-.11 0-.21-.01-.29-.02a.655.655 0 01-.18-.05c-.04-.02-.07-.04-.08-.07-.01-.03-.02-.06-.01-.09l.52-5.9c.01-.16.07-.28.17-.36.1-.08.22-.12.35-.12h.72c.13 0 .24.01.32.03.09.02.16.06.23.11s.13.12.18.21c.06.09.11.2.16.33l1.07 2.39.18.42.18.42.17.41.15.41h.01c.01-.24.03-.49.04-.74.02-.26.04-.51.06-.74l.27-3.07a.3.3 0 01.04-.1c.03-.03.06-.05.11-.07a.83.83 0 01.2-.05c.08-.01.18-.01.3-.01.11 0 .21 0 .29.01.08.01.13.02.17.04.04.02.07.04.09.07.018.03.02.06.02.09l-.516 5.9zm5.45-2.82c.03-.345.032-.658.002-.94a1.925 1.925 0 00-.22-.725c-.11-.2-.27-.356-.48-.466-.21-.11-.47-.17-.8-.17-.33 0-.61.06-.84.18-.23.12-.43.28-.58.49-.16.2-.27.45-.35.72-.08.27-.14.56-.16.87-.03.36-.03.68-.01.96.03.28.1.53.21.73.11.2.27.35.47.46.21.1.47.16.8.16.33 0 .61-.06.84-.19.23-.12.42-.29.57-.5.15-.21.27-.46.35-.74.08-.28.13-.58.16-.89zm1.406-.07a5.071 5.071 0 01-.332 1.46c-.17.428-.4.793-.69 1.09-.29.3-.64.528-1.05.686-.41.156-.87.235-1.38.235-.51 0-.95-.06-1.32-.2-.36-.13-.66-.33-.89-.61-.23-.27-.39-.62-.47-1.04-.09-.42-.11-.92-.06-1.5.05-.53.16-1.01.33-1.43.18-.42.41-.78.7-1.08.3-.3.65-.52 1.05-.68.41-.16.87-.24 1.4-.24.5 0 .93.07 1.3.2s.67.34.9.61c.23.27.39.62.49 1.04.1.42.12.91.07 1.48zm6.907 3.015a.624.624 0 01-.1.195.35.35 0 01-.17.11 1.064 1.064 0 01-.278.053 7.818 7.818 0 01-.89 0 1.015 1.015 0 01-.272-.052.226.226 0 01-.137-.11.551.551 0 01-.054-.19l-.69-4.15h-.01l-1.36 4.16c-.03.08-.05.14-.09.19-.04.05-.09.09-.16.12s-.16.05-.28.05c-.12.01-.27.02-.45.02-.2 0-.36 0-.47-.01a.809.809 0 01-.27-.05.227.227 0 01-.14-.11.473.473 0 01-.06-.19l-.99-5.72c-.02-.12-.03-.21-.03-.28 0-.07.02-.12.07-.16.04-.04.11-.06.21-.07.1-.01.23-.01.4-.01.16 0 .28.01.38.01.09.01.16.02.2.04.04.02.07.05.09.08.01.04.02.09.02.15l.71 5.02 1.63-4.98c.02-.07.04-.12.07-.16.02-.04.06-.07.12-.09.05-.02.12-.04.22-.04.09-.01.21-.016.36-.016.16 0 .29 0 .38.01.09.007.17.02.22.04.05.02.08.057.1.098.02.04.03.1.04.168l.8 4.987h.01l1.59-5.01c.01-.06.03-.1.05-.14.02-.04.06-.07.11-.09.05-.03.12-.04.21-.05.08-.01.21-.01.37-.01.15 0 .26.01.34.017.08.01.14.03.17.07.04.034.05.09.032.16-.01.078-.034.17-.08.3l-1.99 5.7zm-22.97-1.457l.27-3.067 1.7 1.54-1.97 1.54z"/><path fill="#fff" d="M31.12 9.866c-.055.45-.157.857-.305 1.223-.172.42-.405.79-.698 1.09-.294.3-.644.52-1.052.68-.407.15-.87.23-1.385.23-.51 0-.95-.07-1.32-.2a2.155 2.155 0 01-.896-.61 2.37 2.37 0 01-.478-1.05c-.09-.42-.11-.92-.06-1.5.048-.53.156-1.01.328-1.43.173-.43.406-.79.698-1.08.293-.3.643-.53 1.05-.69.408-.16.872-.24 1.393-.24.497 0 .93.06 1.298.19.37.13.668.33.9.61.23.27.393.61.487 1.03.083.37.11.8.08 1.3-.7-.73-1.194-1.39-2.06-1.84a1.762 1.762 0 00-.908-.22c-.327 0-.546.06-.775.18-.23.12-.423.29-.576.49-.15.2-.26.45-.34.72a5.111 5.111 0 00-.16 1.83c.03.28.1.53.21.73.11.2.27.36.48.46.21.103.48.16.8.16.33 0 .62-.05.84-.187 1.18-.707 1.41-.99 2.47-1.95z"/></svg>'},function(t){t.exports='<svg width="60" height="20" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414" clip-rule="evenodd" viewBox="0 0 60 20"><path fill="#262053" d="M54.205 15.227c-.203.658-.703 1.19-1.36 1.19H2.697c-1.196 0-1.467-.5-1.192-1.19l3.97-11.354c.284-.918.634-1.19 1.292-1.19H56.34c1.183 0 1.337.598 1.19 1.19l-3.325 11.354z"/><path fill="#fff" d="M10.38 12.75a.496.496 0 01-.08.14.279.279 0 01-.14.082c-.06.018-.144.03-.25.035a8.882 8.882 0 01-.41.008c-.136 0-.252 0-.348-.003A3.677 3.677 0 018.907 13a.966.966 0 01-.162-.03.349.349 0 01-.102-.052.183.183 0 01-.06-.073.641.641 0 01-.032-.11L7.11 6.923a1.613 1.613 0 01-.05-.29c0-.07.02-.123.066-.158a.413.413 0 01.22-.065c.104-.01.246-.015.428-.015.156 0 .277.004.364.01a.84.84 0 01.2.036c.046.02.077.05.09.08a.79.79 0 01.044.13l1.154 5.06h.005l2.01-5.03c.02-.05.04-.1.07-.14.03-.03.06-.06.11-.08.05-.02.13-.03.22-.04.09 0 .22-.01.38-.01s.28.01.36.02c.09.01.15.04.18.08s.03.09.02.16c-.02.07-.05.17-.1.28l-2.47 5.82zm3.48.05a.149.149 0 01-.04.092.24.24 0 01-.115.067c-.053.01-.122.03-.206.04-.09.01-.2.01-.33.01s-.24-.01-.32-.02c-.09-.01-.16-.03-.2-.04-.05-.02-.09-.04-.11-.07a.161.161 0 01-.03-.09l.54-6.19c0-.04.01-.07.04-.09.02-.03.06-.05.11-.07.05-.02.12-.03.21-.04.08-.01.19-.02.32-.02s.24 0 .32.01c.08.01.15.02.2.04.05.01.08.04.1.06.02.02.02.05.02.09l-.54 6.19zm5.05-3.145c.027-.31.015-.6-.034-.867a1.683 1.683 0 00-.29-.695 1.427 1.427 0 00-.577-.458c-.25-.11-.57-.165-.98-.165h-.68l-.39 4.46h.69c.36 0 .67-.047.93-.142.26-.094.48-.237.66-.428.18-.19.33-.43.43-.712.11-.283.18-.615.21-.993zm1.382-.046c-.053.6-.177 1.11-.37 1.54-.196.43-.452.77-.77 1.04-.317.27-.69.47-1.123.59-.44.12-.94.19-1.52.19h-1.57c-.12 0-.21-.04-.28-.1-.07-.07-.1-.18-.09-.32l.5-5.72c.01-.15.06-.26.14-.33.08-.07.18-.1.29-.1h1.69c.58 0 1.07.07 1.47.2.39.13.72.34.97.61.25.26.44.6.55.99.11.39.14.85.09 1.37zm4.008 2.85c-.01.09-.02.18-.036.24a.683.683 0 01-.052.16.256.256 0 01-.07.09c-.028.02-.056.02-.087.02H20.76c-.11 0-.202-.04-.272-.1s-.1-.18-.086-.33l.5-5.72c.013-.15.06-.26.143-.33.082-.07.178-.1.29-.1h3.274c.03 0 .05 0 .07.02.02.02.04.05.05.09.01.04.02.09.02.16s0 .15-.01.25c-.01.09-.02.17-.04.24-.01.07-.03.12-.05.16-.02.04-.05.07-.07.09-.03.02-.05.03-.08.03h-2.34l-.14 1.6H24c.03 0 .06.01.083.03.02.02.04.05.052.09.012.04.02.09.023.15 0 .06 0 .14-.01.24-.005.09-.02.18-.03.24a.691.691 0 01-.05.15c-.02.04-.045.07-.07.08-.03.01-.057.02-.09.02h-1.98l-.16 1.85h2.36c.03 0 .06.01.085.03.023.02.042.05.055.09.02.04.027.09.03.16.002.06 0 .15-.01.24z"/><path fill="#b1bb45" d="M36.967 12.52a.531.531 0 01-.182.358.504.504 0 01-.17.09.706.706 0 01-.192.027h-.568c-.118 0-.22-.013-.303-.036-.085-.03-.16-.07-.227-.13s-.13-.15-.188-.26c-.06-.11-.122-.25-.192-.42l-1.363-3.06a12.01 12.01 0 01-.448-1.21h-.01c-.008.24-.02.48-.033.72-.01.25-.03.49-.05.75l-.3 3.43c0 .04-.01.07-.03.09-.02.03-.05.05-.1.07a.64.64 0 01-.19.05c-.07.01-.17.01-.3.01-.11 0-.21-.01-.29-.02a.655.655 0 01-.18-.05c-.04-.02-.07-.04-.08-.07-.01-.03-.02-.06-.01-.09l.52-5.9c.01-.16.07-.28.17-.36.1-.08.22-.12.35-.12h.72c.13 0 .24.01.32.03.09.02.16.06.23.11s.13.12.18.21c.06.09.11.2.16.33l1.07 2.39.18.42.18.42.17.41.15.41h.01c.01-.24.03-.49.04-.74.02-.26.04-.51.06-.74l.27-3.07a.3.3 0 01.04-.1c.03-.03.06-.05.11-.07a.83.83 0 01.2-.05c.08-.01.18-.01.3-.01.11 0 .21 0 .29.01.08.01.13.02.17.04.04.02.07.04.09.07.018.03.02.06.02.09l-.516 5.9zm5.45-2.82c.03-.345.032-.658.002-.94a1.925 1.925 0 00-.22-.725c-.11-.2-.27-.356-.48-.466-.21-.11-.47-.17-.8-.17-.33 0-.61.06-.84.18-.23.12-.43.28-.58.49-.16.2-.27.45-.35.72-.08.27-.14.56-.16.87-.03.36-.03.68-.01.96.03.28.1.53.21.73.11.2.27.35.47.46.21.1.47.16.8.16.33 0 .61-.06.84-.19.23-.12.42-.29.57-.5.15-.21.27-.46.35-.74.08-.28.13-.58.16-.89zm1.406-.07a5.071 5.071 0 01-.332 1.46c-.17.428-.4.793-.69 1.09-.29.3-.64.528-1.05.686-.41.156-.87.235-1.38.235-.51 0-.95-.06-1.32-.2-.36-.13-.66-.33-.89-.61-.23-.27-.39-.62-.47-1.04-.09-.42-.11-.92-.06-1.5.05-.53.16-1.01.33-1.43.18-.42.41-.78.7-1.08.3-.3.65-.52 1.05-.68.41-.16.87-.24 1.4-.24.5 0 .93.07 1.3.2s.67.34.9.61c.23.27.39.62.49 1.04.1.42.12.91.07 1.48zm6.907 3.015a.624.624 0 01-.1.195.35.35 0 01-.17.11 1.064 1.064 0 01-.278.053 7.818 7.818 0 01-.89 0 1.015 1.015 0 01-.272-.052.226.226 0 01-.137-.11.551.551 0 01-.054-.19l-.69-4.15h-.01l-1.36 4.16c-.03.08-.05.14-.09.19-.04.05-.09.09-.16.12s-.16.05-.28.05c-.12.01-.27.02-.45.02-.2 0-.36 0-.47-.01a.809.809 0 01-.27-.05.227.227 0 01-.14-.11.473.473 0 01-.06-.19l-.99-5.72c-.02-.12-.03-.21-.03-.28 0-.07.02-.12.07-.16.04-.04.11-.06.21-.07.1-.01.23-.01.4-.01.16 0 .28.01.38.01.09.01.16.02.2.04.04.02.07.05.09.08.01.04.02.09.02.15l.71 5.02 1.63-4.98c.02-.07.04-.12.07-.16.02-.04.06-.07.12-.09.05-.02.12-.04.22-.04.09-.01.21-.016.36-.016.16 0 .29 0 .38.01.09.007.17.02.22.04.05.02.08.057.1.098.02.04.03.1.04.168l.8 4.987h.01l1.59-5.01c.01-.06.03-.1.05-.14.02-.04.06-.07.11-.09.05-.03.12-.04.21-.05.08-.01.21-.01.37-.01.15 0 .26.01.34.017.08.01.14.03.17.07.04.034.05.09.032.16-.01.078-.034.17-.08.3l-1.99 5.7zm-22.97-1.457l.27-3.067 1.7 1.54-1.97 1.54z"/><path fill="#fff" d="M31.12 9.866c-.055.45-.157.857-.305 1.223-.172.42-.405.79-.698 1.09-.294.3-.644.52-1.052.68-.407.15-.87.23-1.385.23-.51 0-.95-.07-1.32-.2a2.155 2.155 0 01-.896-.61 2.37 2.37 0 01-.478-1.05c-.09-.42-.11-.92-.06-1.5.048-.53.156-1.01.328-1.43.173-.43.406-.79.698-1.08.293-.3.643-.53 1.05-.69.408-.16.872-.24 1.393-.24.497 0 .93.06 1.298.19.37.13.668.33.9.61.23.27.393.61.487 1.03.083.37.11.8.08 1.3-.7-.73-1.194-1.39-2.06-1.84a1.762 1.762 0 00-.908-.22c-.327 0-.546.06-.775.18-.23.12-.423.29-.576.49-.15.2-.26.45-.34.72a5.111 5.111 0 00-.16 1.83c.03.28.1.53.21.73.11.2.27.36.48.46.21.103.48.16.8.16.33 0 .62-.05.84-.187 1.18-.707 1.41-.99 2.47-1.95z"/></svg>'},function(t){t.exports='<svg width="40" height="40" viewBox="0 0 64 64"><style>g#vnVolumeOn:hover&gt;ellipse{opacity:1;fill-opacity:0.45}g#vnVolumeOn:hover&gt;path{opacity:1}</style><g id="vnVolumeOn" fill="none" stroke-width="2"><circle cx="32" cy="32" r="30" fill="#000" fill-opacity=".298" opacity=".7"/><path d="M38.5 39.885h13.047M26.14 52.95l13.518-13.52M26.14 12.703L39.66 26.22m-1.16-.517h12.596m-1.12-1.473v17.235M26.63 51.885v-38.22m-6.124 9.002v20.965m-5.8-24.265v28.065" opacity=".7"/></g></svg>'},function(t){t.exports='<svg width="40" height="40" viewBox="0 0 64 64"><style>g#vnVolumeOff:hover&gt;ellipse{opacity:1;fill-opacity:0.45}g#vnVolumeOff:hover&gt;path{opacity:1}</style><g id="vnVolumeOff" fill="none" stroke-width="2"><circle cx="32" cy="32" r="30" fill="#000" fill-opacity=".298" opacity=".7"/><path d="M36 39.885h13.047M23.64 52.95l13.518-13.52M23.64 12.703L37.16 26.22M36 25.703h12.596m-1.12-1.473v17.235M24.13 51.885v-38.22M11.61 53.417l41.772-41.77" opacity=".7"/></g></svg>'},function(t){t.exports='<svg width="64" height="64"><circle cx="30.868" cy="31.255" r="30.066" fill="none" stroke="#fff" transform="translate(1.2 .813)"/><path fill="#fff" d="M23.817 49V17L50 33 23.817 49z"/></svg>'},function(t){t.exports='<svg width="50" height="50" viewBox="0 0 64 64"><circle cx="32" cy="32" r="30" fill="none" stroke-width="3"/><path stroke-width="0" d="M32.503 12.794V8.75l9 7.75-9 8.5v-4.45c-7.583-.5-13.383 5.267-13.3 11.85.083 6.583 4.083 12.65 12.3 12.6 8.217-.05 12.6-6.596 12.5-13.5l6.106-5.845c.383.61 1.384 2.437 1.392 8.245-.483 8.817-7.717 18.683-19.75 18.95-12.033.267-20.524-9.77-20.35-20.65.174-10.88 9.73-19.738 21.1-19.406z"/></svg>'},function(t){t.exports='<svg width="50" height="50" viewBox="0 0 64 64"><circle cx="32" cy="32" r="30" fill="none" stroke-width="3"/><path stroke-width="0" d="M17.25 24.402l7.152-7.152L32 24.848l7.598-7.598 7.152 7.152L39.152 32l7.598 7.598-7.152 7.152L32 39.152l-7.598 7.598-7.152-7.152L24.848 32l-7.598-7.598z"/></svg>'},function(t){t.exports='<svg width="50" height="50" viewBox="0 0 64 64"><circle cx="32" cy="32" r="30" fill="none" stroke-width="3"/><path stroke-width="0" d="M17.25 24.402l7.152-7.152L32 24.848l7.598-7.598 7.152 7.152L39.152 32l7.598 7.598-7.152 7.152L32 39.152l-7.598 7.598-7.152-7.152L24.848 32l-7.598-7.598z"/></svg>'},,function(t,e,i){i(15),t.exports=i(43)},function(t){var e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},,,,function(t,e,i){"use strict";function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function o(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?r(Object(e),!0).forEach(function(i){n(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function s(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?a(Object(e),!0).forEach(function(i){d(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function l(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?c(Object(e),!0).forEach(function(i){u(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function h(t,e){void 0===e&&(e=null);var i=e;if(i);else{var r=new Bi(t,{shouldSetControlData:!1});i=r&&r.getSlotNode()}return t._setControlData("videoSlot",{node:i}),i}function p(t,e){var i=this,r={};["AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdVideoCompleteTrackOnly","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError","AdLoadedVideoData","slotSizeChanged","vn_hideOverlayFormatWrapper"].forEach(function(e){i._addVPAIDEventListener(t,e,r[e]=i.trigger.bind(i,e))});var o="AdLoaded";r[o]=function(){i._adWasLoaded=!0,i.trigger(o);var t=i.lastPendingCommands.resizeAd;t&&(t(),i.trigger("slotSizeChanged",{shouldNotResize:!1}),delete i.lastPendingCommands.resizeAd),(t=i.lastPendingCommands.setAdVolume)&&(t(),delete i.lastPendingCommands.setAdVolume)},this._addVPAIDEventListener(t,o,r[o]),this._addVPAIDEventListener(t,"AdError",function(){Object.keys(r).forEach(function(e){i._removeVPAIDEventListener(t,e,r[e]),delete r[e]})});var n=this._addDOMEventListener(e,"playing",function(){i._removeDOMEventListener(e,"playing",n),i._videoStartedResolve()});(function(){var r="AdVideoStart";i._addVPAIDEventListener(t,r,function(){e&&!e.paused?i._videoStartedPromise.then(function(){return i.trigger(r)}):i.trigger(r)})})(),this._addVPAIDEventListener(t,"AdVolumeChange",function(){var t=i.videoSlot,e=i.options.module;if(t&&e.vpaidJsVideoSlotShouldBeMuted()){var r=i.vpaid.getAdVolume(),o=t.muted,n=t.volume;r||Fi.e||(r=o?0:n),(.999<r||.001>r?i.logger.log:i.logger.trace)(i[qi]+" AdVolumeChange("+r+") videoSlot.muted="+o),o&&.999<r?t.muted=!1:!o&&.001>r&&(t.muted=!0)}})}function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function g(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function b(){var t=this.jsmpeg,e=this.videoSlot,i=this.getAdExpanded();t.pause(),i&&e&&e.pause()}function m(){0<this.getAdVolume()?this.expandAd():this.collapseAd()}function v(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function y(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function O(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function _(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function A(){var t=this.videoSlot;t&&t.pause()}function w(t){var e=t.target,i=e.duration,r=e.currentTime;if(!isNaN(i)){this.adDuration=i;var o=this.adRemainingTime,n=this.options.startTime;o||r===n||(r=n);var a=(0^1e3*(i-Di(r,i)))/1e3;a===o||(this.adRemainingTime=a,i=(0^1e3*i)/1e3,this.trigger("AdRemainingTimeChange"),a<i&&o===i&&(this.trigger("AdImpression"),this.trigger("AdVideoStart")),a<.75*i&&o>=.75*i&&this.trigger("AdVideoFirstQuartile"),a<.5*i&&o>=.5*i&&this.trigger("AdVideoMidpoint"),a<.25*i&&o>=.25*i&&this.trigger("AdVideoThirdQuartile"),0==a&&0<o&&this.trigger("AdVideoComplete"))}}function S(t){t.preventDefault();var e=t.currentTarget&&t.currentTarget.currentSrc,i=t.target&&t.target.error;return{code:i&&1<=i.code&&3>=i.code?Ti.a.GENERAL_LINEAR_ERROR:Ti.a.FAIL_MEDIA_DISPLAY,message:(i&&i.message||"Load error ")+(e?" source="+e:"")}}function j(t){var e=this;return t.play().then(function(t){return t}).catch(function(){return t.play().catch(function(t){throw Object(Li.e)(t,Er+" playVideo("+e+") failed video autoplay",Ti.a.FAIL_MEDIA_START)})})}function P(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function C(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function E(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function D(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?E(Object(e),!0).forEach(function(i){I(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):E(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function I(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function T(t,e){try{return function(t){var e=t.initScriptParentNode,i=t.lookupNode,r=t.lookupElement,o=t.playerElement,n=t.playerAfter,a=t.playerBefore,s=t.playerSelectorPercent,d=t.playerSelectorTotalMin,c=t.playerDefaultClass,l=t.transitionDuration,u=t.extraSelector,h=t.ignoreCreatePlayerElement,p=t.forceFillingBoundariesModel;i=i||Object(Wi.j)(r)||document.body;var f,g,b,m,v=function(){var t=!1;return window!==window.top&&(0<window.document.documentElement.clientHeight||Fi.c)&&(t=!0,ki.b.log(Lr+".initModuleNode(). Module entered inside iframe and can not change height of the document.",1)),t}(),y=Object(Li.s)(p)||v,O=document.createElement("div");if(o||n||a)if(f=Object(Wi.j)(o,s,i,d),Object(Wi.p)(f))f.appendChild(O);else if(b=Object(Wi.j)(n,s,i,d),Object(Wi.p)(b))b.parentNode.insertBefore(O,b.nextSibling);else if(g=Object(Wi.j)(a,s,i,d),Object(Wi.p)(g))g.parentNode.insertBefore(O,g);else if(b=Object(Wi.j)(u,s,i,d),Object(Wi.p)(b))b.parentNode.insertBefore(O,b.nextSibling);else{if(!h)throw new Error(Lr+" Could not create player element");document.body.appendChild(O)}else if(e&&e.tagName&&"HEAD"!==e.tagName)e.appendChild(O),ki.b.log(Lr+".initModuleNode() moduleNode was initialized at parent node of init script. "+(v?"Module entered inside iframe and can not change height of the document.":""),1),m=e;else{if(!h)throw new Error(Lr+" Could not create player element");document.body.appendChild(O)}Object(Wi.b)(O,{boxSizing:"content-box",overflow:"hidden",width:"100%",height:0,transition:"height "+l+"ms ease-out"}),c&&O.classList.add(c);var _=Object(Wi.a)(O,"div",{position:"absolute",top:0,right:0,bottom:0,left:0,fontSize:0,lineHeight:0,textAlign:"center"});return{lookupNode:i,moduleNode:O,moduleInnerNode:_,boundariesExists:y,insideIframe:v,elementNode:f,beforeNode:g,afterNode:b,widthNode:m}}(t)}catch(r){var i=new Error(r+' (format: "'+e+'" playerElement:"'+t.playerElement+'" playerAfter:"'+t.playerAfter+'" playerBefore:"'+t.playerBefore+'" url('+window.top.location.href+"))");throw i.code=Ti.a.FORMAT_ERROR,i.format=e,i.fatal=!0,i}}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t,e,i){function r(r){e=Ci((t=r)*i)}function o(){t=Ci((e=v)/i)}var n=this.API,a=n.getWidthNode,s=n.moduleAPI.getControlNode,d=s&&s("wrapper"),c=a&&a(),l=Object(Li.h)(c).insideHeight,u=N.call(this),h=u.outsideWrapperHeight,p=u.insideWrapperHeight,f=u.outsideWrapperWidth,g=u.insideWrapperWidth,b=getComputedStyle(d).width,m=parseFloat(b),v=l-((h||0)-(p||0));return h>l||e>v?(o.call(this),t>m&&r.call(this,m)):(f>m||t>m)&&(r.call(this,m-(f-g)),e>v&&o.call(this)),{width:t,height:e,availableHeightForAd:v}}function N(){var t=this.API.moduleAPI.getControlNode,e=t&&t("wrapper"),i=e&&Object(Li.h)(e);return{outsideWrapperHeight:i.outsideHeight,insideWrapperHeight:i.insideHeight,outsideWrapperWidth:i.outsideWidth,insideWrapperWidth:i.insideWidth}}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V(t,e){var i=this.API,r=this.forceInsideWidth,o=this.forceInsideHeight,n=(i||{}).getWidthNode,a=n&&n(),s=a&&Object(Li.h)(a).insideWidth;return r>s&&(o*=s/r,r=s),t>r&&(e*=r/t,t=r),e>o&&(t*=o/e,e=o),{width:t,height:e}}function L(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function F(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?L(Object(e),!0).forEach(function(i){W(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):L(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function W(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(){this._updateModuleNodeSize(),this._updateModuleSize()}function B(){var t=this.moduleNode,e=this.options,i=e.expandOnAdLoaded,r=e.expandingDuration,o=e.doNotWatchVisibility;this._adHasBeenLoaded=!0,this._addDOMEventListener(window,"resize",H.bind(this)),this._addDOMEventListener(document,"visibilitychange",function(){var t=this.options.moduleAPI,e=t.inState,i=t.pauseAd;"hidden"===document.visibilityState?e&&e("playing")&&i&&i({invoker:this,method:"onVisibilityChange"}):this._updateModuleState()}.bind(this),!1),0<r&&Object(Wi.b)(t,{transitionProperty:"width, height",transitionDuration:r+"ms",transitionTimingFunction:"ease-out"}),o||(i?(this._switchOnObservableCheckingToModuleNode(),this._updateModuleSize(),this._updateModuleNodeSize(),this._updateModuleState()):(this._updateModuleSize(),this._switchOnObservableAdvancedNode()))}function U(){var t=this,e=(this.options||{}).destroyTimeout;this._closeModule(),setTimeout(function(){return t._destroy()},e)}function q(){var t=this.forceHeight,e=this.moduleNode,i=this.options,r=i.forceEnableVerticalContent,o=i.moduleAPI,n=o.getAdAspectRatio,a=o.getAdWidth,s=n&&n(),d=e.clientWidth||a();return{width:d,height:t||s&&d&&d*(!Fi.f&&1<s&&!r?9/16:s)}}function X(t){if(Object(Wi.p)(t)&&!this._moduleWasClosed){var e=t.getBoundingClientRect();if(e.height){G.call(this);var i=this._startFactor,r=this._stopFactor,o=this.options.moduleAPI,n=o.getMainModuleId,a=o.getControlNode,s=0,d=0,c=a("container"),l=a("videoSlot");if(t===c||t===l){var u=a("iframe");if(u){var h=u.getBoundingClientRect();s=h.top,d=h.left}}var p=n&&n(),f=2147483647;if(!this.grid||!this.grid.length){var g={height:"1px",borderTopWidth:"1px",position:"absolute",pointerEvents:"none",zIndex:f};this.grid=[];var b=e.height,m=Object(Wi.a)(window.document.body,"div",F({},g,{height:b,borderTopColor:"yellow",borderTopStyle:"dashed"}));m.className="vn-grid-frame vn-module__"+p,this.grid.push({pos:0,line:m});for(var v=.1;1>v;v=(0^100*(v+.1))/100)if(v!==i&&v!==r){var y=Object(Wi.a)(window.document.body,"div",F({},g,{borderTopColor:"yellow",borderTopStyle:.5===v?"dashed":"dotted"}));y.className="vn-grid-"+v+" vn-module__"+p,this.grid.push({pos:v,line:y})}if(i){var O=Object(Wi.a)(window.document.body,"div",F({},g,{borderTopColor:"red",borderTopStyle:"solid",zIndex:f+1}));O.className="vn-grid-start-factor-"+i+" vn-module__"+p,this.grid.push({pos:i,line:O})}if(r){var _=Object(Wi.a)(window.document.body,"div",F({},g,{borderTopColor:"pink",borderTopStyle:"dashed",zIndex:f+2}));_.className="vn-grid-stop-factor-"+r+" vn-module__"+p,this.grid.push({pos:r,line:_})}}for(var A=this.grid,w=e.width,S=e.height,j="relative"===getComputedStyle(window.document.body).position?Object(Li.h)(window.document.body):{marginLeft:0,marginTop:0,borderTopWidth:0,borderLeftWidth:0},P=j.marginLeft,C=j.marginTop,E=j.borderTopWidth,D=j.borderLeftWidth,I=window.document.documentElement.getBoundingClientRect(),T=0;T<A.length;T++){var k=A[T],x=k.pos,N=k.line;N&&Object(Wi.b)(N,{top:Object(Li.r)(e.top-I.top-C-E+x*S+s),left:Object(Li.r)(e.left-I.left-P-D+d),width:Object(Li.r)(w)})}}}}function G(){var t=this.grid;if(t)for(;t&&t.length;){var e=t.pop();if(!e)return;var i=e.line;Object(Wi.s)(i)}}function Y(){var t=this.moduleNode,e=this.options.showObservableNode;if(!t)return null;var i=function(){for(var t=this.moduleNode.getBoundingClientRect().bottom,e=document.documentElement,i=e.clientWidth,r=e.clientHeight,o=i/10,n=o;n<i-o;n+=o)for(var a=t+5;a<r;a+=(r-t)/10){var s=document.elementFromPoint(n,a),d=Q(t,s);if(d)return d}return!1}.call(this);return i&&i.element&&e&&(i.element.style.backgroundColor="pink"),i}function J(t,e){var i=this;void 0===e&&(e=10),setTimeout(function(){var r=(i.moduleNode||{}).clientHeight;if(!e&&r);else if(e&&r)J.call(i,t,e-1);else{var o=t.top,n=t.bottom,a=t.element,s=o?a.getBoundingClientRect().top-o:n?a.getBoundingClientRect().bottom-n:0;s&&window.scrollBy(0,s)}},20)}function Q(t,e){if(!e)return null;var i=document.documentElement.clientHeight,r=(getComputedStyle(e)||{}).position;if("absolute"===r||"fixed"===r)return null;var o=e.getBoundingClientRect(),n=o.top,a=o.bottom;return 0<n&&n>t&&n<i?{element:e,top:n}:0<a&&a>t&&a<i?{element:e,bottom:a}:null}function Z(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function K(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function $(){var t=[],e=[],i=[],r=window.innerHeight;return this.slotPlaceholders.forEach(function(o){var n=o.getBoundingClientRect(),a=n.top,s=0>n.bottom,d=a>r;s&&t.push(o),d&&i.push(o),s||d||e.push(o)}),{above:t,visible:e,below:i}}function tt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function et(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function it(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rt(t,e){var i=Object(wr.f)(t);return i&&i*e||+t}function ot(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function nt(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?ot(Object(e),!0).forEach(function(i){at(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ot(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function at(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function st(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function dt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ct(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function lt(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?ct(Object(e),!0).forEach(function(i){ut(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ct(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function ut(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ht(){var t=function(t,e){return e||(e=t.slice(0)),t.raw=e,t}(["Pull to skip<br/>",""]);return ht=function(){return t},t}function pt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function ft(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function gt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bt(){var t=yt(["Watch video"]);return bt=function(){return t},t}function mt(){var t=yt(["Going after"]);return mt=function(){return t},t}function vt(){var t=yt(["Watch video<br/>after ad"]);return vt=function(){return t},t}function yt(t,e){return e||(e=t.slice(0)),t.raw=e,t}function Ot(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function _t(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?Ot(Object(e),!0).forEach(function(i){At(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Ot(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function At(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function wt(){var t,e=this,i=this.module,r=this.options.transitionDuration,o=i._getControlNode("wrapper"),n=this._getCurrentPlayer(),a=n?n.getSize():{},s=a.width,d=void 0===s?0:s,c=a.height,l=void 0===c?0:c;this._overlayControls=Object(Wi.a)(o,"div",{position:"absolute",zIndex:2,left:0,top:0,width:d+"px",height:l+"px",fontSize:0,color:"#333",borderRadius:"4px",boxShadow:"none",transitionProperty:"top, width, height",transitionDuration:r+"ms",transitionTimingFunction:"ease-out",visibility:"hidden",background:"transparent",opacity:0},null,function(){return i.skipAd()}),this._overlayControls.classList.add("___overlay___"),function(){var t=this.options.transitionDuration;this._thumbnailWrapper=Object(Wi.a)(this._overlayControls,"div",{position:"relative",zIndex:2,width:"100%",height:"100%",borderRadius:"4px 0 0 4px",textAlign:"center",overflow:"hidden",opacity:.95,backgroundColor:"transparent",transitionProperty:"top, width, height",transitionDuration:t+"ms",transitionTimingFunction:"ease-out",display:"flex",alignItems:"center",justifyContent:"center"}),this._thumbnailWrapper.className="___thumbnailWrapper___",this._thumbnailDefaultText=Object(Wi.a)(this._thumbnailWrapper,"div",{height:"auto",width:"auto",zIndex:1,color:"grey",lineHeight:1.2,opacity:0,transition:"all "+t+"ms ease-out"},wo(vt()))}.call(this),function(){var t=this.options,e=t.skipControlsTransitionDuration,i=t.skipControlsTransitionDelay,r=this._skipAd=Object(Wi.a)(this._overlayControls,"div",{position:"absolute",zIndex:1,top:0,right:"34%",width:"34%",height:"100%",visibility:"hidden",display:"flex",flex:"0 0 auto",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",boxSizing:"border-box",background:"white",borderRadius:"0 4px 4px 0",fontSize:"2.7vh",transition:"all "+e+"ms ease-out",transitionDelay:(i||1.5*e)+"ms"});r.className="___skipAd___",this._countdownText=Object(Wi.a)(r,"div",{display:"none",paddingTop:0,paddingBottom:0,paddingLeft:"5%",paddingRight:"5%",lineHeight:1,textAlign:"center"}),this._countdownValue=Object(Wi.a)(r,"div",{textAlign:"center"});var o=this._countdownValueText=Object(Wi.a)(this._countdownValue,"div",{display:"flex",justifyContent:"center",alignItems:"center",fontSize:"10px",fontWeight:"bold",width:"2vh",height:"2vh",lineHeight:1,borderRadius:"50%",backgroundColor:"#d3d3d3",boxSizing:"border-box"});o.className="___countdownValueText___",setTimeout(function(){return Object(Wi.b)(o,{transition:"all 250ms"})},1)}.call(this),this.updateAfterTransitionEndWithBind=t=function(t){var i=t||{},r=i.propertyName;if(!i.forceUpdate){if("height"!==r&&"width"!==r)return;var o=0^e._overlayControls.offsetWidth,n=0^e._overlayControls.offsetHeight,a=e.overlayControlsTargetWidth,s=e.overlayControlsTargetHeight;if(!a||!s||!e.mainTransitionWasStarted||!t||"height"!==t.propertyName&&"width"!==t.propertyName||5<Pi(n-s)||5<Pi(o-a))return}e.mainTransitionWasFinished=!0,e.mainTransitionWasStarted=!1,setTimeout(function(){e.update(!1,!1);var t=e._thumbnailDefaultText,i=e._thumbnailWrapper,r=e.options.thumbnailBackgroundColor;t&&Object(Wi.b)(t,{opacity:1}),Object(Wi.b)(i,{backgroundColor:r})},1)}.bind(this),setTimeout(function(){e._addDOMEventListener(e._overlayControls,"transitionend",t)},1)}function St(){function t(){var t=this,e=this._thumbnailWrapper,i=this._thumbnailDefaultText;if(!e)return Promise.resolve(!1);var r=this._tumbnailImage;return new Promise(function(o){i&&(i.remove(),delete t._thumbnailDefaultText);var n=null;r&&((n=t._thumbnail=Object(Wi.a)(e,"img",{position:"relative",height:"100%",zIndex:2})).src=r),o(n)})}var e=this;if(this._thumbnail)return Promise.resolve(this._thumbnail);if(this._tumbnailImage)return t.call(this);var i=this.options.getThumbnailTimeout,r=new Promise(function(i){var r=e._getCurrentPlayer(),o=r&&r.getThumbnail&&r.getThumbnail();return o?(Object(Yi.c)(o).then(function(t){return"error"===t.type?null:e._tumbnailImage=o}).then(function(){return t.call(e)}).then(function(t){return i(!!t)}),i(!0)):i(!1)});return Promise.race([r,new Promise(function(t,e){i&&setTimeout(function(){e(Error("Timeout("+i+") for getThumbnail was expired"))},i)})])}function jt(t){if(this.mainTransitionWasFinished){var e=this._overlayControls,i=this._skipAd,r=this._countdownText,o=this._thumbnail,n=this._countdownValueText,a=this.options,s=a.left,d=a.skipControlsTransitionDuration,c=a.boxShadow,l=e.clientHeight;(Fi.f||55>=l||!o)&&(t=!1);var u=t?l/2:l/1.5;Object(Wi.b)(r,{display:t?"":"none"}),Object(Wi.b)(e,{boxShadow:c}),Object(Wi.b)(i,{visibility:"visible"}),this._getCurrentPlayer()?(Object(Wi.b)(e,{transition:"none"}),Object(Wi.b)(r,{transition:"none"}),Object(Wi.b)(i,{fontSize:l/6+"px",transition:"width 0ms, transform "+d/2+"ms ease-out",transform:"translateX(98%)"})):(Object(Wi.b)(e,{left:s,transition:"all "+d+"ms ease-out"}),Object(Wi.b)(i,{flexDirection:"row",width:"100%",right:"0",transition:"none"})),Object(Wi.b)(n,{fontSize:u/2+"px",width:u+"px",height:u+"px"})}}function Pt(t){var e=this._overlayControls;Object(Wi.b)(e,{visibility:"visible",opacity:1}),t.setAdSkippableState(!1),function t(){var e=this;this._addTimeout(this.TIMER_NAME,function(){(function(){var t=this.module,e=this._countdownText,i=this._countdownValueText,r=Ct.call(t),o=r.time,n=r.skipTime,a=r.adDuration;0<o&&(e.innerHTML=wo(mt()),i.innerHTML=""+o),0>=o&&n<=a&&!this._playButtonWasShown&&(this._playButtonWasShown=!0,t.setAdSkippableState(!0),e.innerHTML=wo(bt()),i.innerHTML=No.a,function(){var t=this._overlayControls,e=this._countdownValueText,i=this.options,r=i.countdownColor,o=i.countdownBackgroundColor,n=i.countdownHoverColor,a=i.countdownBackgroundHoverColor;this._addDOMEventListener(t,"mouseenter",function(){Object(Wi.b)(t,{cursor:"pointer"}),Object(Wi.b)(e,{backgroundColor:a,color:n})}),this._addDOMEventListener(t,"mouseleave",function(){Object(Wi.b)(t,{cursor:"auto"}),Object(Wi.b)(e,{backgroundColor:o,color:r})})}.call(this)),jt.call(this,!0)}).call(e),t.call(e)},Ro)}.call(this)}function Ct(){var t=this.getAdDuration()||0,e=this.getAdElapsedTime()||0,i=this._getControlUnionData("skipAdCountdown","timeBeforeSkip")||t;return{time:Ci(Di(t,i)-e),skipTime:i,adDuration:t}}function Et(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function Dt(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?Et(Object(e),!0).forEach(function(i){It(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Et(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function It(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Tt(){this._addDOMEventListener(document,"visibilitychange",function(){var t=this.module;"hidden"===document.visibilityState?t._inState("playing")&&t.pauseAd({invoker:this,method:"onVisibilityChange"}):this._updateModuleState()}.bind(this),!1),this._updateModuleState()}function kt(t){void 0===t&&(t=!0);var e=this.slot,i=this.options.playerPlaybackClass;e&&i&&(t?e.classList.add(i):e.classList.remove(i))}function xt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function Nt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Mt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function Vt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Lt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ft(t,e,i,r){void 0===r&&(r=function(t){return t}),i||(i=function(){return!0});for(var o,n=[],a=this._controlData;a;a=Object.getPrototypeOf(a))if((o=Object.prototype.hasOwnProperty.call(a,t)&&a[t])&&i(o)){var s={data:o,parsePoint:o.parsePoint};n.push(s)}if(n.length){var d=r(function(t,e){var i=t.reduceRight(function(t,i){var r=!!i.parsePoint||e&&i[e]&&!!i[e].parsePoint;delete i.parsePoint;var o=i.data||{},n=t,a=Object(Fr.e)(n,i);return r&&!o.display&&delete a.display,r&&!o.visibility&&delete a.visibility,r&&!o.position&&"absolute"===n.position&&("hidden"===n.visibility||"none"===n.display)&&delete a.position,a},{}).data||{};return e?i[e]:i}(n,e));return null===d||void 0!==d&&("object"!=typeof d||Object.keys(d).length)?d:void 0}}function Wt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function zt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ht(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function Bt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ut(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function qt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Xt(t,e){return void 0===e&&(e={}),new Promise(function(i){var r=function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?Ut(Object(e),!0).forEach(function(i){qt(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Ut(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({},vn,{},e||{})||{},o=r.shouldCreateIframe,n=r.attributes,a=r.styles,s=r.iframeAttributes,d=r.logger,c=r.sandbox,l=r.cssClass;d&&d.trace(".initIframe() Creating sandboxed iframe");var u=document.createElement(o?"iframe":"div");Object(Wi.u)(u,n),Object(Wi.b)(u,a),l&&u.classList.add(l),o&&(Object(Wi.u)(u,s||{}),u.sandbox=c);var h=Object(Wi.v)(u,{onload:function(){d&&d.trace(" createIframe() initIframe() @load"),clearInterval(h),i(u)}});o&&(u.src=Fi.g?"javascript:":"about:blank"),t&&t.appendChild(u),d&&d.log(" createIframe() onFrameLoaded() sandboxed iframe was appended")})}function Gt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function Yt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Jt(){var t=function(t,e){return e||(e=t.slice(0)),t.raw=e,t}(["Advertisement"]);return Jt=function(){return t},t}function Qt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function Zt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Kt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function $t(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function te(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ee(){var t=this.module,e=this.invisible,i=t._getControlNode(En);if(i&&!e&&!t._inState("afterplay")){var r=t.getAdSkippableState(),o=null;if(i)Object(Wi.b)(i,{display:r?"block":"none"}),o=Object(Li.h)(i).offsetWidth;t.trigger("AdSkipAdPositionChanged",{offsetWidth:o})}}function ie(){var t=ne(["The ad will end in "," sec"]);return ie=function(){return t},t}function re(){var t=ne(["Skip ad in "," sec"]);return re=function(){return t},t}function oe(){var t=ne([""," sec"]);return oe=function(){return t},t}function ne(t,e){return e||(e=t.slice(0)),t.raw=e,t}function ae(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function se(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function de(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ce(){var t=this.totalTimeCountdown,e=this.invisible,i=this.reservedSkipAdTimerHandler,r=this.moduleAPI,o=r.getAdElapsedTime,n=r.getControlNode,a=r.getAdRemainingTime,s=r.getAdSkippableState,d=r.getAdDuration,c=this.timeBeforeSkip||0,l=s(),u=a(),h=d();if(0>h)return!0;if(u>h&&!i&&(this.reservedSkipAdTimerHandler=this._addTimeout(kn,le.bind(this),1e3*c)),(c===1/0||c>h)&&!t)return!1;if(l&&(!t||t&&!u))return!0;if(0>u)return!0;var p=n(Tn);if(!p&&!e)return!1;var f=o(),g=0===h?u:Ci(Di(h,c)-f),b=0<=g?g:Ci(u);if(b===1/0)Object(Wi.b)(p,{display:"none"});else if(!e){var m=this.isSmallSizeModule?wo(oe(),b):0<=g&&c!==1/0&&c<=h?0<g?wo(re(),b):"":wo(ie(),b);m?(p.innerHTML=m,Object(Wi.b)(p,{display:"block"})):Object(Wi.b)(p,{display:"none"})}return!this.targetTimeWasReached&&(!u||0>=g&&(c<=h||0===h))&&(le.call(this),this.targetTimeWasReached=!0),!0}function le(){var t=this.remainTimeChecker,e=this.totalTimeCountdown,i=this.invisible,r=this.moduleAPI,o=r.getControlNode,n=r.setAdSkippableState,a=r.getAdRemainingTime;if(this.starting=!1,n(!0),!i){var s=a(),d=o(Tn);d&&(!e||e&&!s)&&(Object(Wi.b)(d,{display:"none"}),t&&t._destroy(),this.remainTimeChecker=null)}}function ue(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function he(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?ue(Object(e),!0).forEach(function(i){pe(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ue(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function pe(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function fe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ge(){var t=this._getControlNode(Wn),e=Math.ceil(this.getAdVolume());t&&(t.innerHTML=zn(e))}function be(){var t=this.vpaid.hasAudio;void 0===t&&(t=-1<this.vpaid.getAdVolume());var e=this._getControlNode(Wn);e&&Object(Wi.b)(e,{display:t?"block":"none"})}function me(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function ve(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ye(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function Oe(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?ye(Object(e),!0).forEach(function(i){_e(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ye(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function _e(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ae(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function we(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Se(t,e){var i=this._getControlNode(Qn),r=this._getControlNode("callButton"),o=this.getAdWidth(),n=Di(o*$n,t),a=Di(n*(e/t),e),s=0;this.format.isFloatingMode()&&(s=Kn,!r&&(n+=2*Zn,a+=2*Zn)),Object(Wi.b)(i,{left:s+"px",backgroundSize:n+"px "+a+"px",width:n+"px",height:a+"px"}),this._addTimeout("callButtonIsReady",function(){var t=this._getControlNode(Qn),e=this._getControlNode("callButton"),i=(e&&e.offsetHeight||0)-t.offsetHeight;if(0<i){var r=window.getComputedStyle(e),o=r.marginTop;Object(Wi.b)(t,{marginTop:i/2+parseInt(o,10)+"px"})}}.bind(this),0)}function je(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function Pe(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ce(){var t=this._getControlNode(ra),e=this._getControlNode("advLogo"),i=this.getAdWidth(),r=e?la:0,o=e&&e.offsetWidth||0,n=getComputedStyle(t).borderWidth,a=2*parseInt(n,10),s=this.format.isFloatingMode(),d=Di(i*ca,sa),c=i*da;i<ua&&(c=i-o-r-2*fa-a);var l=0;s&&(c=i-o-r-2*fa-a-20,d=sa,l=ha),Object(Wi.b)(t,{right:l+"px",width:c+"px",height:d+"px"}),this._addTimeout("advLogoIsReady",function(){var t=this._getControlNode(ra),e=this._getControlNode("advLogo"),i=(e&&e.offsetHeight||0)-t.offsetHeight;if(0<i){var r=getComputedStyle(e),o=r.marginTop;Object(Wi.b)(t,{marginTop:i/2+parseInt(o,10)+"px"})}}.bind(this),0)}function Ee(){var t=function(t,e){return e||(e=t.slice(0)),t.raw=e,t}(["Learn more"]);return Ee=function(){return t},t}function De(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function Ie(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Te(){var t=this._getControlNode(ba),e=this._getControlNode("title"),i=e?parseInt(getComputedStyle(e).height,10):0,r=parseInt(getComputedStyle(t).width,10),o=(this._getControlUnionData(ba,"position")||wa).toLowerCase(),n=this.getAdWidth(),a=this.getAdHeight(),s=this._getControlUnionData(ba,"marginV")||"10%",d=this._getControlUnionData(ba,"marginH")||"5%",c={};~o.indexOf("top")?c.top=Object(Li.r)(ke(d,a)+i):~o.indexOf("bottom")&&(c.bottom=Object(Li.r)(ke(s,a))),~o.indexOf("left")?c.left=Object(Li.r)(ke(d,n)):~o.indexOf("right")?c.right=Object(Li.r)(ke(d,n)):c.left=Object(Li.r)(.5*n-r/2),Object(Wi.b)(t,c)}function ke(t,e){var i=Object(wr.f)(t);return null==i?parseFloat(t):i*e}function xe(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function Ne(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Me(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Re(t){var e=t._getControlNode(Da);this.attemptsCounter=0,e&&Object(Wi.b)(e,{display:"none"})}function Ve(t){var e=t.getAdRemainingTime();return 0>e?void Re.call(this,t):(t._inState("playing")&&e===this.oldCurrentTime?function(t){var e=t._getControlNode(Da);if(e&&Object(Wi.b)(e,{display:"block"}),++this.attemptsCounter>this.attemptLimit){var i=t.vpaid;i&&i.skipAd()||!t._inState(["destroyed","destroying"])&&t.skipAd()}}.call(this,t):Re.call(this,t),void(this.oldCurrentTime=e))}function Le(t){clearInterval(this.videoProgressId),this.videoProgressId=setInterval(Ve.bind(this,t),1e3)}function Fe(t){clearInterval(this.videoProgressId),Re.call(this,t)}function We(t,e){try{var i=localStorage.getItem(e);return null===i&&(i=1+ji(Math.random()*t),localStorage.setItem(e,i)),""+i}catch(e){return""+(t+1)}}function ze(){return""+(1+ji(100*Math.random()))}function He(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function Be(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?He(Object(e),!0).forEach(function(i){Ue(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):He(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function Ue(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function qe(t){var e=function(t){if(!t)return{skipTime:null,strict:!1};var e=null,i=t.querySelector("Linear[skipoffset]"),r=i&&i.getAttribute("skipoffset");r&&(e=~r.indexOf("%")?function(t,e){var i=Object(Ii.b)(t),r=.01*parseInt(e.substr(0,2),10);return i&&ji(Object(wr.g)(i)*r)||NaN}(t,r):Object(wr.g)(r));var o=t.querySelector('Extension[type="skipTime2"]')||t.querySelector('Extension[type="skipTime"]'),n="true"===(o&&o.getAttribute("strict")),a="true"===(o&&o.getAttribute("global")),s="true"===(o&&o.getAttribute("important"));return{skipTime:e=e||Object(wr.g)(Object(wr.d)(o,"","0")),strict:n,global:a,important:s}}(t);return{skipTime:e.skipTime,global:e.global,strict:e.strict,important:e.important}}function Xe(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function Ge(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ye(){var t=this.getAdAspectRatio(),e=this._getControlNode("wrapper"),i=Object(Wi.a)(e,"div",function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?Xe(Object(e),!0).forEach(function(i){Ge(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Xe(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({display:"none",position:"absolute",zIndex:5,bottom:1>=t?"10%":"25%",left:"50%",transform:"translateX(-50%)",padding:"5px",borderRadius:"3px",color:"white",background:"rgba(0, 0, 0, 0.3)",fontSize:"10pt",lineHeight:1.3,textAlign:"center",whiteSpace:"pre",pointerEvents:"none"},this._getControlUnionData(Ba,"css")));this._setControlData(Ba,{node:i})}function Je(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function Qe(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ze(t,e){var i=this;t._setState("afterplay");var r=10*(Fi.f&&window.devicePixelRatio||0),o=e.function,n=e.fgColor,a=e.bgColor,s=this.afterplayTimeoutId,d=(this.moduleAPI||{}).getOptions,c=(d&&d()||{}).formatExpandingDuration;if(this._formatExpandingDuration=c||0,o&&window[o])return clearTimeout(s),this._isActive=!1,void t.stopAd();var l=t._getControlNode("wrapper"),u=t._getControlNode("skipAd"),h=t._getControlUnionData(Za,"css")||{},p=Object(Wi.a)(l,"div",function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?Je(Object(e),!0).forEach(function(i){Qe(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Je(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({position:"absolute",zIndex:4,top:0,right:0,bottom:0,left:0,overflow:"hidden"},h)),f=e.advertiser,g=e.replay,b=e.close,m=g||f||b,v=Object(Wi.a)(p,"div",{display:m?"flex":"block",width:"100%",height:"100%",fontSize:100-r+"%",lineHeight:1.5,fill:n,stroke:n,color:n,backgroundColor:a,userSelect:"none"});if(u&&Object(Wi.b)(u,{display:"none"}),m){var y=Object(Wi.a)(v,"div",{flex:"1 1 50%",display:"flex",flexFlow:"column nowrap",justifyContent:"center"});y.className="afterplay-controls";var O=function(t,e,i,o){var n=Object(Wi.a)(t,"div",{display:"flex",alignItems:"center",width:"100%",padding:"2% 4%",cursor:"pointer",boxSizing:"border-box"},null,o);return Object(Wi.a)(n,"div",{width:"50px",height:"50px",transform:"scale("+(1-r/100)+")"},e),Object(Wi.a)(n,"div",{width:"100%",paddingLeft:"10px",boxSizing:"border-box"},i),Fi.f||(n.addEventListener("mouseenter",function(){return Object(Wi.b)(n,{opacity:.8})}),n.addEventListener("mouseleave",function(){return Object(Wi.b)(n,{opacity:1})})),n},_=t.isVpaidJs();if(_&&this.logger.log(Ka+"::Replay The ad that has been played was VPAID so we can not replay the same ad. Replay is not available."),g&&!_){var A=g.title,w=g.trackings;O(y,Ya.a,A,function(){clearTimeout(s),Object(Wi.s)(p);var e=(w||{}).clicks;e&&t._trackStrongUrls(e),t._replay(),i._isReplay=!0,u&&t&&t.adSkippableState&&Object(Wi.b)(u,{display:"block"})}).className="___vn-replay-control_replay___"}if(f){var S=f.title,j=f.trackings,P=f.url;if(P||(P=t._getLastParameters().ClickThrough)&&this.logger.log(Ka+"::Advertiser @AdStopped advertiser's url is not defined so got url from last VAST's VideoClicks->ClickThrough ("+P+")"),P)O(y,ia.a,S,function(){clearTimeout(s);var e=(j||{}).clicks;e&&t._trackStrongUrls(e),Object(Yi.b)(P)}).className="___vn-replay-control_open_url___"}if(b){var C=b.title,E=b.trackings;O(y,Qa.a,C,function(){clearTimeout(s);var e=(E||{}).clicks;e&&t._trackStrongUrls(e),i._isActive=!1,t.stopAd()})}u&&Object(Wi.b)(u,{display:"none"})}var D=e.featured;D&&function(t,e,i,r){var o=r?{flex:"1 1 50%"}:{},n=Object(Wi.a)(i,"div",o);n.className="afterplay-featured",Xt(n,{shouldCreateIframe:!0,logger:this.logger,sandbox:"allow-forms allow-same-origin allow-pointer-lock allow-scripts allow-popups allow-top-navigation"}).then(function(i){var r=e.html,o=i.contentDocument&&i.contentDocument.body||i;o.innerHTML=r;var n=o.getElementsByTagName("script");if(n){var a=t._getControlNode("iframe");(a&&a.contentWindow||window).VIDEONOW={subscribe:t.subscribe.bind(t)},function(t,e){!function i(r){var o=n.item(r);if(o)if(o.src){var a=e.createElement("script");a.src=o.src,a.onload=i.bind(this,r+1);var s=e.getElementsByTagName("head")[0];try{s.appendChild(a)}catch(t){}}else{try{t.eval(o.innerHTML)}catch(t){}i(r+1)}}(0)}(i.contentWindow||window,i.contentDocument||document)}})}.call(this,t,D,v,m);var I=e.timeout;I&&I<1/0&&(this.afterplayTimeoutId=setTimeout(function(){t._destroy()},1e3*I))}function Ke(t,e){var i=t.getAttribute(e);return!("true"!==i)||"false"!==i&&null}function $e(t,e){return null==t?e:null==e?t:t&&e}function ti(t,e){var i=t.format,r=t.options,o=(t.getAPI&&t.getAPI().logger||ki.b,(r||{}).canExecuteNoAd);return new Promise(function(r,n){o||i&&i.canExecuteNoAd&&i.canExecuteNoAd()||n(new Error(ds+" runNoAd(). canceled "));var a=e||{},s=a.functionText,d=a.functionUrl;if(s&&s.length){var c=document.createElement("script");c.innerHTML=s,document.body.appendChild(c),r(t)}else if(d&&d.length){if(d){var l=decodeURIComponent(d);Object(Yi.a)(l).then(function(){r(t)}).catch(function(t){n(t)})}}else n(new Error(ds+" runNoAd(). No exists any function to execute"))})}function ei(t){return new Promise(function(e){t&&t.getAPI&&t.getAPI().logger||ki.b;var i,r=(t._getLastParameters()||{})[bs]||{},o=r.urls,n=r.important,a=r.global;(n||a||o&&o.length)&&t._setControlData(bs,((i={urls:o})[Fr.a]=n,i),a);e(t)})}function ii(t){var e=this.environmentVars,i=this.options.minSlotWidthPercent,r=this._getControlNode("slot")||e.slot,o=Object(Li.k)(window),n=o&&Object(Li.g)(o)||Object(Li.t)(window),a=n&&n.querySelector("body"),s=Object(Wi.f)(r,a).reverse(),d=a;s.length&&s.forEach(function(t){d===a&&t.offsetWidth!==a.offsetWidth&&(d=t)}),d.documentElement&&(d=d.documentElement);var c=0<t&&t/d.offsetWidth<i,l="\n    Width: "+t+";\n    Viewport: "+(o?o.innerWidth:"Unknown")+";\n    Container width: "+d.offsetWidth+";\n    Ratio: "+t/d.offsetWidth;return{error:c,message:c&&l||null}}function ri(t){var e=Error("Wrong ad width was detected: "+t);return e.code=Ti.a.AD_SIZE_ERROR,e.message=t,e.fatal=!1,e}function oi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function ni(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?oi(Object(e),!0).forEach(function(i){ai(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):oi(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function ai(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function si(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function di(){var t=this;if(this.globalTimeoutProvider&&this.globalTimeoutProvider.pause(),!this._inState(["destroying","destroyed"])){this._setState("loaded");var e=this.lastPendingCommands.resizeAd;e&&(e(),delete this.lastPendingCommands.resizeAd),this._adHasBeenLoaded=!0,fi.call(this,"AdLoaded");var i=this._getControlUnionData("videobackground","css");if(!Object(Li.p)(i)){var r=this._getControlNode("videoSlot");r&&Object(Wi.b)(r,i)}var o=this.options,n=this.format,a=(o||{}).viqeoParentSlotClassName,s=this.vnShowViqeo=this._getControlUnionData("vnShowViqeo");if(!s||a&&document.getElementsByClassName(a).length)this.startAdShouldBeInvoked&&(this.startAdShouldBeInvoked=!1,this.startAd());else{var d=this._getControlNode("slot"),c="instream"===(n&&n.toString().slice(7,-1)).toLowerCase(),l=c?d.insertAdjacentElement("afterbegin",document.createElement("div")):Object(Wi.n)(d&&d.parentElement||d,"div",{});l.className=a+" vn-module__"+this.mainModuleId,Object(Wi.b)(l,{position:"relative",textAlign:"center"}),c&&Object(Wi.b)(l,{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1});var u=this.data.map(function(t){return t.parameters}),h={},p="vn_module_"+this.mainModuleId,f=JSON.stringify(u);try{sessionStorage.setItem(p,f),h.key=p}catch(e){}if(h.parameters=u,h.disableExtensions=["vnShowViqeo"],function(t){function e(){r&&window.removeEventListener("onViqeoLoad",r);try{var e=ni({},t);e.parent=Object(Wi.p)(e.parent)&&e.parent.tagName+"."+e.parent.className||""}catch(e){}window.VIQEO.createPlayer(t,t.parent).catch(function(){})}var i=this,r=null,o=t.starterUrl,n=(this.options||{}).viqeoStarterUrl;Object(Yi.a)(o||n).then(function(){window.VIQEO?e.call(i):(window.onViqeoLoad=e.bind(i),window.addEventListener("onViqeoLoad",r=e.bind(i)))})}.call(this,ni({},s.options,{parent:l},{vnData:JSON.stringify(h)})),this.state="destoyed",this._useExistsVideoSlot)this._restoreVideoSlotParams();else{var g=this._getControlNode("videoSlot");g&&Object(Wi.b)(g,{display:"none"})}this._destroyControls(),!this.environmentVars.slot&&d&&Object(Wi.b)(d,{display:"none"}),this._destroyIframe(),setTimeout(function(){t.trigger("AdStarted")},1)}}}function ci(){if(this.globalTimeoutProvider&&this.globalTimeoutProvider.stop(),!this._inState(["stopping","stopped","destroying","destroyed"])){this.trigger("AdStarted"),this._setState("started");var t=this.adWidth,e=this.adHeight,i=this.viewMode,r=this.vpaid;if(r&&t&&e&&r.resizeAd(t,e,i),this._trackUrls("creativeView"),this.data.some(function(t){return t.parameters.ClickThrough})){var o=this._getControlNode("vpaidSlot");o&&Object(Wi.b)(o,{cursor:"pointer"})}(function t(){var e=this;this._addTimeout(ys,function(){(function(){var t=this.getAdRemainingTime();return this.adRemainingTime!==t&&(this.adRemainingTime=t,this.vpaid.trigger("AdRemainingTimeChange")),!0}).call(e)&&t.call(e)},Os)}).call(this),this._adVideoWasStarted&&pi.call(this),this._adImpressionHappened&&hi.call(this)}}function li(){function t(){if(!this._inState("destroying","destroyed","stopped","stopping")){var t=this.vnAfterplay;t&&t.isActive()||(this._setState("stopped"),!this._useExistsVideoSlot&&this._setControlData("videoSlot",{node:null}),fi.call(this,"AdStopped"),Ai.call(this),!this._adStoppedTriggered&&(this._adStoppedTriggered=!0,this.trigger("AdStopped")),this._destroy())}}var e=this;if(Si.call(this))if(this._adStoppedWasCalled=!0,this._inState("completing")){var i=(this.options||{beforeStopAdTimeout:200}).beforeStopAdTimeout,r=this.subscribeOnce(t.bind(this),"AdVideoComplete");this._adVideoCompletedWasCalled?(this.unsubscribe(r,"AdVideoComplete"),t.call(this)):this._addTimeout(ws,function(){e.unsubscribe(r,"AdVideoComplete"),t.call(e)},i)}else this._inState("afterplay")||t.call(this)}function ui(){var t=this;this._trackUrls("skip"),fi.call(this,"AdSkipped"),this.trigger("AdSkipped");var e=this.vnAfterplay,i=this._useExistsVideoSlot;if(!i){var r=this._getControlNode("vpaidSlot");r&&(r.innerHTML="");var o=this._getControlNode("videoSlot");o&&o.pause&&o.pause()}if(!e||!e.isActive()){Ai.call(this);var n=this.format,a=(this.options||{}).triggerAdStoppedAfterAdSkipped,s=n&&n.toString().slice(7,-1);(a||"InStream"===s)&&!this._adStoppedTriggered&&(this._adStoppedTriggered=!0,setTimeout(function(){return t.trigger("AdStopped")},1)),i||this._setControlData("videoSlot",{node:null}),this._trackUrls("close"),this._destroy()}}function hi(){this._adImpressionHappened=!0,(this._inState("started")||this._inState("playing"))&&(this.trigger("AdImpression"),fi.call(this,"AdImpression"),this._trackUrls("Impression"),this.postImpressionData())}function pi(){this._adVideoWasStarted=!0,this._inState("started")&&(this._setState("playing"),this.trigger("AdVideoStart"),fi.call(this,"AdVideoStart"),this._trackUrls("start"))}function fi(t){window!==window.top&&parent.postMessage(t,"*")}function gi(){var t=this,e=this.format,i=this.reachInventories,r=!(this.visibleInventoryWasSent||!e)&&e.getReachInventoryFactory();if(r){var o=r.id,n=r.waiterCreator,a=bi.call(this),s=i[o]=ni({},r,{},{waiter:null,reached:!1,tracked:!1,trackingUrls:a});s.waiter=n().then(function(){s.reached=!0,function(){var t=this,e=this.reachInventories,i=Object.keys(e);return!this.visibleInventoryWasSent&&i&&i.length?new Promise(function(r){return i.reduce(function(i,o){return i.then(function(i){return!1===i?mi.call(t,e[o]):(!0===i&&(function(){var t=this,e=this.reachInventories,i=Object.keys(e);i&&i.length&&i.forEach(function(i){return vi.call(t,e[i])})}.call(t),r()),Promise.resolve(null))}).catch(function(){return mi.call(t,e[o])})},Promise.resolve(!1))}):Promise.resolve()}.call(t)})}}function bi(){var t=(this._getControlData("vnVisibleInventory")||{}).urls;return t&&t.length&&t||[]}function mi(t){if(!this.visibleInventoryWasSent&&!t.tracked&&t.reached&&t.waiter){var e=bi.call(this)||t.trackingUrls&&t.trackingUrls.length?t.trackingUrls:[];return t.tracked=!0,vi.call(this,t),e.length?(this.visibleInventoryWasSent=!0,this._trackStrongUrls(e).then(function(){return 1<e.length&&e.length,!0}).catch(function(){})):Promise.resolve(!1)}return Promise.resolve(!1)}function vi(t){var e=t.destroy;e&&e()}function yi(t,e,i){void 0===e&&(e="");var r=t.code,o=t.fatal;r&&this._trackError(t);var n=r?" code="+r+" ":" ";(o?this.logger.error:this.logger.warn)(""+e+n+"("+t+", Fatal: "+!!o+")"),o?this._abort():i?i():this._failedData()}function Oi(t){var e=this;return new Promise(function(i){var r=[];if(t){var o=e._moduleCharacteristicsRelations;r=(t&&Object.keys(t).map(function(e){return t[e]})).reduce(function(t,e){var i=o[e];return i&&!t.some(function(t){return t===i})&&t.push(i),t},[])}return(!r&&Promise.resolve()||Promise.all(r.map(function(t){return t()}))).then(function(){var r=t&&Object.keys(t).reduce(function(i,r){return t[r]&&(i[r]=e.substituteMacroValue(t[r])),i},{})||{};i(r)})})}function _i(t,e,i){t&&e&&i&&(t[e]=(t[e]||[]).concat(i))}function Ai(t){var e=this.vpaid,i=t?[].concat(t):[];e&&Ts.forEach(function(t){return~i.indexOf(t)&&e.unsubscribeType(t)})}function wi(){return!this._inState(["stopped","destroyed","destroying"])}function Si(){return!this._inState(["complete","completing","stopped","destroyed","destroying"])}var ji=Math.floor,Pi=Math.abs,Ci=Math.round,Ei=Math.max,Di=Math.min;i.r(e);var Ii=i(8),Ti=i(6),ki=i(2),xi=i(13),Ni="VpaidProxy",Mi=Ni,Ri="AD_DURATION_TIMER_ID",Vi=function(t){function e(e){var i;void 0===e&&(e={});var r=e&&e.ancestor&&e.ancestor+":"+Ni||"::"+Ni,n=e&&(e.logger||e.module&&e.module.logger||e.moduleAPI&&e.moduleAPI.logger)||ki.b;return(i=t.call(this,o({},e,{ancestor:r,logger:n}))||this)[Mi]=r,i.lastPendingCommands={},i._adWasLoaded=!1,i._countdown=null,i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getAdLinear=function(){return Object(Ii.d)(this.vpaid)?this.vpaid.getAdLinear():this.adLinear},i.getAdWidth=function(){return Object(Ii.d)(this.vpaid)?this.vpaid.getAdWidth():this.adWidth},i.getAdHeight=function(){return Object(Ii.d)(this.vpaid)?this.vpaid.getAdHeight():this.adHeight},i.getAdAspectRatio=function(){return Object(Ii.d)(this.vpaid)&&this.vpaid.getAdAspectRatio?this.vpaid.getAdAspectRatio():t.prototype.getAdAspectRatio.call(this)},i.getAdExpanded=function(){return Object(Ii.d)(this.vpaid)?this.vpaid.getAdExpanded():this.adExpanded},i.getAdSkippableState=function(){return Object(Ii.d)(this.vpaid)?this.vpaid.getAdSkippableState():this.adSkippableState},i.getAdRemainingTime=function(){var t=this._countdown,e=this.vpaid;return t?t.getAdRemainingTime():Object(Ii.d)(e)&&e.getAdRemainingTime()||this.adRemainingTime},i.getAdDuration=function(){var t=this,e=this.vpaid,i=this._countdown,r=this._checkingBanner;if(i)return i.getAdDuration();if(!r&&Object(Ii.d)(e)){this._checkingBanner=!0;var o=e.getAdDuration();if(0>o)return this._addTimeout(Ri,function(){(function(t){var e=this,i=".getAdDuration() vpaid.getAdDuration() return "+t+". Switched to manual countdown";t=this.adDuration,i=isNaN(t)||0>=t?i+". Can not get duration from VAST, so set duration="+(t=1/0)+" sec,":i+" with duration="+t+" sec.",this._countdown=new xi.a({duration:t,VPAID_API:{trigger:this.trigger.bind(this)},logger:this.logger});var r=(this.options||{}).moduleAPI||{},o=r.inState,n=r.addVPAIDEventListener,a=o&&o(["playing"]),s=o&&o(["started","starting"]);return a||s?(this._countdown.start(),!a&&this.trigger("AdVideoStart")):n("AdStarted",function(){return e.trigger("AdVideoStart")},this),this.adDuration=t,t}).call(t,o)},500),this._addVPAIDEventListener(e,"AdDurationChange",function(){t._removeTimeout(Ri);var e=t.getAdDuration();0<=e&&(t.adDuration=e,t.trigger("AdDurationChange"))}),o;this.adDuration=o}return this.adDuration},i.getAdElapsedTime=function(){var e=this.vpaid;return Object(Ii.d)(e)&&e.getAdElapsedTime?e.getAdElapsedTime():t.prototype.getAdElapsedTime.call(this)},i.getAdVolume=function(){return Object(Ii.d)(this.vpaid)?this.vpaid.getAdVolume():this.adVolume},i.getAdCompanions=function(){return Object(Ii.d)(this.vpaid)?this.vpaid.getAdCompanions():this.adCompanions},i.getAdIcons=function(){return Object(Ii.d)(this.vpaid)?this.vpaid.getAdIcons():this.adIcons},i.handshakeVersion=function(t){return Object(Ii.d)(this.vpaid)?this.vpaid.handshakeVersion(t):t},i.initAd=function(){this.trigger("AdError",Ti.a.GENERAL_VPAID_ERROR,"Abstract method call")},i.resizeAd=function(t,e,i){void 0===i&&(i=this.viewMode),this.adWidth=t,this.adHeight=e,this.viewMode=i,this._adWasLoaded&&Object(Ii.d)(this.vpaid)?(delete this.lastPendingCommands.resizeAd,this.vpaid.resizeAd(t,e,i)):this.lastPendingCommands.resizeAd=this.resizeAd.bind(this,t,e,i)},i.startAd=function(){try{var t=this.vpaid,e=this._countdown;if(Object(Ii.d)(t))return e&&e.start(),t.startAd()}catch(t){this.trigger("AdError",Ti.a.GENERAL_VPAID_ERROR,""+t)}return!1},i.stopAd=function(){var t=this._countdown,e=this.vpaid;Object(Ii.d)(e)&&(t&&t.stop(),e.stopAd())},i.pauseAd=function(){var t=this._countdown,e=this.vpaid;Object(Ii.d)(e)&&(t&&t.stop(),e.pauseAd())},i.resumeAd=function(){var t=this._countdown,e=this.vpaid;Object(Ii.d)(e)&&(t&&t.start(),e.resumeAd())},i.expandAd=function(){return Object(Ii.d)(this.vpaid)&&this.vpaid.expandAd()},i.collapseAd=function(){return Object(Ii.d)(this.vpaid)&&this.vpaid.collapseAd()},i.skipAd=function(){var t=this._countdown,e=this.vpaid;Object(Ii.d)(e)&&(t&&t.stop(),e.skipAd())},i.setAdVolume=function(t,e){if(this._adWasLoaded&&Object(Ii.d)(this.vpaid)){delete this.lastPendingCommands.setAdVolume;var i=this[Mi]+".setAdVolume("+t+") executes IMMEDIATELY and clears pending command";return(0===t||1===t?this.logger.log:this.logger.trace)(i),Object(Ii.d)(this.vpaid)&&(this.adVolume=t,1)&&this.vpaid.setAdVolume(t,e)}this.lastPendingCommands.setAdVolume=this.setAdVolume.bind(this,t,e)},i._destroy=function(){t.prototype._destroy.call(this),this.lastPendingCommands={};var e=this._countdown,i=this.vpaid;if(e&&(e._destroy(),this._countdown=null),i&&"function"==typeof i._destroy)try{i._destroy()}catch(t){this.logger.warn(this[Mi]+"._destroy() vpaid._destroy() error: "+(t&&(t.message||t)))}this.vpaid=null},i.getModuleOptions=function(){return Promise.resolve({format:{expandOnAdLoaded:!1}})},e}(Ii.a),Li=i(1),Fi=i(5),Wi=i(0),zi=i(9),Hi="videoSlot",Bi=function(t){function e(e,i){var r,o,n;n=t.call(this,Hi,e)||this;var a=s({shouldSetControlData:!0,parentSlot:null},i),d=a.shouldSetControlData,c=a.parentSlot,l=s({position:"relative",verticalAlign:"middle",marginLeft:"-1px",width:"100%",height:"100%",zIndex:1},e._getControlUnionData(Hi,"css")),u=e._getControlNode("containerIframe"),h=(null===u||void 0===u||null===(r=u.contentWindow)||void 0===r||null===(o=r.document)||void 0===o?void 0:o.body)||u,p=c||h,f=n._slot=p&&n._addDOMNode(Object(Wi.a)(p,"video",l));return f&&(e.vpaidJsVideoSlotShouldBeMuted()&&(f.muted=!0,f.volume=0),Fi.e&&f.setAttribute("playsinline","true")),d&&e._setControlData(Hi,{node:f}),n}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getSlotNode=function(){return this._slot},i.getControlNode=function(){var t=this.module;return t&&t._getControlNode(Hi)},e}(zi.a),Ui="VpaidJs",qi=Ui,Xi=function(t){function e(e){var i;void 0===e&&(e={});var r=e&&e.ancestor&&e.ancestor+":"+Ui||"::"+Ui;e&&(e.logger||e.module&&e.module.logger||e.moduleAPI&&e.moduleAPI.logger)||ki.b;(i=t.call(this,l({},e,{ancestor:r}))||this)[qi]=r;var o=e,n=o.jsmedia,a=o.jsmedia,s=a.width,d=a.height,c=a.duration;i.adDuration=c||0,i.adWidth=s,i.adHeight=d,i.wasClicked=!1,i.media=n;var u=new Li.a;i.vpaidLoadPromise=u.promise,i.vpaidLoadResolve=u.resolve;var h=new Li.a;return i._videoStartedPromise=h.promise,i._videoStartedResolve=h.resolve,i.observer=null,i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.toString=function(){return Ui},i.initAd=function(t,e,i,r,o,n){var a=this;void 0===o&&(o={}),void 0===n&&(n={});var s=this.options||{},d=s.module,c=s.ancestor,u=s.moduleAPI,f=(u||{}).getMainModuleId,g=this.vpaid;if(g){var b=n.videoSlot;return b||(b=h.call(this,d,b)),p.call(this,g,b),g.initAd(t,e,i,r,o,l({},n,{videoSlot:b})),this.trigger("AdLoaded"),Promise.resolve()}return new Promise(function(s,g){var b=o.AdParameters,m=n.iframe,v=a.options.jsmedia,y=m&&m.contentDocument&&m.contentDocument.body||document.body,O=document.createElement("script");O.src=v.src,a._addDOMEventListener(O,"load",function(){var v=(m&&m.contentWindow||window).getVPAIDAd;if("function"!=typeof v){var y=Error("External script did not provide valid getVPAIDAd() method ("+v+")");return y.code=Ti.a.VPAID_JS_ERROR,void g(y)}var O=f?"("+f()+"):"+Ui:c,_=u&&l({},u)||{};delete _.logger;var A={duration:a.adDuration,ancestor:O,moduleAPI:_};try{var w=b.replace(/\n+/g," "),S=JSON.parse(w);S.vnVpaidProvider&&(A.vnVpaidProvider=S.vnVpaidProvider)}catch(t){}var j=(d||{}).logLevel;j&&(A.logLevel=j);var P=a.vpaid=v(A);if(!Object(Ii.d)(P)){var C=Error("External script returned invalid VPAID instance ("+P+")");return C.code=Ti.a.VPAID_JS_ERROR,void g(C)}a.vpaidLoadResolve(P);var E=a.videoSlot=h.call(a,d,n.videoSlot);d._getControlNode("videoSlot")||d._setControlData("videoSlot",{node:E}),E&&E.parentElement&&d._setControlData("videoSlotParent",{node:E.parentElement}),p.call(a,P,E);try{var D=d.maxSkipTime;o&&o.AdParameters&&o.AdParameters.replace&&(o.AdParameters=o.AdParameters.replace("[MAXSKIPTIME]",D||"")),P.initAd(t,e,i,r,o,l({},n,{videoSlot:E})),~P.toString().indexOf("Module")&&P.setOptions({isInsideTextContent:!0}),s(a)}catch(t){var I=Error("Internal VpaidJs error ("+t+") stack:"+t.stack);I.code=Ti.a.VPAID_JS_ERRORvpaidCreator,g(I)}}),a._addDOMEventListener(O,"error",function(){var t="Error loading external script ("+O.src+")",e=Error(t);e.code=Ti.a.VPAID_JS_ERROR,g(e)}),y&&y.appendChild(O)})},i._destroy=function(){t.prototype._destroy.call(this)},i.activateMuteChangingEnable=function(){this.vpaid&&(this.wasClicked=!0)},i.getModuleOptions=function(){var e=t.prototype.getModuleOptions.call(this);return this.vpaidLoadPromise.then(function(t){var i=t.getModuleOptions?t.getModuleOptions():Promise.resolve({});return Promise.all([e,i]).then(function(t){return l({},t&&t.length?t[0]:{},{},t&&1<t.length?t[1]:{})})})},i.getLinkedVpaid=function(){return this.vpaidLoadPromise},e.create=function(t,i){return new Promise(function(r,o){var n=t.MediaFiles,a=t.adParameters,s=t.rawDuration,d=t.duration,c="application/javascript",u="application/x-javascript",h=n[c]&&n[c][0]||n[u]&&n[u][0];h&&h.src&&!i.isMediaUrlBlocked(h.src)&&((i&&i.getAPI&&i.getAPI().logger||ki.b).log("::"+Ui+".create("+h.src+")"),i.setSelectedCreative(h.src,s,a),r(new e({module:i,jsmedia:l({},h,{duration:d}),moduleAPI:i.getAPI(),ancestor:"("+(i&&i.mainModuleId)+")"})));o()})},e}(Vi),Gi=i(12),Yi=i(7),Ji=function(){function t(t){this.bytes=new Uint8Array(t),this.length=this.bytes.length,this.writePos=this.bytes.length,this.index=0}var e=t.prototype;return e.nextBits=function(t){var e=this.index>>3,i=8-this.index%8;if(i>=t)return this.bytes[e]>>i-t&255>>8-t;var r=(this.index+t)%8,o=this.index+t-1>>3,n=this.bytes[e]&255>>8-i;for(e+=1;e<o;e+=1)n<<=8,n|=this.bytes[e];return 0<r?(n<<=r,n|=this.bytes[e]>>8-r):(n<<=8,n|=this.bytes[e]),n},e.getBits=function(t){var e=this.nextBits(t);return this.index+=t,e},e.findNextMPEGStartCode=function(){for(var e=this.index+7>>3;e<this.writePos;e+=1)if(0===this.bytes[e]&&0===this.bytes[e+1]&&1===this.bytes[e+2])return this.index=e+4<<3,this.bytes[e+3];return this.index=this.writePos<<3,t.NOT_FOUND},e.advance=function(t){return this.index+=t},e.nextBytesAreStartCode=function(){var t=this.index+7>>3;return t>=this.writePos||0===this.bytes[t]&&0===this.bytes[t+1]&&1===this.bytes[t+2]},t}(),Qi=179,Zi=1,Ki=175,$i=0,tr=181,er=178,ir=2,rr=3,or=new Uint8Array([8,16,19,22,26,27,29,34,16,16,22,24,27,29,34,37,19,22,26,27,29,34,34,38,22,22,26,27,29,34,37,40,22,26,27,29,32,35,40,48,26,27,29,32,35,40,48,58,26,27,29,34,38,46,56,69,27,29,35,38,46,56,69,83]),nr={DEFAULT_NON_INTRA_QUANT:new Uint8Array([16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16]),DEFAULT_INTRA_QUANT:or},ar=new Int8Array([3,6,0,-1,9,0,0,0,1,0,0,17]),sr=new Int8Array([3,6,0,9,12,0,0,0,10,15,18,0,0,0,2,21,24,0,0,0,8,27,30,0,33,36,0,-1,39,0,0,0,18,0,0,26,0,0,1,0,0,17]),dr=new Int8Array([3,6,0,9,15,0,12,18,0,24,21,0,0,0,12,27,30,0,0,0,14,39,42,0,36,33,0,0,0,4,0,0,6,54,48,0,45,51,0,0,0,8,0,0,10,-1,57,0,0,0,1,60,63,0,0,0,30,0,0,17,0,0,22,0,0,26]),cr={I:ar,P:sr,B:dr,TYPE_TABLE:[null,ar,sr,dr],ADDRESS_INCREMENT:new Int16Array([3,6,0,9,12,0,0,0,1,15,18,0,21,24,0,27,30,0,33,36,0,0,0,3,0,0,2,39,42,0,45,48,0,0,0,5,0,0,4,51,54,0,57,60,0,0,0,7,0,0,6,63,66,0,69,72,0,75,78,0,81,84,0,-1,87,0,-1,90,0,93,96,0,99,102,0,105,108,0,111,114,0,0,0,9,0,0,8,117,120,0,123,126,0,129,132,0,135,138,0,0,0,15,0,0,14,0,0,13,0,0,12,0,0,11,0,0,10,141,-1,0,-1,144,0,147,150,0,153,156,0,159,162,0,165,168,0,171,174,0,177,180,0,183,-1,0,-1,186,0,189,192,0,195,198,0,201,204,0,207,210,0,213,216,0,219,222,0,0,0,21,0,0,20,0,0,19,0,0,18,0,0,17,0,0,16,0,0,35,0,0,34,0,0,33,0,0,32,0,0,31,0,0,30,0,0,29,0,0,28,0,0,27,0,0,26,0,0,25,0,0,24,0,0,23,0,0,22])},lr={PREMULTIPLIER_MATRIX:new Uint8Array([32,44,42,38,32,25,17,9,44,62,58,52,44,35,24,12,42,58,55,49,42,33,23,12,38,52,49,44,38,30,20,10,32,44,42,38,32,25,17,9,25,35,33,30,25,20,14,7,17,24,23,20,17,14,9,5,9,12,12,10,9,7,5,2]),ZIG_ZAG:new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),DCT_COEFF:new Int32Array([3,6,0,12,9,0,0,0,1,21,24,0,18,15,0,39,27,0,33,30,0,42,36,0,0,0,257,60,66,0,54,63,0,48,57,0,0,0,513,51,45,0,0,0,2,0,0,3,81,75,0,87,93,0,72,78,0,96,90,0,0,0,1025,69,84,0,0,0,769,0,0,258,0,0,1793,0,0,65535,0,0,1537,111,108,0,0,0,1281,105,102,0,117,114,0,99,126,0,120,123,0,156,150,0,162,159,0,144,147,0,129,135,0,138,132,0,0,0,2049,0,0,4,0,0,514,0,0,2305,153,141,0,165,171,0,180,168,0,177,174,0,183,186,0,0,0,2561,0,0,3329,0,0,6,0,0,259,0,0,5,0,0,770,0,0,2817,0,0,3073,228,225,0,201,210,0,219,213,0,234,222,0,216,231,0,207,192,0,204,189,0,198,195,0,243,261,0,273,240,0,246,237,0,249,258,0,279,276,0,252,255,0,270,282,0,264,267,0,0,0,515,0,0,260,0,0,7,0,0,1026,0,0,1282,0,0,4097,0,0,3841,0,0,3585,315,321,0,333,342,0,312,291,0,375,357,0,288,294,0,-1,369,0,285,303,0,318,363,0,297,306,0,339,309,0,336,348,0,330,300,0,372,345,0,351,366,0,327,354,0,360,324,0,381,408,0,417,420,0,390,378,0,435,438,0,384,387,0,0,0,2050,396,402,0,465,462,0,0,0,8,411,399,0,429,432,0,453,414,0,426,423,0,0,0,10,0,0,9,0,0,11,0,0,5377,0,0,1538,0,0,771,0,0,5121,0,0,1794,0,0,4353,0,0,4609,0,0,4865,444,456,0,0,0,1027,459,450,0,0,0,261,393,405,0,0,0,516,447,441,0,516,519,0,486,474,0,510,483,0,504,498,0,471,537,0,507,501,0,522,513,0,534,531,0,468,477,0,492,495,0,549,546,0,525,528,0,0,0,263,0,0,2562,0,0,2306,0,0,5633,0,0,5889,0,0,6401,0,0,6145,0,0,1283,0,0,772,0,0,13,0,0,12,0,0,14,0,0,15,0,0,517,0,0,6657,0,0,262,540,543,0,480,489,0,588,597,0,0,0,27,609,555,0,606,603,0,0,0,19,0,0,22,591,621,0,0,0,18,573,576,0,564,570,0,0,0,20,552,582,0,0,0,21,558,579,0,0,0,23,612,594,0,0,0,25,0,0,24,600,615,0,0,0,31,0,0,30,0,0,28,0,0,29,0,0,26,0,0,17,0,0,16,567,618,0,561,585,0,654,633,0,0,0,37,645,648,0,0,0,36,630,636,0,0,0,34,639,627,0,663,666,0,657,624,0,651,642,0,669,660,0,0,0,35,0,0,267,0,0,40,0,0,268,0,0,266,0,0,32,0,0,264,0,0,265,0,0,38,0,0,269,0,0,270,0,0,33,0,0,39,0,0,7937,0,0,6913,0,0,7681,0,0,4098,0,0,7425,0,0,7169,0,0,271,0,0,274,0,0,273,0,0,272,0,0,1539,0,0,2818,0,0,3586,0,0,3330,0,0,3074,0,0,3842]),DCT_DC_SIZE_CHROMINANCE:new Int8Array([6,3,0,12,9,0,18,15,0,24,21,0,0,0,2,0,0,1,0,0,0,30,27,0,0,0,3,36,33,0,0,0,4,42,39,0,0,0,5,48,45,0,0,0,6,51,-1,0,0,0,7,0,0,8]),DCT_DC_SIZE_LUMINANCE:new Int8Array([6,3,0,18,15,0,9,12,0,0,0,1,0,0,2,27,24,0,21,30,0,0,0,0,36,33,0,0,0,4,0,0,3,39,42,0,0,0,5,0,0,6,48,45,0,51,-1,0,0,0,7,0,0,8]),MOTION:new Int16Array([3,6,0,12,9,0,0,0,0,18,15,0,24,21,0,0,0,-1,0,0,1,27,30,0,36,33,0,0,0,2,0,0,-2,42,45,0,48,39,0,60,54,0,0,0,3,0,0,-3,51,57,0,-1,69,0,81,75,0,78,63,0,72,66,0,96,84,0,87,93,0,-1,99,0,108,105,0,0,0,-4,90,102,0,0,0,4,0,0,-7,0,0,5,111,123,0,0,0,-5,0,0,7,114,120,0,126,117,0,0,0,-6,0,0,6,153,162,0,150,147,0,135,138,0,156,141,0,129,159,0,132,144,0,0,0,10,0,0,9,0,0,8,0,0,-8,171,198,0,0,0,-9,180,192,0,168,183,0,165,186,0,174,189,0,0,0,-10,177,195,0,0,0,12,0,0,16,0,0,13,0,0,14,0,0,11,0,0,15,0,0,-16,0,0,-12,0,0,-14,0,0,-15,0,0,-11,0,0,-13]),CODE_BLOCK_PATTERN:new Int16Array([6,3,0,9,18,0,12,15,0,24,33,0,36,39,0,27,21,0,30,42,0,60,57,0,54,48,0,69,51,0,81,75,0,63,84,0,45,66,0,72,78,0,0,0,60,105,120,0,132,144,0,114,108,0,126,141,0,87,93,0,117,96,0,0,0,32,135,138,0,99,123,0,129,102,0,0,0,4,90,111,0,0,0,8,0,0,16,0,0,44,150,168,0,0,0,28,0,0,52,0,0,62,183,177,0,156,180,0,0,0,1,165,162,0,0,0,61,0,0,56,171,174,0,0,0,2,0,0,40,153,186,0,0,0,48,192,189,0,147,159,0,0,0,20,0,0,12,240,249,0,0,0,63,231,225,0,195,219,0,252,198,0,0,0,24,0,0,36,0,0,3,207,261,0,243,237,0,204,213,0,210,234,0,201,228,0,216,222,0,258,255,0,264,246,0,-1,282,0,285,291,0,0,0,33,0,0,9,318,330,0,306,348,0,0,0,5,0,0,10,279,267,0,0,0,6,0,0,18,0,0,17,0,0,34,339,357,0,309,312,0,270,276,0,327,321,0,351,354,0,303,297,0,294,288,0,300,273,0,342,345,0,315,324,0,336,333,0,363,375,0,0,0,41,0,0,14,0,0,21,372,366,0,360,369,0,0,0,11,0,0,19,0,0,7,0,0,35,0,0,13,0,0,50,0,0,49,0,0,58,0,0,37,0,0,25,0,0,45,0,0,57,0,0,26,0,0,29,0,0,38,0,0,53,0,0,23,0,0,43,0,0,46,0,0,42,0,0,22,0,0,54,0,0,51,0,0,15,0,0,30,0,0,39,0,0,47,0,0,55,0,0,27,0,0,59,0,0,31])},ur=function(){function t(t,e,i,r){this.hasDecoded=!1,this.hasDecodeColor=!1,this.buffer=t,this.width=e,this.height=i,this.blockData=new Int32Array(64),this.zeroBlockData=new Int32Array(64),this.intraQuantMatrix=nr.DEFAULT_INTRA_QUANT,this.nonIntraQuantMatrix=nr.DEFAULT_NON_INTRA_QUANT,this.mbWidth=this.width+15>>4,this.mbHeight=this.height+15>>4,this.mbSize=this.mbWidth*this.mbHeight,this.codedWidth=this.mbWidth<<4,this.codedHeight=this.mbHeight<<4,this.codedSize=this.codedWidth*this.codedHeight,this.halfWidth=this.mbWidth<<3,this.halfHeight=this.mbHeight<<3,this.quarterSize=this.codedSize>>2;var o=window.Uint8ClampedArray||window.Uint8Array;window.Uint8ClampedArray||(this.copyBlockToDestination=this.copyBlockToDestinationClamp,this.addBlockToDestination=this.addBlockToDestinationClamp),r?(this.forwardY=r.currentY,this.forwardY32=r.currentY32,this.forwardCr=r.currentCr,this.forwardCr32=r.currentCr32,this.forwardCb=r.currentCb,this.forwardCb32=r.currentCb32,this.currentY=r.forwardY,this.currentY32=r.forwardY32,this.currentCr=r.forwardCr,this.currentCr32=r.forwardCr32,this.currentCb=r.forwardCb,this.currentCb32=r.forwardCb32):(this.currentY=new o(this.codedSize),this.currentY32=new Uint32Array(this.currentY.buffer),this.currentCr=new o(this.codedSize>>2),this.currentCr32=new Uint32Array(this.currentCr.buffer),this.currentCb=new o(this.codedSize>>2),this.currentCb32=new Uint32Array(this.currentCb.buffer),this.forwardY=new o(this.codedSize),this.forwardY32=new Uint32Array(this.forwardY.buffer),this.forwardCr=new o(this.codedSize>>2),this.forwardCr32=new Uint32Array(this.forwardCr.buffer),this.forwardCb=new o(this.codedSize>>2),this.forwardCb32=new Uint32Array(this.forwardCb.buffer)),this.quantizerScale=0,this.sliceBegin=!1,this.macroblockAddress=0,this.mbRow=0,this.mbCol=0,this.macroblockType=0,this.macroblockIntra=!1,this.macroblockMotFw=!1,this.motionFwH=0,this.motionFwV=0,this.motionFwHPrev=0,this.motionFwVPrev=0}var e=t.prototype;return e.decodePicture=function(){for(var t=0;;){if(-1===(t=this.buffer.findNextMPEGStartCode()))return!1;if(t===$i)break}if(this.buffer.advance(10),this.pictureCodingType=this.buffer.getBits(3),this.buffer.advance(16),0>=this.pictureCodingType||this.pictureCodingType>=rr)return!1;if(this.pictureCodingType===ir){if(this.fullPelForward=this.buffer.getBits(1),this.forwardFCode=this.buffer.getBits(3),0===this.forwardFCode)return!1;this.forwardRSize=this.forwardFCode-1,this.forwardF=1<<this.forwardRSize}do{t=this.buffer.findNextMPEGStartCode()}while(t===tr||t===er);for(;t>=Zi&&t<=Ki;)this.decodeSlice(255&t),t=this.buffer.findNextMPEGStartCode();return this.hasDecoded=!0,!0},e.decodeSlice=function(t){for(this.sliceBegin=!0,this.macroblockAddress=(t-1)*this.mbWidth-1,this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0,this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.quantizerScale=this.buffer.getBits(5);this.buffer.getBits(1);)this.buffer.advance(8);do{this.decodeMacroblock()}while(!this.buffer.nextBytesAreStartCode())},e.decodeMacroblock=function(){for(var t=0,e=this.readCode(cr.ADDRESS_INCREMENT);34===e;)e=this.readCode(cr.ADDRESS_INCREMENT);for(;35===e;)t+=33,e=this.readCode(cr.ADDRESS_INCREMENT);if(t+=e,this.sliceBegin)this.sliceBegin=!1,this.macroblockAddress+=t;else{if(this.macroblockAddress+t>=this.mbSize)return!1;for(1<t&&(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.pictureCodingType===ir&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0));1<t;)this.macroblockAddress+=1,this.mbRow=0|this.macroblockAddress/this.mbWidth,this.mbCol=this.macroblockAddress%this.mbWidth,this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb),t-=1;this.macroblockAddress+=1}this.mbRow=0|this.macroblockAddress/this.mbWidth,this.mbCol=this.macroblockAddress%this.mbWidth,this.macroblockType=this.readCode(cr.TYPE_TABLE[this.pictureCodingType]),this.macroblockIntra=1&this.macroblockType,this.macroblockMotFw=8&this.macroblockType,0!=(16&this.macroblockType)&&(this.quantizerScale=this.buffer.getBits(5)),this.macroblockIntra?(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0):(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.decodeMotionVectors(),this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb));for(var i=0==(2&this.macroblockType)?this.macroblockIntra?63:0:this.readCode(lr.CODE_BLOCK_PATTERN),r=0,o=32;6>r;r++)0!=(i&o)&&this.decodeBlock(r),o>>=1},e.readCode=function(t){var e=0;do{e=t[e+this.buffer.getBits(1)]}while(0<=e&&0!==t[e]);return t[e+2]},e.copyMacroblock=function(t,e,i,r,o){var n,a,s,d,c,l,u,h,p,f,g,b,m,v,y,O,_,A,w,S=this.currentY32,j=this.currentCb32,P=this.currentCr32;if(a=(n=this.codedWidth)-16,s=t>>1,d=e>>1,c=1==(1&t),l=1==(1&e),u=((this.mbRow<<4)+d)*n+(this.mbCol<<4)+s,p=(h=this.mbRow*n+this.mbCol<<2)+(n<<2),c)if(l)for(;h<p;){for(g=i[u]+i[u+n],u++,f=0;4>f;f++)m=255&g+(b=i[u]+i[u+n])+2>>2,m|=65280&(g=i[++u]+i[u+n])+b+2<<6,m|=16711680&g+(b=i[++u]+i[u+n])+2<<14,g=i[++u]+i[u+n],u++,m|=4278190080&g+b+2<<22,S[h++]=m;h+=a>>2,u+=a-1}else for(;h<p;){for(g=i[u++],f=0;4>f;f++)m=255&g+(b=i[u++])+1>>1,m|=65280&(g=i[u++])+b+1<<7,m|=16711680&g+(b=i[u++])+1<<15,m|=4278190080&(g=i[u++])+b+1<<23,S[h++]=m;h+=a>>2,u+=a-1}else if(l)for(;h<p;){for(f=0;4>f;f++)m=255&i[u]+i[u+n]+1>>1,m|=65280&i[++u]+i[u+n]+1<<7,m|=16711680&i[++u]+i[u+n]+1<<15,m|=4278190080&i[++u]+i[u+n]+1<<23,u++,S[h++]=m;h+=a>>2,u+=a}else for(;h<p;){for(f=0;4>f;f++)m=i[u],m|=i[++u]<<8,m|=i[++u]<<16,m|=i[++u]<<24,u++,S[h++]=m;h+=a>>2,u+=a}if(a=(n=this.halfWidth)-8,s=t/2>>1,d=e/2>>1,c=1==(1&t/2),l=1==(1&e/2),u=((this.mbRow<<3)+d)*n+(this.mbCol<<3)+s,p=(h=this.mbRow*n+this.mbCol<<1)+(n<<1),c)if(l)for(;h<p;){for(v=r[u]+r[u+n],_=o[u]+o[u+n],u++,f=0;2>f;f++)O=255&v+(y=r[u]+r[u+n])+2>>2,w=255&_+(A=o[u]+o[u+n])+2>>2,O|=65280&(v=r[++u]+r[u+n])+y+2<<6,w|=65280&(_=o[u]+o[u+n])+A+2<<6,O|=16711680&v+(y=r[++u]+r[u+n])+2<<14,w|=16711680&_+(A=o[u]+o[u+n])+2<<14,v=r[++u]+r[u+n],_=o[u]+o[u+n],u++,O|=4278190080&v+y+2<<22,w|=4278190080&_+A+2<<22,P[h]=O,j[h]=w,h++;h+=a>>2,u+=a-1}else for(;h<p;){for(v=r[u],_=o[u],u++,f=0;2>f;f++)O=255&v+(y=r[u])+1>>1,w=255&_+(A=o[u++])+1>>1,O|=65280&(v=r[u])+y+1<<7,w|=65280&(_=o[u++])+A+1<<7,O|=16711680&v+(y=r[u])+1<<15,w|=16711680&_+(A=o[u++])+1<<15,O|=4278190080&(v=r[u])+y+1<<23,w|=4278190080&(_=o[u++])+A+1<<23,P[h]=O,j[h]=w,h++;h+=a>>2,u+=a-1}else if(l)for(;h<p;){for(f=0;2>f;f++)O=255&r[u]+r[u+n]+1>>1,w=255&o[u]+o[u+n]+1>>1,O|=65280&r[++u]+r[u+n]+1<<7,w|=65280&o[u]+o[u+n]+1<<7,O|=16711680&r[++u]+r[u+n]+1<<15,w|=16711680&o[u]+o[u+n]+1<<15,O|=4278190080&r[++u]+r[u+n]+1<<23,w|=4278190080&o[u]+o[u+n]+1<<23,u++,P[h]=O,j[h]=w,h++;h+=a>>2,u+=a}else for(;h<p;){for(f=0;2>f;f++)O=r[u],w=o[u],O|=r[++u]<<8,w|=o[u]<<8,O|=r[++u]<<16,w|=o[u]<<16,O|=r[++u]<<24,w|=o[u]<<24,u++,P[h]=O,j[h]=w,h++;h+=a>>2,u+=a}},e.decodeMotionVectors=function(){var t,e,i=0;this.macroblockMotFw?(0!==(t=this.readCode(lr.MOTION))&&1!==this.forwardF?(i=this.buffer.getBits(this.forwardRSize),e=(Pi(t)-1<<this.forwardRSize)+i+1,0>t&&(e=-e)):e=t,this.motionFwHPrev+=e,this.motionFwHPrev>(this.forwardF<<4)-1?this.motionFwHPrev-=this.forwardF<<5:this.motionFwHPrev<-this.forwardF<<4&&(this.motionFwHPrev+=this.forwardF<<5),this.motionFwH=this.motionFwHPrev,this.fullPelForward&&(this.motionFwH<<=1),0!==(t=this.readCode(lr.MOTION))&&1!==this.forwardF?(i=this.buffer.getBits(this.forwardRSize),e=(Pi(t)-1<<this.forwardRSize)+i+1,0>t&&(e=-e)):e=t,this.motionFwVPrev+=e,this.motionFwVPrev>(this.forwardF<<4)-1?this.motionFwVPrev-=this.forwardF<<5:this.motionFwVPrev<-this.forwardF<<4&&(this.motionFwVPrev+=this.forwardF<<5),this.motionFwV=this.motionFwVPrev,this.fullPelForward&&(this.motionFwV<<=1)):this.pictureCodingType===ir&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0)},e.decodeBlock=function(t){var e,i,r,o,n=0;if(this.macroblockIntra){var a,s;if(4>t?(a=this.dcPredictorY,s=this.readCode(lr.DCT_DC_SIZE_LUMINANCE)):(a=4===t?this.dcPredictorCr:this.dcPredictorCb,s=this.readCode(lr.DCT_DC_SIZE_CHROMINANCE)),0<s){var d=this.buffer.getBits(s);this.blockData[0]=0==(d&1<<s-1)?a+(-1<<s|d+1):a+d}else this.blockData[0]=a;4>t?this.dcPredictorY=this.blockData[0]:4===t?this.dcPredictorCr=this.blockData[0]:this.dcPredictorCb=this.blockData[0],this.blockData[0]<<=8,e=this.intraQuantMatrix,n=1}else e=this.nonIntraQuantMatrix;for(var c=0;;){var l=0,u=this.readCode(lr.DCT_COEFF);if(1===u&&0<n&&0===this.buffer.getBits(1))break;65535===u?(l=this.buffer.getBits(6),0===(c=this.buffer.getBits(8))?c=this.buffer.getBits(8):128===c?c=this.buffer.getBits(8)-256:128<c&&(c-=256)):(l=u>>8,c=255&u,this.buffer.getBits(1)&&(c=-c));var h=lr.ZIG_ZAG[n+=l];n++,c<<=1,this.macroblockIntra||(c+=0>c?-1:1),0==(1&(c=c*this.quantizerScale*e[h]>>4))&&(c-=0<c?1:-1),2047<c?c=2047:-2048>c&&(c=-2048),this.blockData[h]=c*lr.PREMULTIPLIER_MATRIX[h]}4>t?(i=this.currentY,o=this.codedWidth-8,r=this.mbRow*this.codedWidth+this.mbCol<<4,0!=(1&t)&&(r+=8),0!=(2&t)&&(r+=this.codedWidth<<3)):(i=4===t?this.currentCb:this.currentCr,o=(this.codedWidth>>1)-8,r=(this.mbRow*this.codedWidth<<2)+(this.mbCol<<3)),this.macroblockIntra?1===n?(this.copyValueToDestination(this.blockData[0]+128>>8,i,r,o),this.blockData[0]=0):(this.IDCT(),this.copyBlockToDestination(this.blockData,i,r,o),this.blockData.set(this.zeroBlockData)):1===n?(this.addValueToDestination(this.blockData[0]+128>>8,i,r,o),this.blockData[0]=0):(this.IDCT(),this.addBlockToDestination(this.blockData,i,r,o),this.blockData.set(this.zeroBlockData)),n=0},e.IDCT=function(){var t,e,i,r,o,n,a,s,d,c,l,u,h,p,f,g,b,m,v,y=this.blockData;for(v=0;8>v;++v)t=y[32+v],e=y[16+v]+y[48+v],i=y[40+v]-y[24+v],n=y[8+v]+y[56+v],a=y[24+v]+y[40+v],r=y[8+v]-y[56+v],o=n+a,s=y[0+v],d=(h=(473*r-196*i+128>>8)-o)-(362*(n-a)+128>>8),p=(c=s-t)+(l=(362*(y[16+v]-y[48+v])+128>>8)-e),f=(u=s+t)+e,g=c-l,b=u-e,m=-d-(473*i+196*r+128>>8),y[0+v]=o+f,y[8+v]=h+p,y[16+v]=g-d,y[24+v]=b-m,y[32+v]=b+m,y[40+v]=d+g,y[48+v]=p-h,y[56+v]=f-o;for(v=0;64>v;v+=8)t=y[4+v],e=y[2+v]+y[6+v],i=y[5+v]-y[3+v],n=y[1+v]+y[7+v],a=y[3+v]+y[5+v],r=y[1+v]-y[7+v],o=n+a,s=y[0+v],d=(h=(473*r-196*i+128>>8)-o)-(362*(n-a)+128>>8),p=(c=s-t)+(l=(362*(y[2+v]-y[6+v])+128>>8)-e),f=(u=s+t)+e,g=c-l,b=u-e,m=-d-(473*i+196*r+128>>8),y[0+v]=o+f+128>>8,y[1+v]=h+p+128>>8,y[2+v]=g-d+128>>8,y[3+v]=b-m+128>>8,y[4+v]=b+m+128>>8,y[5+v]=d+g+128>>8,y[6+v]=p-h+128>>8,y[7+v]=f-o+128>>8},e.copyBlockToDestination=function(t,e,i,r){for(var o=0;64>o;o+=8,i+=r+8)e[i+0]=t[o+0],e[i+1]=t[o+1],e[i+2]=t[o+2],e[i+3]=t[o+3],e[i+4]=t[o+4],e[i+5]=t[o+5],e[i+6]=t[o+6],e[i+7]=t[o+7]},e.addBlockToDestination=function(t,e,i,r){for(var o=0;64>o;o+=8,i+=r+8)e[i+0]+=t[o+0],e[i+1]+=t[o+1],e[i+2]+=t[o+2],e[i+3]+=t[o+3],e[i+4]+=t[o+4],e[i+5]+=t[o+5],e[i+6]+=t[o+6],e[i+7]+=t[o+7]},e.copyValueToDestination=function(t,e,i,r){for(var o=0;64>o;o+=8,i+=r+8)e[i+0]=t,e[i+1]=t,e[i+2]=t,e[i+3]=t,e[i+4]=t,e[i+5]=t,e[i+6]=t,e[i+7]=t},e.addValueToDestination=function(t,e,i,r){for(var o=0;64>o;o+=8,i+=r+8)e[i+0]+=t,e[i+1]+=t,e[i+2]+=t,e[i+3]+=t,e[i+4]+=t,e[i+5]+=t,e[i+6]+=t,e[i+7]+=t},e.copyBlockToDestinationClamp=function(t,e,i,r){for(var o=0,n=0;8>n;n++){for(var a,s=0;8>s;s++)a=t[o++],e[i++]=255<a?255:0>a?0:a;i+=r}},e.addBlockToDestinationClamp=function(t,e,i,r){for(var o=0,n=0;8>n;n++){for(var a,s=0;8>s;s++)a=t[o++]+e[i],e[i++]=255<a?255:0>a?0:a;i+=r}},e.YCbCrToRGBA=function(){for(var t,e,i,r,o,n=this.currentY,a=this.currentCb,s=this.currentCr,d=this.currentRGBA.data,c=0,l=this.codedWidth,u=this.codedWidth+(this.codedWidth-this.width),h=0,p=this.halfWidth-(this.width>>1),f=0,g=4*this.width,b=4*this.width,m=this.width>>1,v=this.height>>1,y=0;y<v;y++){for(var O=0;O<m;O++){t=a[h],e=s[h],h++,i=e+(103*e>>8)-179,r=(88*t>>8)-44+(183*e>>8)-91,o=t+(198*t>>8)-227;var _=n[c++],A=n[c++];d[f]=_+i,d[f+1]=_-r,d[f+2]=_+o,d[f+3]=255,d[f+4]=A+i,d[f+5]=A-r,d[f+6]=A+o,d[f+7]=255,f+=8;var w=n[l++],S=n[l++];d[g]=w+i,d[g+1]=w-r,d[g+2]=w+o,d[g+3]=255,d[g+4]=S+i,d[g+5]=S-r,d[g+6]=S+o,d[g+7]=255,g+=8}c+=u,l+=u,f+=b,g+=b,h+=p}this.hasDecodeColor=!0},e.fillArray=function(t,e){for(var i=0,r=t.length;i<r;i++)t[i]=e},t}(),hr=function(){};hr.SHADER_FRAGMENT_YCBCRTORGBA="precision mediump float;\nuniform sampler2D YTexture;\nuniform sampler2D CBTexture;\nuniform sampler2D CRTexture;\nvarying vec2 texCoord;\nvoid main() {\nfloat y = texture2D(YTexture, texCoord).r;\nfloat cr = texture2D(CBTexture, texCoord).r - 0.5;\nfloat cb = texture2D(CRTexture, texCoord).r - 0.5;\ngl_FragColor = vec4(\ny + 1.4 * cr,\ny + -0.343 * cb - 0.711 * cr,\ny + 1.765 * cb,\n1.0\n);\n}",hr.SHADER_FRAGMENT_LOADING="precision mediump float;\nuniform float loaded;\nvarying vec2 texCoord;\nvoid main() {\nfloat c = ceil(loaded-(1.0-texCoord.y));\ngl_FragColor = vec4(c,c,c,1);\n}",hr.SHADER_VERTEX_IDENTITY="attribute vec2 vertex;\nvarying vec2 texCoord;\nvoid main() {\ntexCoord = vertex;\ngl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);\n}";var pr,fr,gr,br,mr=function(){function t(t){this.canvas=t.canvas}var e=t.prototype;return e.init=function(t,e){this.initWebGL()?(this.render=this.renderFrameGL,this.gl.useProgram(this.program),this.gl.viewport(0,0,t,e)):(this.canvasCtx=this.canvas.getContext("2d"),this.render=this.renderFrame2D)},e.renderFrame2D=function(t){t.decodePicture(),t.hasDecodeColor||(t.currentRGBA=document.createElement("canvas").getContext("2d").getImageData(0,0,t.width,t.height),t.YCbCrToRGBA()),this.canvasCtx.putImageData(t.currentRGBA,0,0)},e.renderFrameGL=function(t){t.decodePicture();var e=this.gl,i=new Uint8Array(t.currentY.buffer),r=new Uint8Array(t.currentCr.buffer),o=new Uint8Array(t.currentCb.buffer);e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.YTexture),e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,t.codedWidth,t.height,0,e.LUMINANCE,e.UNSIGNED_BYTE,i),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.CBTexture),e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,t.halfWidth,t.height/2,0,e.LUMINANCE,e.UNSIGNED_BYTE,r),e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,this.CRTexture),e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,t.halfWidth,t.height/2,0,e.LUMINANCE,e.UNSIGNED_BYTE,o),e.drawArrays(e.TRIANGLE_STRIP,0,4)},e.initWebGL=function(){var t;try{if(t=this.gl=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl"),this.glbuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.glbuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),t.STATIC_DRAW),this.program=t.createProgram(),t.attachShader(this.program,this.compileShader(t.VERTEX_SHADER,hr.SHADER_VERTEX_IDENTITY)),t.attachShader(this.program,this.compileShader(t.FRAGMENT_SHADER,hr.SHADER_FRAGMENT_YCBCRTORGBA)),t.linkProgram(this.program),!t.getProgramParameter(this.program,t.LINK_STATUS))throw new Error(t.getProgramInfoLog(this.program));t.useProgram(this.program),this.YTexture=this.createTexture(0,"YTexture"),this.CBTexture=this.createTexture(1,"CBTexture"),this.CRTexture=this.createTexture(2,"CRTexture");var e=t.getAttribLocation(this.program,"vertex");t.enableVertexAttribArray(e),t.vertexAttribPointer(e,2,t.FLOAT,!1,0,0),this.loadingProgram=t.createProgram(),t.attachShader(this.loadingProgram,this.compileShader(t.VERTEX_SHADER,hr.SHADER_VERTEX_IDENTITY)),t.attachShader(this.loadingProgram,this.compileShader(t.FRAGMENT_SHADER,hr.SHADER_FRAGMENT_LOADING)),t.linkProgram(this.loadingProgram),t.useProgram(this.loadingProgram),e=t.getAttribLocation(this.loadingProgram,"vertex"),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,2,t.FLOAT,!1,0,0)}catch(e){return!1}return!!t},e.compileShader=function(t,e){var i=this.gl,r=i.createShader(t);if(i.shaderSource(r,e),i.compileShader(r),!i.getShaderParameter(r,i.COMPILE_STATUS))throw new Error(i.getShaderInfoLog(r));return r},e.createTexture=function(t,e){var i=this.gl,r=i.createTexture();return i.bindTexture(i.TEXTURE_2D,r),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.uniform1i(i.getUniformLocation(this.program,e),t),r},t}(),vr=[null,23.976,24,25,29.97,30,50,59.94,60],yr=function(){function t(){this.data=new Uint8Array(0),this.lastIndex=0}var e=t.prototype;return e.push=function(e){this.data=t.merge(this.data,e)},e.getData=function(){for(var t,e=[],i=this.lastIndex;i<this.data.length;i+=1)if(0===this.data[i]&&0===this.data[i+1]&&1===this.data[i+2]){var r=this.data[i+3];if(r===$i)e.push(i);else if(r===Qi&&32<this.data.length-(i+4)){var o=new Ji(this.data.slice(i+4,32)),n=o.getBits(12),a=o.getBits(12),s=o.getBits(4),d=vr[o.getBits(4)];n&&a&&(t={width:n,height:a,aspectRatio:s,fps:d})}}var c=[];if(1<e.length)for(var l=0;l<e.length-1;l+=1)c.push(new Ji(this.data.slice(e[l],e[l+1]))),this.lastIndex=e[l+1];return{frames:c,metaData:t}},e.getTailData=function(){return this.data.slice(this.lastIndex,this.data.length)},t.merge=function(t,e){var i=new Uint8Array(t.length+e.length);return i.set(t),i.set(e,t.length),i},t}(),Or=30,_r="jsmpeg",Ar=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this)||this).canvas=e.canvas,i.finished=!1,i.currentRenderFrame=0,i.hasStop=!0,i.timeoutId=null,i.buffer=new yr,i.renderEngine=new mr(e),i.currentTime=0,i.fps=Or,i.frames=[],i.messagesData=[],i.duration=0,i.lastRenderTime=Date.now(),i.firstPacketTimeout=e.firstPacketTimeout||500,i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.createFrame=function(t){var e=this.frames[this.frames.length-1],i=new ur(t,this.width,this.height,e);this.frames.push(i)},i.setMetaData=function(t){if(t){var e=t.width,i=t.height,r=t.fps;r&&(this.fps=r),e&&i&&this.width!==e&&this.height!==i&&(this.width=e,this.height=i,this.canvas.width=this.width,this.canvas.height=this.height,this.renderEngine.init(this.width,this.height))}},i.decodeMessage=function(){var t=this,e=this.fps/2;if(this.frames.length-this.currentRenderFrame>e)setTimeout(this.decodeMessage.bind(this),0);else{var i=this.messagesData.shift();if(i){this.buffer.push(new Uint8Array(i));var r=this.buffer.getData(),o=r.frames,n=r.metaData;this.setMetaData(n),o.forEach(function(e){return t.createFrame(e)}),Date.now()-this.lastRenderTime>=1e3/this.fps&&this.nextFrame()}}},i.createSocket=function(t){var e=this,i=new WebSocket(t);i.binaryType="arraybuffer";var r=function(t){var i=t.data;e.messagesData.push(i),setTimeout(e.decodeMessage.bind(e),0)};return i.addEventListener("message",function t(o){clearTimeout(i.firstPacketWaitingTimeoutId);var n=new Ji(o.data);e.decodeInitPackage(n),i.removeEventListener("message",t),i.addEventListener("message",r)}),i.firstPacketWaitingTimeoutId=setTimeout(function(){e.trigger("error",_r+".createSocket() Websocket did not get a first packet during "+e.firstPacketTimeout+" ms")},this.firstPacketTimeout),i},i.processSocket=function(t){var e=this;try{this.client=this.createSocket(t),this.client.addEventListener("error",function(){e.trigger("error",_r+".init() Websocket initialization error")}),this.client.addEventListener("close",function(){e.finished=!0})}catch(e){this.trigger("error",_r+".init() Websocket create error")}},i.processFile=function(t){var e=this;Object(Yi.f)(t,{options:{withCredentials:!1,responseType:"arraybuffer"}}).then(function(t){e.buffer.push(new Uint8Array(t.target.response));var i=e.buffer.getData(),r=i.frames,o=i.metaData;e.setMetaData(o),r.forEach(function(t){return e.createFrame(t)}),e.duration=e.frames.length/e.fps,e.trigger("onDecodeInitPackage")}).catch(function(){e.trigger("error",_r+".pricessFile("+t+") Failed to load resource")})},i.init=function(t){/^wss?:\/\//.test(t)?this.processSocket(t):this.processFile(t)},i.decodeInitPackage=function(t){t.getBits(32),this.setMetaData({width:t.getBits(16),height:t.getBits(16),fps:t.getBits(8)||Or}),this.trigger("onDecodeInitPackage")},i.play=function(){this.hasStop&&(this.hasStop=!1,this.startAnimation())},i.pause=function(){this.hasStop=!0,this.timeoutId&&window.clearTimeout(this.timeoutId)},i.stop=function(){this.currentRenderFrame=0,this.currentTime=0,this.pause()},i.timeUpdate=function(){this.trigger("timeupdate",{target:{currentTime:this.currentTime,duration:this.duration}})},i.nextFrame=function(){var t=this.frames[this.currentRenderFrame];!t||this.hasStop||(this.lastRenderTime=Date.now(),this.renderEngine.render(t),this.currentTime=this.currentRenderFrame/this.fps,this.currentRenderFrame+=1,this.timeUpdate())},i.startAnimation=function(){return this.hasStop?void 0:(this.finished||0<this.duration)&&this.currentRenderFrame>=this.frames.length-1&&0===this.messagesData.length?void this.trigger("ended"):(this.timeoutId=setTimeout(this.startAnimation.bind(this),1e3/this.fps),void this.nextFrame())},e}(Gi.a),wr=i(3),Sr="Module::VpaidCanvas",jr=function(t){function e(e){var i;void 0===e&&(e={}),i=t.call(this,function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?f(Object(e),!0).forEach(function(i){g(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):f(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({},e,{ancestor:Sr}))||this;var r=e,o=r.duration,n=r.mpgmedia,a=r.mpgmedia,s=a.width,d=a.height;return i.adDuration=o,i.adWidth=s,i.adHeight=d,i.media=n,i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.initAd=function(e,i,r,o,n,a){var s=this;void 0===n&&(n={}),void 0===a&&(a={}),t.prototype.initAd.call(this,e,i,r,o,n,a);var d=this.options,c=d.mpgmedia,l=d.mp4media,u=d.mp3media,h=d.duration;this.setAdVolume(0),this.adDuration=h,this.videoSlot=this.videoSlot||a.videoSlot,this.audioSlot=this.audioSlot||a.audioSlot;var p=this.slot=a.slot,f=this.canvas;Object(Wi.p)(f,"canvas")||(f=this.canvas=document.createElement("canvas"),this._addDOMEventListener(p||f,"click",function(t){t.preventDefault(),this.trigger("AdClickThru","",0,!0)}.bind(this)),Object(Wi.b)(f,{width:Object(Li.r)(e),height:Object(Li.r)(i)}),this.canvasWrapper=Object(Wi.a)(a.slot,"div",{position:"absolute",top:"50%",marginTop:Object(Li.r)(-i/2),left:"50%",marginLeft:Object(Li.r)(-e/2)}),this.canvasWrapper.appendChild(f),this._initAudioVideo(u&&u.src,l&&l.src));var g=this.jsmpeg=new Ar({canvas:f,firstPacketTimeout:1200});return this._addVPAIDEventListener(g,"timeupdate",function(t){var e=this.adExpanded&&this.videoSlot?this.videoSlot:t.target,i=this.adDuration=e&&e.duration?e.duration:this.adDuration;if(i){var r=this.adRemainingTime,o=i-e.currentTime;o===r||(this.adRemainingTime=o,o<i&&r===i&&(this.trigger("AdImpression"),this.trigger("AdVideoStart")),this.trigger("AdRemainingTimeChange"),o<.75*i&&r>=.75*i&&this.trigger("AdVideoFirstQuartile"),o<.5*i&&r>=.5*i&&this.trigger("AdVideoMidpoint"),o<.25*i&&r>=.25*i&&this.trigger("AdVideoThirdQuartile"),0==o&&0<r&&this.trigger("AdVideoComplete"))}}.bind(this)),this._addVPAIDEventListener(g,"onDecodeInitPackage",function(){var t=this.jsmpeg;t.width,t.height,this.resizeAd(this.adWidth,this.adHeight),this.trigger("AdLoaded")}.bind(this)),this._addVPAIDEventListener(g,"ended",function(){var t=s.getAdExpanded();g.ended=!0,t||(s.collapseAd(),s.trigger("AdVideoComplete"))}),this._addVPAIDEventListener(g,"error",function(t){s.trigger("AdError",Ti.a.GENERAL_VPAID_ERROR,t+"")},"error"),g.init(c&&c.src),this._addVPAIDEventListener(this,"AdVolumeChange",function(){m.call(this)}.bind(this)),this._addVPAIDEventListener(this,"AdVideoStart",function(){m.call(this)}.bind(this)),this._addVPAIDEventListener(this,"AdVideoComplete",function(){var t=this.jsmpeg,e=this.videoSlot;e&&e.pause(),t.stop()}.bind(this)),Promise.resolve(this)},i.resizeAd=function(e,i,r){var o,n=this.jsmpeg,a=this.canvas,s=this.environmentVars,d=this.options.mpgmedia,c=d.scalable,l=s||{},u=l.forceAspectRatio,h=l.slot,p=this.getAdAspectRatio(),f=u||d.maintainAspectRatio;if(n&&n.width&&p&&c&&s&&s.slot){var g,b=n.width>n.height,m=e>i;if(null===f){var v=d.width/d.height,y=e/i;f=100-100*(y<v?y/v:v/y)>10}!0===f&&(g=e/i<n.width/n.height),!1===f&&(g=e/i>n.width/n.height),b!=m&&(g=!0),m&&!b&&(g=!1),o=g?{width:e,height:e*p}:{height:i,width:i/p}}else o={width:d.width,height:d.height};var O=this.canvasWrapper;return O&&Object(Wi.b)(O,{marginTop:Object(Li.r)(-o.height/2),marginLeft:Object(Li.r)(-o.width/2)}),Object(Li.c)(a,o,h,{width:e,height:i}),t.prototype.resizeAd.call(this,e,i,r)},i.startAd=function(){var e=this.jsmpeg,i=this.videoSlot;return this.getAdExpanded()?i&&i.play():e.play(),t.prototype.startAd.call(this)},i.stopAd=function(){return b.call(this),t.prototype.stopAd.call(this)},i.pauseAd=function(){return b.call(this),t.prototype.pauseAd.call(this)},i.resumeAd=function(){var e=this.jsmpeg,i=this.videoSlot,r=this.getAdExpanded();return e.play(),r&&i&&i.play(),t.prototype.resumeAd.call(this)},i.expandAd=function(){var e=this.jsmpeg,i=this.videoSlot;return!this.getAdExpanded()&&i&&(i.currentTime=e.currentTime,Object(Wi.q)(this.videoSlot),this.setAdExpanded(!0)),t.prototype.expandAd.call(this)},i.collapseAd=function(){var e=this,i=this.jsmpeg,r=this.videoSlot;return this.getAdExpanded()&&r&&(r.pause(),setTimeout(function(){"function"==typeof r.webkitExitFullscreen&&r.webkitExitFullscreen(),i.ended&&e.trigger("AdVideoComplete")},50)),t.prototype.collapseAd.call(this)},i.skipAd=function(){return b.call(this),t.prototype.skipAd.call(this)},i.getAdAspectRatio=function(){var t=this.adWidth,e=this.adHeight,i=this.jsmpeg||this.options.mpgmedia,r=i.width,o=i.height;return r&&o?o/r:t&&e?e/t:9/16},i._destroy=function(){t.prototype._destroy.call(this),this.jsmpeg._eventListeners={},this.jsmpeg=null},i._initAudioVideo=function(t,e){var i,r;if(t)i=this.videoSlot=this.audioSlot||document.createElement("audio"),r=t;else{if(!e)return void this._failedAudioVideo();(i=this.videoSlot=this.videoSlot||document.createElement("video")).playsInline=!0,r=e}this.environmentVars.slot.appendChild(i),i.src=r,Object(Wi.b)(i,{display:"none"}),this._addDOMEventListener(i,"volumechange",this.trigger.bind(this,"AdVolumeChange")),this._addDOMEventListener(i,"loadeddata",function(t){var e=t.target;this.hasAudio=Object(Li.n)(e),this.trigger("AdLoadedVideoData")}.bind(this)),this._addDOMEventListener(i,"webkitendfullscreen",this.collapseAd.bind(this)),this._addDOMEventListener(i,"ended",this.collapseAd.bind(this)),this._addDOMEventListener(i,"error",this._failedAudioVideo.bind(this)),i.load()},i._failedAudioVideo=function(){this.videoSlot=null,this.trigger("AdAudioDisabled")},e.create=function(t,i,r){void 0===r&&(r=!1);var o=(i&&i.getAPI&&i.getAPI()||{}).getControlUnionData;return new Promise(function(n){var a=t.MediaFiles,s=t.duration,d=t.rawDuration,c=a["video/mp4"]&&a["video/mp4"][0],l=c&&c.src,u=l&&i.isMediaUrlBlocked(c.src),h=a["audio/mp3"]&&a["audio/mp3"][0],p=o&&o("vnCache")||{serverUrl:"",strict:!1};if(!r&&l&&!u&&(Fi.b||!p.strict&&Fi.a))throw new Error;var f,g=i.format&&i.format._getModuleDimensions&&i.format._getModuleDimensions().viewportWidth||0,b=a["video/mpeg"],m=b&&b.filter(function(t){return t.src&&!i.isMediaUrlBlocked(t.src)}).reduce(function(t,e){return Pi(t.width-g)<Pi(e.width-g)?t:e});if(m){var v,y=m.width;y&&g&&!1===m.scalable&&.1<(v=Pi(y-g)/g)&&(ki.b.log(Sr+" difference between viewportWidth && mediaWidth more than 10% ("+v+"). Set media.scalable = true"),m.scalable=!0),f=Promise.resolve(m)}else{if(!l||u||!p||!p.serverUrl)throw new Error;var O=Object(wr.a)(p.serverUrl,{url:c.src});f=Object(Yi.f)(O).then(function(t){return JSON.parse(t.target.responseText)}).catch(function(){throw new Error("Cache server did not provide playable data")}).then(function(t){return t.video})}f.then(function(t){ki.b.log(Sr+".create("+t.src+")"),i.setSelectedCreative(t.src,d);var r=new e({module:i,mpgmedia:t,mp3media:h,mp4media:c,duration:s,moduleAPI:i.getAPI()});n(r)})})},e}(Ii.a),Pr="Module::VpaidImg",Cr=function(t){function e(e){var i;void 0===e&&(e={});var r=(i=t.call(this,function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?v(Object(e),!0).forEach(function(i){y(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):v(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({},e,{ancestor:Pr}))||this).options.media;i.media=r,i.image=null,i.originalSize={};var o=i.options.duration;return i._countdown=new xi.a({duration:o,VPAID_API:{trigger:i.trigger.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i))},logger:i.logger}),i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.initAd=function(e,i,r,o,n,a){var s=this;void 0===n&&(n={}),void 0===a&&(a={}),t.prototype.initAd.call(this,e,i,r,o,n,a);var d=this.options.media,c=this.image,l=this.slot=a.slot;if(!Object(Wi.p)(c,"img")){var u=this.image=document.createElement("img");this._addDOMEventListener(l,"click",function(t){t.preventDefault(),this.trigger("AdClickThru","",0,!0)}.bind(this)),this._addDOMEventListener(u,"load",function(){var t=this.image,e=t.width,i=t.height;this.originalSize={width:parseFloat(e),height:parseFloat(i)},this.adHeight=i,this.trigger("AdLoaded"),this.trigger("AdLoadedVideoData")}.bind(this)),this._addDOMEventListener(u,"error",function(t){s.trigger("AdError",Ti.a.GENERAL_VPAID_ERROR,t+"")}),a.slot.appendChild(u),u.src=d.src,this._addVPAIDEventListener(this,"error",function(t){s.trigger("AdError",Ti.a.GENERAL_VPAID_ERROR,t+"")},"error")}return Promise.resolve(this)},i.getModuleOptions=function(){return Promise.resolve({destroyControls:["spinner","volume","play"],controlsActions:[{name:"container",action:function(t){t&&Object(Wi.b)(t,{backgroundColor:"transparent"})}},{name:"vpaidSlot",action:function(t){t&&Object(Wi.b)(t,{textAlign:"center"})}}]})},i.resizeAd=function(e,i,r){var o=this.image,n=this.environmentVars,a=this.originalSize,s=(n||{}).slot;if(o&&o.width&&n&&n.slot){var d=o.width,c=(a||{}).width;if(d>e||d<=e&&c>=d){var l=Di(e,a.width);l!==d&&(o.width=l)}var u=o.width,h=o.height;this.trigger("slotSizeChanged",{shouldNotResize:!0,height:h,width:u}),t.prototype.resizeAd.call(this,u,h,r),Object(Li.c)(null,{width:u,height:h},s,{width:e,height:h}),this.trigger("slotSizeChanged",{shouldNotResize:!0,width:null})}},i.startAd=function(){ki.b.log(Pr+" startAd()",2,"blue"),this._countdown.start(),this.trigger("AdDurationChange"),t.prototype.startAd.call(this),this.trigger("AdImpression"),this.trigger("AdVideoStart")},i.stopAd=function(){return this._countdown.stop(),t.prototype.stopAd.call(this)},i.pauseAd=function(){return this._countdown.stop(),t.prototype.pauseAd.call(this)},i.resumeAd=function(){return this._countdown.start(),t.prototype.resumeAd.call(this)},i.skipAd=function(){return t.prototype.skipAd.call(this)},i.getAdAspectRatio=function(){var t=this.adWidth,e=this.adHeight,i=this.image||this.options.media,r=i.width,o=i.height;return r&&o?o/r:t&&e?e/t:9/16},i.getAdRemainingTime=function(){return this._countdown.getAdRemainingTime()},i._destroy=function(){this._countdown._destroy(),t.prototype._destroy.call(this)},e.create=function(t,i){return new Promise(function(r){var o=t.MediaFiles,n=t.rawDuration,a=t.duration,s=i.format&&i.format._getModuleDimensions&&i.format._getModuleDimensions().viewportWidth||0,d=(o["image/png"]||[]).concat(o["image/jpg"]||[]).concat(o["image/gif"]||[]),c=d&&d.filter(function(t){return t.src}).reduce(function(t,e){return Pi(t.width-s)<Pi(e.width-s)?t:e});if(!c)throw new Error;ki.b.log(Pr+".create("+c.src+")"),i.setSelectedCreative(c.src,n),r(new e({module:i,media:c,duration:a}))})},e}(Ii.a),Er="::VpaidVideo",Dr={startTime:0},Ir=function(t){function e(e){var i;void 0===e&&(e={});var r=e&&(e.logger||e.module&&e.module.logger||e.moduleAPI&&e.moduleAPI.logger)||ki.b;i=t.call(this,function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?O(Object(e),!0).forEach(function(i){_(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):O(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({},Dr,{},e,{ancestor:Er,logger:r}))||this;var o=e,n=o.mp4media,a=o.mp4media,s=a.width,d=a.height;i.adWidth=s,i.adHeight=d,i.media=n,i.startedVideotWithoutSound=null,i.startVideoWithSoundFailed=null,i.setAdVolumeCounter=0;var c=new Li.a;return i.playerSuccessfullyStartedPromise=c.promise,i.playerSuccessfullyStartedResolve=c.resolve,i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.initAd=function(e,i,r,o,n,a){var s=this;void 0===n&&(n={}),void 0===a&&(a={}),t.prototype.initAd.call(this,e,i,r,o,n,a);var d,c=a.videoSlotCanAutoPlay||n.videoSlotCanAutoPlay;this.videoSlotCanAutoPlay=c,"true"===c||"1"===c?this.videoSlotCanAutoPlay=!0:("false"===c||"false"===c)&&(this.videoSlotCanAutoPlay=!1),d=this.videoSlot=a.videoSlot,this.slot=a.slot;var l=function(t,r){void 0===t&&(t=s.videoSlot),void 0===r&&(r=!1);var o=(s.options.moduleAPI||{}).saveVideoSlotParams;o&&o(t),Object(Wi.b)(t,{width:e+"px",height:i+"px"}),t.src=s.options.mp4media.src,Object(Wi.b)(t,{display:r?"hidden":""}),t.load()};return new Promise(function(e,i){Object(Wi.p)(a.videoSlot,"video")&&(d=a.videoSlot),d=s._createVideoSlot(d),l(d,!0);var r=Object(Wi.q)(d);if(r){var o=s._addDOMEventListener(d,"error",function(t){var e=S(t),r=e.code,o=e.message,n=Error(o);n.code=r,i(n)}),n=function(){return r.then(function(){d.pause(),s.startedVideotWithoutSound=d.muted;var i=s.getAdVolume();t.prototype.setAdVolume.call(s,i,{forceTrigger:!0}),o&&s._removeDOMEventListener(d,"error",o),o=null,s._addDOMEventListener(d,"error",function(t){var e=S(t),i=e.code,r=e.message;this.trigger("AdError",i,r)}.bind(s)),s.playerSuccessfullyStartedResolve(d),e(s)})};n().catch(function(t){s.startedVideotWithoutSound=null,s.startVideoWithSoundFailed=!0;var e=Er+" initAd("+s+") failed video autoplay with videoSlot.muted="+d.muted+" videoSlot.volume="+d.volume;!d.muted||d.volume?(s.adVolume=0,s.videoSlotCanAutoPlay=!1,d.muted=!0,d.volume=0,r=Object(Wi.q)(d),n().then(function(){s.startedVideotWithoutSound=!0}).catch(function(t){i(Object(Li.e)(t,Er+" initAd("+s+") failed video autoplay err="+t,Ti.a.FAIL_MEDIA_START))})):i(Object(Li.e)(t,e,Ti.a.FAIL_MEDIA_START))})}else if(void 0!==r)i();else if(d.paused){var c=Error("failed video autoplay");c.code=Ti.a.FAIL_MEDIA_START,i(c)}else e(s)})},i._createVideoSlot=function(t){if(void 0===t&&(t=null),!this.options)return null;var e=this.slot,i=this.options,r=i.module,o=i.startTime;if(!t){var n=new Bi(r);(t=n&&n.getControlNode()).muted=!1===this.videoSlotCanAutoPlay||!this.adVolume,t.currentTime=o,t.volume=t.muted?0:this.adVolume,t.playsInline=!0,Object(Wi.b)(t,{width:"100%",display:"none"})}return this._addDOMEventListener(t,"loadedmetadata",function(t){var e=t.target,i=e.videoWidth,r=e.videoHeight,o=e.duration;this.adWidth&&this.adHeight||(this.adWidth=i,this.adHeight=r),this.adDuration=o,this.trigger("AdLoaded")}.bind(this)),this._addDOMEventListener(t,"loadeddata",function(t){var e=t.target;this.hasAudio=Object(Li.n)(e),this.trigger("AdLoadedVideoData")}.bind(this)),this._addDOMEventListener(t,"durationchange",function(t){var e=t.target.duration;isNaN(e)||(this.adDuration=e,this.trigger("AdDurationChange"))}.bind(this)),this._addDOMEventListener(t,"play",w.bind(this)),this._addDOMEventListener(t,"volumechange",function(t){var e=t.target;this.adVolume=e.volume,this.trigger("AdVolumeChange")}.bind(this)),this._addDOMEventListener(e||t,"click",function(t){t.preventDefault(),this.trigger("AdClickThru","",0,!0)}.bind(this)),this.videoSlot=t,t},i.resizeAd=function(e,i,r){var o=this.videoSlot,n=this.useExistsVideoSlot,a=this.options.moduleAPI;if(n){var s=(a||{}).saveVideoSlotParams;s&&s(o),Object(Wi.b)(o,{width:e+"px",height:i+"px"})}else{var d,c=this.videoSlot,l=this.environmentVars,u=this.options.mp4media,h=u.scalable,p=l||{},f=p.forceAspectRatio,g=p.slot,b=this.getAdAspectRatio(),m=f||u.maintainAspectRatio;if(b&&h&&g){var v,y=u.width>u.height,O=e>i;if(null===m){var _=u.width/u.height,A=e/i;m=100-100*(A<_?A/_:_/A)>10}!0===m&&(v=e/i<u.width/u.height),!1===m&&(v=e/i>u.width/u.height),y!=O&&(v=!0),O&&!y&&(v=!1),d=v?{width:e,height:e*b}:{height:i,width:i/b}}else d={width:u.width,height:u.height};Object(Li.c)(c,d)}return t.prototype.resizeAd.call(this,e,i,r)},i.activateMuteChangingEnable=function(){var t=this.videoSlot;t&&(t.wasClicked=!0)},i.startAd=function(){var e=this;this.playerSuccessfullyStartedPromise.then(function(){var i=e.videoSlot,r=(e.options||{}).startTime;(4===i.readyState?j.call(e,i):new Promise(function(t){i.addEventListener("canplaythrough",function r(){i.removeEventListener("canplaythrough",r),t(j.call(e,i))})})).then(function(){i.currentTime=r,Object(Wi.b)(i,{display:""}),e._addDOMEventListener(i,"timeupdate",w.bind(e)),t.prototype.startAd.call(e)})})},i.stopAd=function(){return A.call(this),t.prototype.stopAd.call(this)},i.pauseAd=function(){return A.call(this),t.prototype.pauseAd.call(this)},i.resumeAd=function(){var e=this.videoSlot;return e&&Object(Wi.q)(e),t.prototype.resumeAd.call(this)},i.expandAd=function(){this.trigger("AdError",Ti.a.GENERAL_VPAID_ERROR,"Not supported")},i.collapseAd=function(){this.trigger("AdError",Ti.a.GENERAL_VPAID_ERROR,"Not supported")},i.skipAd=function(){return A.call(this),t.prototype.skipAd.call(this)},i.setAdVolume=function(e,i){var r=this.videoSlot;return r&&(r.volume=e,r.muted&&e?r.paused||0!==r.currentTime?!1===this.startedVideotWithoutSound?r.muted=!1:(r.paused||0<r.currentTime)&&(r.muted=!1):r.muted=!1:!r.muted&&!e&&(r.muted=!0)),t.prototype.setAdVolume.call(this,e,i)},i.getAdVolume=function(){var e=this.videoSlot;return e&&(this.adVolume=Fi.e||Fi.g?e.muted?0:1:e.volume),t.prototype.getAdVolume.call(this)},i.getAdRemainingTime=function(){var t=this.videoSlot;return t?t.duration-t.currentTime:0},i.getAdAspectRatio=function(){var t=this.adWidth,e=this.adHeight,i=this.options,r=i&&i.mp4media||{},o=r.width,n=r.height;return o&&n?n/o:t&&e?e/t:9/16},i._destroy=function(){var e=this._createdVideoSlot;e&&Object(Wi.p)(e)&&Object(Wi.s)(e),t.prototype._destroy.call(this)},e.create=function(t,i){var r=i&&i.getAPI&&i.getAPI()||{},o=(r.logger||ki.b,r.getControlUnionData),n=o&&o("vnCache")||{strict:!1};return new Promise(function(r,o){if(Fi.b||Fi.a&&!n.strict){var a=i.format&&i.format._getModuleDimensions&&i.format._getModuleDimensions().viewportWidth||0,s=t.MediaFiles["video/mp4"];if(!s||!s.length)return void o();var d=s.filter(function(t){return t.src&&!i.isMediaUrlBlocked(t.src)}).reduce(function(t,e){return Pi(t.width-a)<Pi(e.width-a)?t:e});if(d){var c=d.width;c&&a&&!1===d.scalable&&.1<Pi(a-c)/a&&(d.scalable=!0);var l=t.rawDuration;return i.setSelectedCreative(d.src,l),void r(new e({module:i,mp4media:d,moduleAPI:i.getAPI()}))}}o()})},e}(Ii.a),Tr=[jr,Ir,Xi,Cr],kr=function(){function t(t,e,i,r){var o=this;void 0===r&&(r=!1),this._canGetBackToCanvasVpaid=!1,this.dataXml=t,this.module=i,this.logger=i&&i.getAPI&&i.getAPI().logger||ki.b;var n=function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?P(Object(e),!0).forEach(function(i){C(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):P(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({},t,{},{adParameters:e});return r?void(this.instance=jr.create(n,i,!0)):void(this.instance=Tr.reduce(function(t,e){return t.catch(function(){var t=e.create(n,i);return t&&e!==jr&&(o._canGetBackToCanvasVpaid=!0),t})},Promise.reject()))}var e=t.prototype;return e.getVpaidPromise=function(){var t=this;return new Promise(function(e,i){var r=(t.module._getControlUnionData("vnBrowserCache")||{}).enabled;t.instance.then(function(t){r&&t instanceof Xi&&i()||e(t)}).catch(function(){var t=new Error("There is no any vpaid");i(t)})})},e.canBackToReserveVpaid=function(){return this._canGetBackToCanvasVpaid},t}(),xr=["video/mp4","video/mpeg","audio/mp3","application/x-shockwave-flash","application/javascript","application/x-javascript","external/javascript","image/png","image/jpg","image/gif","text/html"],Nr=i(10),Mr="Format[Vpaid]",Rr=function(t){function e(e,i){var r,o=i&&i.ancestor&&i.ancestor+":"+Mr||"Module::"+Mr,n=i&&(i.logger||i.moduleAPI&&i.moduleAPI.logger)||ki.b,a=D({},i,{ancestor:o});return(r=t.call(this,a)||this)[Mr]=o,r.options=a,r.module=e,r.logger=n,r}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.toString=function(){return Mr},i._requestDataXml=function(t){return Promise.resolve(t)},i._initDataXml=function(){return Promise.resolve()},i._vpaidInitAd=function(){return Promise.resolve()},i.getReachInventoryFactory=function(){return null},i.hasReachInventoryFactory=function(){return!1},i._destroy=function(){t.prototype._destroy.call(this)},i.abort=function(){},i.isFloatingMode=function(){return!1},i.getModuleOptions=function(){return{isInsideTextContent:!1,startingVolume:1}},i.getSlotSize=function(){return{width:0,height:0}},i.correctAdSize=function(t,e){return{adWidth:t,adHeight:e}},i.getOptions=function(){return D({},this.options)},e}(Nr.a),Vr=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getSlotSize=function(){var t=(0,(this.options||{}).moduleAPI.getControlNode)("vpaidSlot"),e=Object(Li.h)(t);return{width:e.insideWidth,height:e.insideHeight}},i.toString=function(){return"Format[InStream]"},e}(Rr),Lr="initModuleNode",Fr=i(4),Wr=function(){function t(t){void 0===t&&(t={}),this.API=t.API,this.showObservableNode=t.showObservableNode,this.isIframe=t.isIframe,this.logger=t.logger}var e=t.prototype;return e.updateModuleNodeSize=function(){throw Error("Not implemented")},e.moduleResizeAd=function(){throw Error("Not implemented")},e._canUpdateModuleNodeSize=function(t){var e=this.API,i=e.isAdHasBeenStarted,r=e.getOptions,o=e.moduleAPI.getAdHeight,n=(r&&r()||{}).expandOnAdLoaded,a=o&&o();return t||a&&(i()||n)},e.correctAdSize=function(t,e){return{adWidth:t,adHeight:e}},t}(),zr=function(t){function e(e){var i;return(i=t.call(this,e)||this).parentElement=null,k(i)||k(i)}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.updateModuleNodeSize=function(t){void 0===t&&(t=!1);var e=this.isIframe,i=this.API,r=i.getModuleNode,o=i.moduleAPI.trigger;if(!this._canUpdateModuleNodeSize(t))return null;var n,a,s=r&&r(),d=s.clientWidth,c=s.clientHeight,l=this.parentElement=e?document.body:s&&s.parentElement;if(l){var u=Object(Li.h)(l);n=u.insideWidth,a=u.insideHeight}return s&&Object(Wi.b)(s,{width:"100%",height:"100%"}),(Object(Li.o)(c,a,1.2)||Object(Li.o)(d,n,1.2))&&setTimeout(function(){return o("slotSizeChanged")},1),{width:n,height:a}},i.moduleResizeAd=function(t){var e=this.isIframe,i=this.API,r=i.getModuleNode,o=i.moduleAPI,n=o.getControlNode,a=o.resizeAd,s=o.setWrapperSize,d=o.getAdHeight,c=o.getAdWidth,l=n&&n("wrapper");if(!this.parentElement){var u=r&&r();this.parentElement=e?document.body:u&&u.parentElement}var h=this.parentElement,p=function(t){var e=this.API.moduleAPI.getControlNode,i=e&&e("wrapper"),r=getComputedStyle(i).width,o=parseFloat(r),n=0^(this.forceWidth||o);return{width:n,height:0^(this.forceHeight||Ci(n*t))}}.call(this,t),f=p.width,g=p.height,b=x.call(this,f,g,t),m=b.width,v=b.height,y=b.availableHeightForAd;if(!(0>m||0>v)&&(d&&d()!==v||d&&c()!==m)){var O=getComputedStyle(l).width,_=parseFloat(O),A=N.call(this),w=A.outsideWrapperHeight,S=A.insideWrapperHeight;if((y!==S||1<t&&m<_)&&s(y+w-S),h&&"BODY"===h.tagName){var j=Object(Li.h)(h),P=j.top,C=j.bottom,E=j.left,D=j.right,I=j.borderTopWidth,T=j.borderRightWidth,k=j.borderBottomWidth,M=j.borderLeftWidth,R=h.clientHeight,V=h.clientWidth,L=R-P-C-I-k,F=Object(Li.h)(l),W=F.outsideHeight,z=F.outsideWidth;l&&L&&Object(Wi.b)(l,{top:Object(Li.r)(L/2-W/2),left:Object(Li.r)((V-E-D-M-T)/2-z/2)})}a&&a(0^m,0^v)}},i.correctAdSize=function(t,e){var i=x.call(this,t,e,e/t);return{adWidth:i.width,adHeight:i.height}},e}(Wr),Hr=function(t){function e(e){var i;return M(i=t.call(this,e)||this)||M(i)}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.updateModuleNodeSize=function(t){if(void 0===t&&(t=!1),!this._canUpdateModuleNodeSize(t))return null;var e=this.API,i=e.getOptions,r=e.getModuleNode,o=e.getWidthNode,n=e.moduleAPI,a=n.getIndents,s=n.trigger,d=(i&&i()||{}).expandingDuration;d=d&&parseFloat(d)||0;var c=o&&o(),l=r&&r(),u=Object(Li.h)(l),h=u.clientWidth,p=u.clientHeight,f=a&&a(),g=f.outsideWidth,b=f.outsideHeight,m=c&&Object(Li.h)(c).insideWidth||"100%";return Object(Wi.b)(l,{width:Object(Li.r)(m),height:Object(Li.r)(b)}),(Object(Li.o)(p,b,1.2)||Object(Li.o)(h,g,1.2))&&setTimeout(function(){return s("slotSizeChanged")},d),{width:g,height:b}},i.moduleResizeAd=function(t){var e=this.API,i=e.getWidthNode,r=e.moduleAPI,o=r.resizeAd,n=r.setWrapperSize,a=r.getControlNode,s=i&&i(),d=Object(Li.h)(s).insideWidth,c=a&&a("wrapper"),l=Object(Li.h)(c),u=l.borderTop,h=l.paddingTop,p=l.borderBottom,f=l.paddingBottom,g=Di(d,this.forceWidth||d),b=this.forceHeight||0^g*t||0;n(b+(u||0)+(p||0)+(h||0)+(f||0)),o&&o(0^g,0^b)},i.correctAdSize=function(t,e){var i=this.forceEnableVerticalContent,r=this.API.getModuleNodeSize,o=!1,n=e/t;Fi.f||!(1<n)||i||(o=!0);var a=r(n).width;return t!==a&&(o?t=(e=9*a/16)/n:(e*=a/t,t=a)),{adWidth:t,adHeight:e}},e}(Wr),Br=function(t){function e(e){var i=t.call(this,e)||this,r=e.height,o=e.width;return i.forceInsideHeight=r,i.forceInsideWidth=o,i.parentElement=null,R(i)||R(i)}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.updateModuleNodeSize=function(t){void 0===t&&(t=!1);var e=this.forceInsideWidth,i=this.forceInsideHeight,r=this.API,o=r.getModuleNode,n=r.getWidthNode,a=r.moduleAPI.trigger;if(!this._canUpdateModuleNodeSize(t))return null;var s=n&&n(),d=s&&Object(Li.h)(s).insideWidth;e>d&&(i*=d/e);var c=function(){var t=this.API.moduleAPI.getControlNode,e=t&&t("wrapper"),i=e&&Object(Li.h)(e);return{widthFromStyle:i.widthFromStyle,heightFrmStyle:i.heightFrmStyle,outsideWrapperHeight:i.outsideHeight,insideWrapperHeight:i.insideHeight,outsideWrapperWidth:i.outsideWidth,insideWrapperWidth:i.insideWidth}}.call(this),l=c.outsideWrapperHeight,u=c.insideWrapperHeight;l&&u&&(i+=l-u);var h=o&&o(),p=h.clientWidth,f=h.clientHeight;return h&&Object(Wi.b)(h,{width:Object(Li.r)(d),height:Object(Li.r)(i)}),(Object(Li.o)(f,i,1.2)||Object(Li.o)(p,d,1.2))&&setTimeout(function(){return a("slotSizeChanged")},1),{width:e,height:i}},i.moduleResizeAd=function(){var t=this.API.moduleAPI,e=t.getAdHeight,i=t.getAdWidth,r=t.resizeAd,o=t.getControlNode,n=function(){var t=this.forceInsideHeight;return{width:this.forceInsideWidth,height:t}}.call(this),a=n.width,s=n.height,d=V.call(this,a,s),c=d.width,l=d.height;if(e&&e()!==l||e&&i()!==c){r(0^c,0^l);var u=o("vpaidSlot");u&&Object(Wi.b)(u,{position:"relative",display:"inline-block",verticalAlign:"middle",width:Object(Li.r)(c),height:Object(Li.r)(l)})}},i.correctAdSize=function(t,e){var i=V.call(this,t,e);return{adWidth:i.width,adHeight:i.height}},e}(Wr),Ur="Format[ContentRoll]",qr=Ur,Xr=25,Gr={expandOnAdLoaded:!1,shouldStart:"beforeExpand",startMethod:"auto",playerDefaultClass:"vn-player",playerPlaybackClass:"vn-playback",playerSelectorPercent:"100%",widthElement:null,playerElement:null,playerSelectorTotalMin:1,playerDesktopStartFactor:.6,playerDesktopStopFactor:.6,playerMobileStartFactor:.5,playerMobileStopFactor:.5,expandingDuration:150,waitScroll:!0,maxSegments:1,minSegments:0,minDistance:1,destroyTimeout:5e3,doNotWatchVisibility:!1,moduleAPI:{},showObservableNode:!1,forceEnableVerticalContent:!1,ignoreCreatePlayerElement:!1,needAfterCloseCompensation:!0,slotMargin:"auto"},Yr=0,Jr=0,Qr=function(t){function e(e,i){var r;void 0===i&&(i={});var o=i&&i.ancestor&&i.ancestor+":"+Ur||"::"+Ur,n=i&&i.moduleAPI&&i.moduleAPI.logger||ki.b;(r=t.call(this,e,F({},Gr,{},{logger:n},{ancestor:o}))||this)[qr]=o,r._adHasBeenLoaded=!1,r._adHasBeenStarted=!1,r._updateStrategy=null,r.watchVisibility=null,r.wasExpanded=!1,r._adPausedPostponedCommand=null,r._showGridTimeoutId=null,r._onSlotSizeChangedCounter=0,i=function(t){void 0===t&&(t={});var e=Object(wr.h)(Object(Li.i)(window,document))||{},i=e.expandOnAdLoaded,r=e.shouldStart,o=e.showObservableNode,n=e.expandingDuration;return n&&(t.expandingDuration=n),o&&(t.showObservableNode=Object(Li.s)(o)),r&&r.length&&(t.shouldStart=r),i&&(t.expandOnAdLoaded=Object(Li.s)(i)),t}.call(z(r),i),r.updateOptions(i),r._initNoAdElement(),r._initDOM();var a=r.options.moduleAPI||{},s=a.setControlData,d=a.addVPAIDEventListener;s&&s("slot",{node:r.moduleInnerNode}),r.updateControlsLayout(),!0===i.withoutBottomBorder&&s&&s("bottomBorder",{node:null,enableWithVPAID:"true"});var c=z(r).options,l=c.playerDesktopStartFactor,u=c.playerDesktopStopFactor,h=c.playerMobileStartFactor,p=c.playerMobileStopFactor;return r._startFactor=parseFloat(Fi.f?h:l),r._stopFactor=parseFloat(Fi.f?p:u),d&&(d("slotSizeChanged",function(t){void 0===t&&(t={});var e=this._adVideoWasStarted,i=this.options.moduleAPI.getControlNode,r=i&&i("wrapper");Object(Li.h)(r).paddingTop||this.updateControlsLayout(0,!0),void 0!==t.height&&(this.forceHeight=t.height),void 0!==t.width&&(this.forceWidth=t.width),!0!==t.shouldNotResize&&(!0===e||2>++this._onSlotSizeChangedCounter)&&H.call(this)}.bind(z(r)),z(r)),d("AdPaused",function(){r._adPausedPostponedCommand&&setTimeout(function(){r._adPausedPostponedCommand&&(r._adPausedPostponedCommand(),r._adPausedPostponedCommand=null)},1)},z(r)),d("AdDestroyed",U.bind(z(r)),z(r))),r}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.updateOptions=function(t){var e=this._adHasBeenLoaded,i=this._adHasBeenStarted,r=this.options.doNotWatchVisibility,o=(t||{}).expandOnAdLoaded;this.options=F({},this.options,{},t),this.options.waitScroll=Object(Li.s)(this.options.waitScroll),this.options.expandOnAdLoaded=Object(Li.s)(this.options.expandOnAdLoaded),this.options.needAfterCloseCompensation=Object(Li.s)(this.options.needAfterCloseCompensation);var n=this.options.expandOnAdLoaded;r||!e||i||(o||!0!==n?!0===o&&!n&&!this._watchTempObservableModuleNodeVisibility&&(this._switchOffObservableCheckingToModuleNode(),this._switchOnObservableAdvancedNode()):(this._switchOffObservableAdvancedNode(),this._switchOnObservableCheckingToModuleNode()));var a=this.options.expandingDuration;this.expandingDuration=a&&parseFloat(a)||0},i.updateControlsLayout=function(t,e,i){void 0===t&&(t=Xr),void 0===e&&(e=!1),void 0===i&&(i=null);var r=i||this.options.moduleAPI||{},o=r.setControlData,n=r.getControlNode,a=function(t){return void 0===t&&(t=Xr),{wrapper:{paddingTop:Object(Li.r)(t)},skipAd:{top:Object(Li.r)(t)},skipAdCountdown:{top:Object(Li.r)(10+t)},title:{color:"gray"},logo:{top:0,right:0,bottom:"auto",left:"auto"},play:{top:Object(Li.r)(t)},vnAfterplay:{marginTop:Object(Li.r)(t)}}}(t);Object.keys(a).forEach(function(t){var i=a[t];if(o&&o(t,{css:i}),e){var r=n&&n(t);r&&Object(Wi.b)(r,i)}})},i.getModuleOptions=function(){return{formatExpandingDuration:this.options.expandingDuration||0,isInsideTextContent:!0,vpaidJsVideoSlotShouldBeMuted:!0}},i.getSlotSize=function(){var t=this.moduleNode,e=(this.options||{}).moduleAPI.getAdAspectRatio,i=Object(Li.h)(t),r=i.insideWidth;return{width:r,height:i.insideHeight||e&&r*e()||0}},i._requestDataXml=function(t){var e=document,i=e.body,r=e.documentElement,o=Ei(i.scrollTop,r.scrollTop),n=document.documentElement.clientHeight,a=document.body.clientHeight,s=[],d=this.options,c=d.preloadDistance,l=d.waitScroll;return l&&(l=n<a),l&&0===o&&s.push(this._requestDataXmlByScroll()),(void 0===c&&!l||l&&0!==o)&&(c=this.options.preloadDistance=1/0),void 0!==c&&s.push(this._waitForMinimumDistance()),Promise.race(s).then(function(e){return s.forEach(function(t){t.name!==e&&t.reject()}),t})},i._vpaidInitAd=function(){var e=this.options.moduleAPI||{},i=e.addVPAIDEventListener,r=e.extendEnvironmentVars,o=e.getControlNode,n=e.getControlInstance;r&&r({forceAspectRatio:!Fi.f}),i("AdLoaded",B.bind(this),this),i("AdStarted",function(){this._adHasBeenStarted=!0,this._updateModuleSize(),this._updateModuleNodeSize(),this._updateModuleState()}.bind(this),this),i("AdVideoStart",function(){var t=this,e=this.moduleNode,i=this.options,r=i.playerPlaybackClass,o=i.expandingDuration,n=i.moduleAPI.inState;n&&!n("started")||(r&&e.classList.add(r),this._adVideoWasStarted=!0,setTimeout(function(){t._updateModuleNodeSize(),t._updateModuleState()},o))}.bind(this),this),i("AdSizeChange",this._onAdSizeChange.bind(this),this),i("VnVPAIDCreated",function(t){var e=this,i=t.vpaid,r=(this.options||{}).setSizeByMedia;if(Object(Li.s)(r)){var o=i&&i.getMediaInfo()||{},n=o.width,a=o.height;if(n&&a&&(!this._updateStrategy||!(this._updateStrategy instanceof Br))){var s=this.options,d=s.forceEnableVerticalContent,c=s.moduleAPI,l={width:n,height:a,forceEnableVerticalContent:d,showObservableNode:s.showObservableNode,logger:this.logger,API:{moduleAPI:c,getWidthNode:this._getWidthNode.bind(this),getModuleNodeSize:q.bind(this),isAdHasBeenStarted:function(){return e._adHasBeenStarted},getModuleNode:function(){return e.moduleNode},getOptions:function(){return F({},e.options)}}};this._updateStrategy=new Br(l),this._updateModuleNodeSize(!0),this._updateModuleSize()}}}.bind(this),this);var a=o("title"),s=o("logo","node");if(!(a&&"hidden"!==a.style.visibility&&"none"!==a.style.display||s&&"hidden"!==s.style.visibility&&"none"!==s.style.display)){var d=n("wrapper");d&&d.hideTopSpace()}return t.prototype._vpaidInitAd.call(this)},i.getStartMethod=function(){return(this.options||{}).startMethod},i._initNoAdElement=function(){var t=this.options.noAdElement;if(document.querySelector(t)){var e=new Error("Disabled by noAdElement ("+t+")");throw e.fatal=!0,e}},i.getAnchorElement=function(){return this.anckorElement},i._initDOM=function(){var t=this,e=this.options,i=this.options,r=i.forceEnableVerticalContent,o=i.moduleAPI,n=i.showObservableNode,a=i.moduleAPI,s=a.getOptions,d=(a.getMainModuleId,a.getControlNode),c=s().initScriptParentNode,l=e.lookupElement,u=e.scrollElement,h=e.widthElement,p=e.minSegments,f=e.maxSegments,g=e.minDistance,b=e.slotBackground,m=e.slotMargin,v=window.innerHeight,y=this.lookupNode=Object(Wi.j)(l)||document.body,O=y.offsetHeight/(v*g);if(O<p)throw new Error(this[qr]+" lookupNode height/segments factor ("+O.toFixed(2)+"vh) is not enough, minimum "+parseFloat(p).toFixed(2)+"vh required");if(!f)throw new Error(this[qr]+" maxSegments is 0");var _=T(F({},e,{lookupNode:y,initScriptParentNode:c}),""+this),A=_.moduleNode,w=_.moduleInnerNode,S=_.elementNode,j=_.beforeNode,P=_.afterNode,C=_.widthNode,E=_.boundariesExists,D=_.insideIframe;if(this.anckorElement=S||j||P,this.insideIframe=D,this.boundariesExists=E,!this._updateStrategy){var I={isIframe:D,forceEnableVerticalContent:r,showObservableNode:n,logger:this.logger,API:{moduleAPI:o,getWidthNode:this._getWidthNode.bind(this),getModuleNodeSize:q.bind(this),isAdHasBeenStarted:function(){return t._adHasBeenStarted},getModuleNode:function(){return t.moduleNode},getOptions:function(){return F({},t.options)}}};this._updateStrategy=E?new zr(I):new Hr(I)}(Object(Wi.b)(A,{position:"relative",zIndex:0,backgroundColor:b,margin:m,boxSizing:E?"border-box":"content-box"}),this.moduleNode=this._addDOMNode(A),this.moduleInnerNode=this._addDOMNode(w),this.widthNode=Object(Wi.j)(h)||C||A.parentNode,this.scrollNode=Object(Wi.j)(u)||window,y&&y!==document.body)&&("static"===getComputedStyle(y).position&&(y.style.position="relative"));var k=y||document.body;this.observerForParent=new MutationObserver(function(){var e=k.clientHeight;(void 0===t.prevParentHeight||e!==t.prevParentHeight)&&(t._updateObservableAdvancedNodePosition(!1),n&&(clearTimeout(t._showGridTimeoutId),t._showGridTimeoutId=setTimeout(X.bind(t,t._tempObservableModuleNode||d("container")||A),1))),t.prevParentHeight=e}),this.observerForParent.observe(k,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),A.clientWidth||function(){function t(){var e=this,i=this.options.moduleAPI.getControlNode;if(r.clientWidth){var o=i&&i("wrapper"),n=(o&&Object(Li.h)(o)||{}).paddingTop;this.updateControlsLayout(n||Xr,!0),this._updateModuleSize(),this._updateModuleNodeSize(!0),this._tempObservableModuleNode&&(this._switchOffObservableAdvancedNode(),this._switchOnObservableAdvancedNode()),this._getModuleVisibility().then(function(t){t.intersectionRatio&&setTimeout(function(){e._updateModuleState()},100)})}else this._addTimeout(d,t.bind(this),100)}function e(t){var e=getComputedStyle(t)||{};return t.hidden||"none"===e.display||"hidden"===e.visibility}var i=this,r=this.moduleNode,o=this.scrollNode;if(!window.IntersectionObserver&&window.MutationObserver){var n=function(t){for(t=t&&t.parentElement;;t=t.parentElement){if(!t)return null;if(e(t))return t}}(r);if(n){var a=new MutationObserver(function(){e(n)||(a.disconnect(),setTimeout(t.bind(i),1))});a.observe(n,{attributes:!0})}}var s=this._watchModuleNodeNodeVisibility=Object(Li.u)(r,{threshold:[.1,1],registerHandle:function(t){var e="scroll";return o&&o.addEventListener(e,t),{handler:t,event:e,scrollNode:i.scrollNode}}},function(e){var r=e.intersectionRatio,o=e.boundingClientRect;0<r&&(!o||0<o.right-o.left)&&(s&&s.disconnect&&s.disconnect(),setTimeout(t.bind(i),1))}),d="watchModuleNodeNodeVisibilityTimerId"}.call(this)},i._requestDataXmlByScroll=function(t){void 0===t&&(t=this);var e=function(){},i=function(){},r="byScroll",o=this.scrollNode,n=function e(){t._removeDOMEventListener(o,"scroll",e),i(r)},a=new Promise(function(r,a){e=a,i=r,t._addDOMEventListener(o,"scroll",n)});return a.catch(function(){t._removeDOMEventListener(o,"scroll",n)}),Object(Fr.e)(a,{name:r,reject:e})},i._waitForMinimumDistance=function(t,e){var i=this;void 0===t&&(t=this.options.preloadDistance),void 0===e&&(e=this);var r=function(){},o=function(){},n="byPreloadDistance",a=this.scrollNode,s=function o(){var s=i._getModuleDimensions(),d=s.viewportHeight;s.moduleTop-d<=t&&(e._removeDOMEventListener(a,"scroll",o),r(n))},d=new Promise(function(t,i){o=i,r=t,e._addDOMEventListener(a,"scroll",s),s()});return d.catch(function(){e._removeDOMEventListener(a,"scroll",s)}),Object(Fr.e)(d,{name:n,reject:o})},i.hasReachInventoryFactory=function(){return!0},i.getReachInventoryFactory=function(){var t=this.scrollNode,e=this.moduleNode;return this.options.doNotWatchVisibility?null:this._createReachInventoryFactory(t,e)},i._createReachInventoryFactory=function(t,e){var i=this.options,r=i.showObservableNode,o=i.doNotWatchVisibility,n=i.moduleAPI.getMainModuleId,a=n&&n();if(o)return null;var s=("vn-visible-inventory-mark_"+this+"_"+Yr+++" vn-module__"+a).replace(/\s+/g,"-").replace(/(\[|])/g,"_"),d=document.createElement("div");d.className=s,!0===r&&Object(Wi.b)(e,{outlineWidth:"1px",outlineColor:"#4080ff",outlineStyle:"solid"}),e.parentElement.insertBefore(d,e);var c=null;return{id:s,waiterCreator:function(){return new Promise(function(e){c=Object(Li.u)(d,{threshold:[0,1e-4,.1,.999,1],registerHandle:function(e){var i="scroll";return t&&t.addEventListener(i,e),{handler:e,event:i,scrollNode:t}}},function(t){0<t.intersectionRatio&&(c&&c.disconnect&&c.disconnect(),c=null,e())})})},destroy:function(){c&&c.disconnect&&c.disconnect(),Object(Wi.s)(d)},markNode:d,moduleNode:e}},i._getModuleDimensions=function(){var t=this.scrollNode,e=this.moduleNode;return Object(Li.j)(t,e)},i._getWidthNode=function(){return this.widthNode},i._updateModuleNodeSize=function(t){void 0===t&&(t=!1);var e=this._updateStrategy.updateModuleNodeSize(t);return this._resetObservableNodes(),e},i._updateModuleSize=function(){var t=this.boundariesExists,e=this.moduleNode,i=this.options,r=i.forceEnableVerticalContent,o=i.moduleAPI,n=o.getAdAspectRatio,a=o.getControlNode,s=this._getWidthNode();if(s){var d,c=n&&n();t&&(d=s.clientHeight/s.clientWidth),Fi.f||!(1<c)||r||d||(c=9/16),this._moduleResizeAd(s,c);var l=this._watchTempObservableModuleNodeVisibility;this.options.showObservableNode&&!l&&(clearTimeout(this._showGridTimeoutId),this._showGridTimeoutId=setTimeout(X.bind(this,a("container")||e),1))}},i._moduleResizeAd=function(t,e){return this._updateStrategy.moduleResizeAd(e)},i._updateModuleState=function(){this._getModuleVisibility().then(this._checkModuleState.bind(this))},i._checkModuleState=function(t){var e=this,i=t.intersectionRatio,r=t.moduleSquare,o=t.boundingClientRect,n=this.options,a=n.expandOnAdLoaded,s=n.doNotWatchVisibility,d=n.expandingDuration;!r&&i&&(i=0);var c=this.options.moduleAPI,l=c.addVPAIDEventListener,u=c.removeVPAIDEventListener;!this._applyModuleState({intersectionRatio:i,moduleSquare:r,boundingClientRect:o})||s||a||l("AdVideoStart",function(){e._addTimeout("_checkModuleState_AdVideoStart",function(){e._switchOffObservableAdvancedNode();var t=l("slotSizeChanged",function(){return r("slotSizeChanged")},e),i=setTimeout(function(){return r("timeout")},50),r=function(){u("slotSizeChanged",t,e),clearTimeout(i),e._switchOnObservableCheckingToModuleNode()}},d)})},i._applyModuleState=function(t){var e=t.intersectionRatio,i=t.moduleSquare,r=t.boundingClientRect,o=this._applyModuleStateCheckStartAd({intersectionRatio:e,moduleSquare:i,boundingClientRect:r});return this._applyModuleStateCheckPausedAndPlaying({intersectionRatio:e,moduleSquare:i,boundingClientRect:r}),o},i._applyModuleStateCheckStartAd=function(t){var e=this,i=t.intersectionRatio,r=this._startFactor,o=this.options,n=o.shouldStart,a=o.startMethod,s=o.expandOnAdLoaded,d=o.expandingDuration,c=o.moduleAPI,l=c.addVPAIDEventListener,u=c.removeVPAIDEventListener,h=c.startAd,p=c.inState,f=[p("loaded"),p("waitStarting"),p("starting")],g=f[0],b=f[1],m=f[2],v=!1,y=n.toLowerCase(),O="afterexpand"===y,_="beforeexpand"===y,A="manual"===a;if(g&&s&&!this.wasExpanded){this.wasExpanded=!0,_&&h&&h(),this._updateModuleNodeSize(!0);var w=l("AdVideoStart",function(){u("AdVideoStart",w),setTimeout(function(){return e._updateModuleState()},d)});O&&h&&h(),v=!0}return i>=r&&(g&&!A&&(O||_)||A&&b)&&(O&&this._updateModuleNodeSize(!0),h&&h(),v=!0),v||m},i._applyModuleStateCheckPausedAndPlaying=function(t){var e=t.intersectionRatio,i=this._startFactor,r=this._stopFactor,o=this.options.moduleAPI,n=o.resumeAd,a=o.pauseAd,s=o.inState,d=[s("paused"),s("pausing"),s("playing"),s("resuming")],c=d[1],l=d[2];e>=i&&(d[0]?(this._adPausedPostponedCommand=null,n&&n()):c&&(this._adPausedPostponedCommand=function(){return n()})),l&&e<r&&(this._adPausedPostponedCommand=null,a&&a())},i.hide=function(){this._closeModule()},i._closeModule=function(t){void 0===t&&(t={});var e=((this.options||{}).moduleAPI||{}).addVPAIDEventListener,i=this._needAfterCloseCompensation()&&!0!==t.noCompensation;if(!this._moduleWasClosed){this._moduleWasClosed=!0,this._removeEventListeners(),e&&e("AdDestroyed",U.bind(this),this);var r=this.moduleNode,o=this.observerForParent;o&&o.disconnect&&o.disconnect(),setTimeout(G.bind(this),1);var n=i&&Y.call(this);Object(Wi.b)(r,{height:0,margin:0,border:0,padding:0}),n&&J.call(this,n)}},i._getWatchVisibilityThreshold=function(){var t=this._startFactor,e=this._stopFactor,i=[];return(t||0===t)&&i.push(t),(e||0===e)&&t!==e&&i.push(e),i.length&&(0!==t&&0!==e&&i.push(0),1!==t&&1!==e&&i.push(1)),i.sort()},i._destroy=function(){var e=this.watchVisibility,i=this._watchModuleNodeNodeVisibility,r=this._watchTempObservableModuleNodeVisibility,o=this._moduleNodeObservable;e&&e.disconnect&&e.disconnect(),this.watchVisibility=null,i&&i.disconnect&&i.disconnect(),this._watchModuleNodeNodeVisibility=null,r&&r.disconnect&&r.disconnect(),this._watchTempObservableModuleNodeVisibility=this,o&&o.disconnect&&o.disconnect(),this._moduleNodeObservable=null;var n=this._needAfterCloseCompensation()&&Y.call(this);t.prototype._destroy.call(this),n&&J.call(this,n)},i._needAfterCloseCompensation=function(){var t=this.boundariesExists;return(this.options||{}).needAfterCloseCompensation&&!t},i.abort=function(){this.options.destroyTimeout=0,this._closeModule({noCompensation:!0})},i._switchOnObservableAdvancedNode=function(){var t=this.options,e=t.showObservableNode,i=t.doNotWatchVisibility,r=t.moduleAPI.getMainModuleId;if(!this._tempObservableModuleNode&&!i){var o=this._createObservableAdvancedNode(),n=o.node,a=o.watcher;n&&window.document.body.appendChild(n),this._tempObservableModuleNode=this._addDOMNode(n),this._tempObservableModuleNode.className=("vn-start-mark_"+this+"_"+Jr+++" vn-module__"+(r&&r())).replace(/\s+/g,"-").replace(/(\[|])/g,"_"),this._watchTempObservableModuleNodeVisibility=a,e&&(clearTimeout(this._showGridTimeoutId),this._showGridTimeoutId=setTimeout(X.bind(this,n),1))}},i._createObservableAdvancedNode=function(){var t=this.scrollNode,e=this.options.showObservableNode,i=Object(Wi.d)("div",{top:-9999,left:-9999,height:0,width:0,position:"absolute",zIndex:"-1",opacity:0});!0===e&&Object(Wi.b)(i,{outlineWidth:"1px",outlineColor:"red",outlineStyle:"solid",opacity:1,zIndex:1}),i.classList.add("vn-observable-advanced-node"),this._updateObservableAdvancedNodePosition(!1,i);var r=Object(Li.u)(i,{threshold:this._getWatchVisibilityThreshold(),registerHandle:function(e){var i="scroll";return t&&t.addEventListener(i,e),{handler:e,event:i,scrollNode:t}}},this._checkModuleState.bind(this));return e&&(clearTimeout(this._showGridTimeoutId),this._showGridTimeoutId=setTimeout(X.bind(this,i),1)),{watcher:r,node:i}},i._updateObservableAdvancedNodePosition=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=null);var i=this._tempObservableModuleNode,r=this.options,o=r.showObservableNode,n=r.moduleAPI.getControlNode;if(e||(e=i),!Object(Wi.p)(e))return null;var a,s,d=n&&n("wrapper"),c=n&&n("vpaidSlot")||d,l=c&&Object(Li.h)(c)||{};if(l.offsetHeight){var u=l.offsetHeight,h=l.offsetWidth,p=l.marginLeft,f=l.marginRight,g=l.marginTop,b=l.marginBottom;s=u+(g||0)+(b||0),a=h+(p||0)+(f||0)}if(!s){var m=q.call(this),v=m.width,y=m.height;s||(s=y),a||(a=v)}var O=Object(Wi.g)(c),_={top:Object(Li.r)(O.top),left:Object(Li.r)(O.left),height:Object(Li.r)(s),width:Object(Li.r)(a),pointerEvents:"none"};return Object(Wi.b)(e,_),t&&o&&(clearTimeout(this._showGridTimeoutId),this._showGridTimeoutId=setTimeout(X.bind(this,e),1)),e},i._getModuleVisibility=function(t){var e=this;void 0===t&&(t=0);var i=this._watchTempObservableModuleNodeVisibility,r=this._tempObservableModuleNode,o=this.moduleNode,n=this.options.moduleAPI.getControlNode,a=n("videoSlot"),s=(a||{}).style,d=s&&"hidden"!==s.display&&a.clientHeight&&a||n("container")||o,c=[];return i&&r&&c.push(Object(Li.m)(r)),d&&c.push(Object(Li.m)(d)),Promise.all(c).then(function(i){if(2>i.length)return i[0];var r=i.filter(function(t){return t.intersectionRatio});if(3>t&&!i[0].intersectionRatio&&i[1].intersectionRatio&&!i[1].moduleSquare)return e._getModuleVisibility(t+1);var o=r.reduce(function(t,e){return!t||e.intersectionRatio>t.intersectionRatio?e:t},null);return r.length?o:i[0]})},i._onAdSizeChange=function(){this._updateModuleNodeSize()},i._resetObservableNodes=function(){this.watchVisibility?(this._switchOffObservableAdvancedNode(),this._switchOffObservableCheckingToModuleNode(),this._switchOnObservableCheckingToModuleNode()):this._tempObservableModuleNode&&(this._switchOffObservableCheckingToModuleNode(),this._switchOffObservableAdvancedNode(),this._switchOnObservableAdvancedNode()),window.IntersectionObserver||this._updateModuleState()},i._switchOffObservableAdvancedNode=function(){this._watchTempObservableModuleNodeVisibility&&this._watchTempObservableModuleNodeVisibility.disconnect&&this._watchTempObservableModuleNodeVisibility.disconnect(),this._tempObservableModuleNode&&(this._tempObservableModuleNode.remove(),this._tempObservableModuleNode=null),this._watchTempObservableModuleNodeVisibility=null},i._getNodeForObservableChecking=function(){var t=this.moduleNode,e=this.options.moduleAPI.getControlNode;return e("videoSlot")||e("vpaidSlot")||t},i._switchOnObservableCheckingToModuleNode=function(){var t=this.scrollNode,e=this.options,i=e.showObservableNode,r=e.doNotWatchVisibility;if(!this.watchVisibility&&!r){var o=this._getNodeForObservableChecking();!0===i&&Object(Wi.b)(o,{outlineWidth:"1px",outlineColor:"green",outlineStyle:"solid"}),this.watchVisibility=Object(Li.u)(o,{threshold:this._getWatchVisibilityThreshold(),registerHandle:function(e){var i="scroll";return t&&t.addEventListener(i,e),{handler:e,event:i,scrollNode:t}}},this._checkModuleState.bind(this)),i&&(clearTimeout(this._showGridTimeoutId),this._showGridTimeoutId=setTimeout(X.bind(this,o),1))}},i._switchOffObservableCheckingToModuleNode=function(){var t=this.watchVisibility,e=this.moduleNode,i=this.options.showObservableNode;t&&(!0===i&&Object(Wi.b)(e,{outlineWidth:"0",outlineColor:"none",outlineStyle:"none"}),t&&t.disconnect&&t.disconnect(),this.watchVisibility=null)},i.correctAdSize=function(t,e){return this._updateStrategy.correctAdSize(t,e)},i.getModuleNode=function(){return this.moduleNode},i.toString=function(){return Ur},e}(Rr),Zr="Format[ContinuousRoll]",Kr={maxSegments:-1,playerSelectorPercent:"0%"},$r=0,to=0,eo=function(t){function e(e,i){var r,o=i&&i.ancestor&&i.ancestor+":"+Zr||"Module::"+Zr;i&&i.moduleAPI&&i.moduleAPI.logger||ki.b;return(r=t.call(this,e,function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?Z(Object(e),!0).forEach(function(i){K(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Z(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({},Kr,{MODULE_ID:Zr},i,{ancestor:o}))||this)[Zr]=o,r.slotPlaceholders=[],1!==r.options.maxSegments&&r._initSlotPlaceholders(),r}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._vpaidInitAd=function(){var e=(this.options.moduleAPI||{}).addVPAIDEventListener,i=t.prototype._vpaidInitAd.call(this);return e("AdLoaded",function(){var t=this.scrollNode;this._addDOMEventListener(t,"scroll",function(){this._updateModulePosition()}.bind(this)),this._addDOMEventListener(window,"resize",function(){this._updateModulePosition()}.bind(this))}.bind(this),this),e("AdStarted",function(){this._updateModulePosition()}.bind(this),this),e("AdVideoComplete",function(){this._closeRestOfSlotPlaceholders()}.bind(this),this),i},i._destroy=function(){var e=this._reachInventoryFactory;e&&e.destroy&&e.destroy(),t.prototype._destroy.call(this)},i.getReachInventoryFactory=function(){var t=this,e=this._reachInventoryFactory,i=this.scrollNode;if(this.options.doNotWatchVisibility)return null;if(e)return e;var r=this.slotPlaceholders.map(function(e){return t._createReachInventoryFactory(i,e)});return this._reachInventoryFactory={id:"vn-visible-inventory-marks-group_"+this+"_"+$r++,waiterCreator:function(){return Promise.race(r.map(function(t){return t.waiterCreator()}))},destroy:function(){return r.forEach(function(t){t.destroy&&t.destroy()})},markNode:""}},i._updateModulePosition=function(){var t=this._findNearestSlotPlaceholder();this._nearestSlotPlaceholder!==t&&(this._nearestSlotPlaceholder=t,this.trigger("NearestSlotPlaceholderChanged")),t&&this._updateModulePositionCoordinates(t)},i._updateModulePositionCoordinates=function(t){var e=this.moduleNode,i=Object(Wi.h)(t,e),r=i.top,o=i.left;Object(Wi.b)(e,{position:"absolute",top:Object(Li.r)(r+2),left:Object(Li.r)(o),width:Object(Li.r)(t.clientWidth),visibility:""});var n=Object(Li.h)(e).outsideHeight;Object(Wi.b)(t,{height:Object(Li.r)(n)})},i._findNearestSlotPlaceholder=function(){var t=window.innerHeight;return this.slotPlaceholders.reduce(function(e,i){var r=i.getBoundingClientRect(),o=r.top,n=r.height,a=Pi(o+n/2-t/2);return 0<n&&a<e.distance?{distance:a,slotPlaceholder:i}:e},{distance:1/0,slotPlaceholder:null}).slotPlaceholder},i._getModuleVisibility=function(){var t=this._findNearestSlotPlaceholder();return Object(Li.m)(t)},i._initSlotPlaceholders=function(){var t,e=this,i=this.options,r=i.showObservableNode,o=i.playerAfter,n=i.playerElement,a=i.minDistance,s=i.maxSegments,d=i.lookupNode,c=window,l=c.scrollY,u=c.innerHeight,h=d||document.body,p=Object(Wi.p)(n)?[n]:Array.from(Object(Wi.k)(n,h)),f=0>s?1/0:s;if((t=this.slotPlaceholders).push.apply(t,p.slice(0,f)),(f-=this.slotPlaceholders.length)&&o){var g=this.slotPlaceholders[this.slotPlaceholders.length-1],b=u*a,m=g?g.getBoundingClientRect().top+l+b:u;Array.from(Object(Wi.k)(o,h)).some(function(t){if(t.getBoundingClientRect().top+l>m){var i=document.createElement("div");f-=1,t.parentNode.insertBefore(e._addDOMNode(i),t.nextSibling),e.slotPlaceholders.push(i),m+=b}return!f})}var v=$.call(this).visible,y=(v&&v.length&&v[0]).previousElementSibling,O=y&&y.getBoundingClientRect().top;Object(Wi.b)(this.slotPlaceholders,{boxSizing:"border-box",paddingTop:Object(Li.r)(2),paddingBottom:Object(Li.r)(2),backgroundColor:"transparent"}),y&&window.scrollBy(0,y.getBoundingClientRect().top-O),r&&Object(Wi.b)(this.slotPlaceholders,{outlineWidth:"1px",outlineColor:"pink",outlineStyle:"solid"}),this.slotPlaceholders.forEach(function(t){return t.className="vn-placeholder"})},i._closeModule=function(){t.prototype._closeModule.call(this);var e={height:0,paddingTop:0,paddingBottom:0},i=$.call(this),r=i.above,o=i.below,n=i.visible;setTimeout(function(){if(Object(Wi.b)([].concat(o,n),e),n&&n.length){var t=(n&&n.length&&n[0]).previousElementSibling,i=t&&t.getBoundingClientRect().top;Object(Wi.b)(r,e),i&&window.scrollBy(0,t.getBoundingClientRect().top-i)}},1)},i._closeRestOfSlotPlaceholders=function(){var t=window.innerHeight;this.slotPlaceholders.forEach(function(e){var i=e.getBoundingClientRect().top;0>t-i&&Object(Wi.b)(e,{height:0,paddingTop:0,paddingBottom:0})})},i._updateModuleNodeSize=function(e){void 0===e&&(e=!1);var i=t.prototype._updateModuleNodeSize.call(this,e),r=i||{},o=r.width,n=r.height;if(o&&n){var a={width:Object(Li.r)(o),height:Object(Li.r)(n+2+2)},s=$.call(this),d=s.above,c=s.below,l=s.visible;Object(Wi.b)([].concat(c,l),a);var u=d.map(function(t){return Object(Li.h)(t).outsideHeight}).reduce(function(t,e){return t+e},0);Object(Wi.b)(d,a);var h=d.map(function(t){return Object(Li.h)(t).outsideHeight}).reduce(function(t,e){return t+e},0);window.scrollBy(0,h-u)}return i},i._switchOnObservableAdvancedNode=function(){var t=this,e=this.slotPlaceholders,i=this.options.doNotWatchVisibility;if(!this._tempObservableModuleNode&&!i){var r=this._tempObservableModuleNode={items:[],remove:function(){return r.items.forEach(function(t){return Object(Wi.s)(t)})}},o=this._watchTempObservableModuleNodeVisibility={items:[],disconnect:function(){return o.items.forEach(function(t){t.disconnect&&t.disconnect()})}};e&&e.forEach(function(e){var i=t._createObservableAdvancedNode(),n=i.node,a=i.watcher,s=Object(Wi.g)(e),d=s.top,c=s.left;n.style.top=Object(Li.r)(d+2),n.style.left=Object(Li.r)(c),n&&window.document.body.appendChild(n);var l=t._addDOMNode(n);n.className=("vn-start-mark_"+t+"_"+to++).replace(/\s+/g,"-").replace(/(\[|])/g,"_"),r.items.push(l),o.items.push(a)})}},i.getModuleVisibility=function(){return this._watchTempObservableModuleNodeVisibility&&this._tempObservableModuleNode?Promise.race(this._tempObservableModuleNode.items.map(function(t){return Object(Li.m)(t)})):Object(Li.m)(this.moduleNode)},i.toString=function(){return Zr},e}(Qr),io="Format[FlyRoll]",ro=io,oo={playerEmbeddedClass:"vn-embedded",playerFloatingClass:"vn-floating",zIndex:1,playerDesktopFactor:.6,playerMobileFactor:.6,playerDesktopStartFactor:.5,playerDesktopStopFactor:.5,playerMobileStartFactor:.5,playerMobileStopFactor:.5,floatingWidth:"200px",floatingBottom:"2%",floatingRight:"3%",flyExpandingDuration:0,flyExpandingStartOpacity:.05,flyBelowOnly:!1},no={_EMBEDDED:0,_FLOATING:1},ao=!1,so=0,co=function(t){function e(e,i){var r,o;void 0===i&&(i={});var n=i&&i.ancestor&&i.ancestor+":"+io||"::"+io;if(ao)throw Error(n+".Format instance already active on the page");i&&i.moduleAPI&&i.moduleAPI.logger||ki.b;var a=i.canFlyModeStart;i.canFlyModeStart=Object(Li.s)(a);var s={};i.canFlyModeStart&&(s.doNotWatchVisibility=!1,s.expandOnAdLoaded=!0),(o=t.call(this,e,function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?tt(Object(e),!0).forEach(function(i){et(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):tt(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({},oo,{},i,{},s,{ancestor:n}))||this)._fakeVideoSlot=null,o.options.flyBelowOnly=Object(Li.s)(o.options.flyBelowOnly),o[ro]=n,o._setInstanceEIsExists(),o._replaceModuleInnerNode();var d=o.options,c=d.floatingElement,l=d.floatingWidth,u=d.floatingTop,h=d.floatingRight,p=d.floatingBottom,f=d.floatingLeft,g=d.floatingTranslateX,b=void 0===g?0:g,m=d.floatingTranslateY,v=void 0===m?0:m,y=d.flyExpandingDuration,O=d.flyExpandingStartOpacity;o._mode=no._EMBEDDED;var _={position:"fixed",zIndex:2147483646,backgroundColor:"white",boxShadow:"0 0 10px black",width:Object(Li.r)(l),top:Object(Li.r)(u),right:Object(Li.r)(h),bottom:Object(Li.r)(p),left:Object(Li.r)(f),transitionProperty:"none",transitionDuration:0,opacity:y?O:1,height:"200px",transform:"translate("+Object(Li.r)(b)+", "+Object(Li.r)(v)+")"},A=it(o).options.zIndex;o._style=((r={})[no._EMBEDDED]=o._updateEmbeddedBlockStyle({position:"absolute",textAlign:"center",width:"100%",zIndex:A,backgroundColor:"",top:0,left:0,transform:"translate(0, 0)",minWidth:"auto",maxWidth:"auto",transitionProperty:"none",transitionDuration:0,boxShadow:"none",opacity:1}),r[no._FLOATING]=o._updateFlyBlockStyle(_),r);var w=Object(Wi.j)(c);o._strictFloatingWidth=parseFloat(l)||null,o._floatingWidthInPercents="%"===(""+l).trim().substr(-1)&&parseFloat(l)||null,(o._floatingPositionNode=w||o._floatingPositionNode)&&o._addDOMEventListener(window,"resize",function(){o._updateSlotSizeAndPosition()});var S=it(o).options,j=S.playerDesktopFactor,P=S.playerMobileFactor,C=S.playerDesktopStartFactor,E=S.playerDesktopStopFactor,D=S.playerMobileStartFactor,I=S.playerMobileStopFactor;return o._playerFactor=Fi.f?P:j,o._playerStartFactor=Fi.f?D:C,o._playerStopFactor=Fi.f?I:E,o._updateSlotSizeAndPosition(),o}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._updateEmbeddedBlockStyle=function(t){return t||{}},i._updateFlyBlockStyle=function(t){return t||{}},i._replaceModuleInnerNode=function(){},i.isFloatingMode=function(){return this._mode===no._FLOATING},i._initDOM=function(){t.prototype._initDOM.call(this);var e=this.moduleNode,i=this.insideIframe,r=this.options,o=r.floatingElement,n=r.showObservableNode;if(i)throw Error(this[ro]+"._initDOM(). Unable create flyRoll inside iframe");var a=o&&Object(Wi.j)(o);this._floatingPositionNode=a||function(){return this._addDOMNode(Object(Wi.a)(document.body,"div",{position:"fixed",zIndex:-1,top:0,bottom:0,left:0,right:0}))}.call(this),!0===n&&Object(Wi.b)(this._floatingPositionNode,{outlineWidth:"1px",outlineColor:"magenta",outlineStyle:"solid"}),Object(Wi.b)(e,{zIndex:null}),this._updateSlotSizeAndPosition()},i._vpaidInitAd=function(){var e=this,i=t.prototype._vpaidInitAd.call(this);this._updateFakeVideoSlot();var r=this.options,o=r.canFlyModeStart,n=r.moduleAPI,a=n.inState,s=n.resumeAd,d=n.startAd,c=n.addVPAIDEventListener;c&&c("AdLoaded",function(){e._updateSlotClass(),e.isFloatingMode()||(e._updateModuleSize(),e._updateModuleNodeSize())},this),o&&c("AdLoaded",function(){e._mode=no._FLOATING;var t=e._addVPAIDEventListener(e,"applyModuleStateCheckPausedAndPlaying",function(){this._removeVPAIDEventListener(this,"applyModuleStateCheckPausedAndPlaying",t),this.isFloatingMode()&&(this._setMode(no._FLOATING),a(["paused","pausing"])?s():!a("playing")&&d())}.bind(e))},this);var l=function(){return e.isFloatingMode()&&e._setMode(no._EMBEDDED)};return c&&c("AdVideoComplete",l,this),c&&c("AdSkipped",l,this),i},i._getNodeForObservableChecking=function(){return this._fakeVideoSlot||this.moduleNode},i._updateModuleNodeSize=function(e){void 0===e&&(e=!1);var i=this._floatingModeWasExists,r=this.options.canFlyModeStart;if(!this.isFloatingMode())if(r&&!i)t.prototype._updateModuleNodeSize.call(this,!0);else{var o=(t.prototype._updateModuleNodeSize.call(this,e||r&&i)||{}).height;o&&this._updateSlotSizeAndPosition(o)}},i._applyModuleStateCheckPausedAndPlaying=function(e){var i=e.intersectionRatio,r=e.moduleSquare,o=e.boundingClientRect,n=this._playerStartFactor,a=this._playerStopFactor,s=this._playerFactor,d=this._floatingModeWasExists,c=this._moduleWasClosed,l=this.moduleNode,u=this.options,h=u.flyBelowOnly,p=u.canFlyModeStart,f=u.moduleAPI,g=f.inState,b=f.resumeAd,m=f.pauseAd;if(!c){var v=this.isFloatingMode();v||(this.maxEmbeddedIntersectionRatio=Ei(i,this.lastEmbeddedIntersectionRatio||0));var y=g&&!g("loaded")||p,O=g&&g(["paused","pausing"]),_=g&&g("playing"),A=g&&g("afterplay"),w=l&&l.getBoundingClientRect()||{},S=w.top,j=w.bottom,P=w.width;if(!v&&h){var C=document.documentElement.clientHeight;if(j>=C&&S<=C&&0<S||!i&&j>=C&&S>=C)return void t.prototype._applyModuleStateCheckPausedAndPlaying.call(this,{intersectionRatio:i})}O&&(v||i>=n)&&b&&b(),!v&&_&&this.maxEmbeddedIntersectionRatio<a&&!d&&m&&m();var E=r&&!Object(Li.o)(P,o.width,10),D=p||this.lastEmbeddedIntersectionRatio>=s||this.lastEmbeddedIntersectionRatio>=n&&i<this.lastEmbeddedIntersectionRatio||d;y&&v&&i>=s&&E?this._setMode(no._EMBEDDED):y&&!v&&!A&&i<s&&E&&D&&this._setMode(no._FLOATING),v||(this.lastEmbeddedIntersectionRatio=i),this.trigger("applyModuleStateCheckPausedAndPlaying")}},i._moduleResizeAd=function(e,i){var r=this._mode;if(this._updateSlotClass(),r===no._FLOATING){var o=this._strictFloatingWidth,n=this._floatingWidthInPercents,a=this.moduleInnerNode,s=this.options.moduleAPI,d=s.resizeAd,c=s.setWrapperSize,l=s.getControlNode,u=l("wrapper"),h=Object(Li.h)(u),p=h.borderTop,f=h.paddingTop,g=h.borderBottom,b=h.paddingBottom,m=h.marginTop,v=window.getComputedStyle(e),y=!n&&o||Ci(e.clientWidth-parseFloat(v.paddingLeft)-parseFloat(v.paddingRight));n&&(y*=n/100);var O=Di(window.innerWidth,y),_=Di(window.innerHeight,Ci(O*i)),A=function(t,e,i,r){function o(i){e=Ci((t=i)*r)}function n(i){t=Ci((e=i)/r)}var a=this.options,s=a.floatingMinHeight,d=a.floatingMaxHeight,c=a.floatingMinWidth,l=a.floatingMaxWidth,u=a.moduleAPI.getIndents,h=u&&u(),p=h.top+h.bottom,f=i.clientWidth,g=document.documentElement,b=g.clientHeight,m=g.clientWidth,v=rt(l,f),y=rt(c,f),O=rt(d,b),_=rt(s,b);return y&&t<y&&o(y),_&&e+p<_&&n(_-p),v&&t>v&&o(v),m&&t>m&&o(m),O&&e+p>O&&n(O-p),{width:t,height:e}}.call(this,O,_,e,i),w=A.width,S=A.height;d&&d(w,S);var j=(S||0)+(p||0)+(g||0)+(f||0)+(b||0);Object(Wi.b)(a,{width:Object(Li.r)(w),height:Object(Li.r)(j+(m||0))}),c(j);var P=(this.options||{}).setSizeByMedia;if(Object(Li.s)(P)){var C=l("vpaidSlot");C&&Object(Wi.b)(C,{position:"absolute",top:0,left:0,width:"100%",height:"100%",textAlign:"center"})}}else t.prototype._moduleResizeAd.call(this,e,i)},i._getTopLeftForEmbedded=function(){return{top:0,left:0}},i._updateSlotSizeAndPosition=function(t){void 0===t&&(t=null);var e=this._mode,i=this.moduleNode,r=this.options,o=r.forceEnableVerticalContent,n=r.flyExpandingDuration,a=r.moduleAPI,s=a.getIndents,d=a.getAdAspectRatio,c=this.moduleInnerNode;if(c&&null!=e)if(Object(Wi.b)(c,this._style[e]),this._mode===no._EMBEDDED){var l=s(),u=t||l.outsideHeight,h=this._getTopLeftForEmbedded(),p=h.top,f=h.left,g=Object(Li.h)(i),b=g.clientWidth,m=g.marginRight,v=g.marginLeft,y=i.style,O=y.marginLeftStr,_=y.marginRightStr,A=b+v+m-(parseFloat(O)||0)-(parseFloat(_)||0);c&&Object(Wi.b)(c,{top:Object(Li.r)(p),left:Object(Li.r)(f),visibility:""}),void 0!==u&&c&&Object(Wi.b)(c,{height:Object(Li.r)(u)}),void 0!==A&&c&&Object(Wi.b)(c,{width:Object(Li.r)(A)})}else{var w=d&&d();Fi.f||!(1<w)||o||(w=9/16);var S=this._getWidthNode();this._moduleResizeAd(S,w);var j=function(){var t=this._style,e=this._floatingPositionNode,i=this.options,r=i.floatingHCenter,o=i.floatingTop,n=i.floatingRight,a=i.floatingBottom,s=i.floatingLeft,d=i.moduleAPI,c=d.getAdHeight,l=d.getAdWidth,u=d.getIndents,h=c&&c(),p=l&&l();if(!(h&&p&&e&&t))return null;var f=e.getBoundingClientRect(),g=f.width,b=f.height,m=f.left,v=f.top,y=u&&u(),O=y.top,_=y.outsideWidth,A=h+O,w="";return r?w+="translateX("+Object(Li.r)((g-_)/2)+") ":s?w+="translateX("+Object(Li.r)(s)+") ":n&&(w+="translateX(calc("+Object(Li.r)(g)+" - "+Object(Li.r)(n)+" - "+Object(Li.r)(_)+")) "),o?w+="translateY("+Object(Li.r)(o)+") ":a&&(w+="translateY(calc("+Object(Li.r)(b)+" - "+Object(Li.r)(a)+" - "+Object(Li.r)(A)+")) "),{width:Object(Li.r)(_),height:Object(Li.r)(A),top:Object(Li.r)(v),left:Object(Li.r)(m),transform:w}}.call(this)||{};Object(Wi.b)(c,j),n&&setTimeout(function(){return Object(Wi.b)(c,{transitionProperty:"opacity",transitionDuration:Object(Li.q)(n),opacity:1})},1)}},i._updateSlotClass=function(){var t=this._mode,e=this.options,i=e.playerEmbeddedClass,r=e.playerFloatingClass,o=e.moduleAPI.getControlNode,n=o&&o("slot");n&&(t===no._FLOATING?(n.classList.remove(i),n.classList.add(r)):(n.classList.remove(r),n.classList.add(i)))},i._getWidthNode=function(){var t=this._mode,e=this._floatingPositionNode,i=this.widthNode,r=this.options.moduleAPI.getControlNode;return(t===no._FLOATING?e:i)||r&&r("slot")},i._setMode=function(e){if(!this._moduleWasClosed){this.isFloatingMode()||this._updateFakeVideoSlot(),this._mode=e;var i=e===no._FLOATING;t.prototype._resetObservableNodes.call(this),this._updateModuleSize(),this._updateModuleNodeSize(),this._updateSlotSizeAndPosition(),i&&(this._floatingModeWasExists=!0),this._updateSlotClass(),this.trigger("vnFormatStateChanged",{src:io,isFloating:i})}},i._destroy=function(){this._resetInstanceEIsExists(),t.prototype._destroy.call(this)},i._resetInstanceEIsExists=function(){ao===this&&(ao=!1)},i._setInstanceEIsExists=function(){ao||(ao=this)},i._createReachInventoryFactory=function(e,i){var r=this.options,o=r.canFlyModeStart,n=r.moduleAPI.getMainModuleId,a=n&&n();return o?{id:("vn-visible-inventory-mark_"+this+"_"+so+++" vn-module__"+a).replace(/\s+/g,"-").replace(/(\[|])/g,"_"),waiterCreator:function(){return Promise.resolve()},moduleNode:i}:t.prototype._createReachInventoryFactory.call(this,e,i)},i._getWatchVisibilityThreshold=function(){var t=this._playerFactor,e=this._playerStartFactor,i=this._playerStopFactor,r=[];return(t||0===t)&&(r.push(t),.01<t&&r.push(t-.01),.01<1-t&&r.push(t+.01)),null!=e&&r.push(e),i!==e&&null!=i&&r.push(i),r.push(e),r.length&&(0!==t&&r.push(0),1!==t&&r.push(1)),r.sort()},i._closeModule=function(e){void 0===e&&(e={});var i=this._mode,r=this.options.moduleAPI.getControlNode;if(this._resetInstanceEIsExists(),i===no._FLOATING){var o=r&&r("slot");Object(Wi.b)(o,{display:"none"})}t.prototype._closeModule.call(this,e)},i._updateFakeVideoSlot=function(){var t=this._fakeVideoSlot,e=this.moduleNode,i=this.options,r=i.showObservableNode,o=i.moduleAPI.getControlNode,n=t;Object(Wi.p)(n)||(this._fakeVideoSlot=n=document.createElement("div"),Object(Wi.b)(n,{position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0}),e.insertBefore(n,e.firstElementChild),!0===r&&(Object(Wi.b)(this._floatingPositionNode,{outlineWidth:"1px",outlineColor:"lightpink",outlineStyle:"solid"}),n.classList="fakeVideoSlot"));var a=o&&o("vpaidSlot"),s=a&&Object(Wi.h)(a,n)||{};return Object(Wi.b)(n,{top:Object(Li.r)(s.top||0)}),n},i.toString=function(){return io},e}(Qr),lo="Format[FlyRollTop]",uo={embeddedPosition:"absolute",zIndex:2147483646},ho=function(t){function e(e,i){var r,o=i&&i.ancestor&&i.ancestor+":"+lo||"::"+lo;return(r=t.call(this,e,nt({},uo,{},i,{ancestor:o}))||this)[lo]=o,r}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._updateFlyBlockStyle=function(t){return nt({},t,{right:0,bottom:0})},i._updateEmbeddedBlockStyle=function(t){return nt({},t,{position:"absolute",height:0,overflow:"hidden"})},i._replaceModuleInnerNode=function(){this.moduleInnerNode=Object(Li.k)(window).document.body.appendChild(this.moduleInnerNode.parentElement.removeChild(this.moduleInnerNode))},i._getTopLeftForEmbedded=function(){return function(t){if(!t)return{top:0,left:0};var e=t.getBoundingClientRect(),i=document,r=i.body,o=i.documentElement,n=window.pageYOffset||o.scrollTop||r.scrollTop,a=window.pageXOffset||o.scrollLeft||r.scrollLeft,s=o.clientTop||r.clientTop||0,d=o.clientLeft||r.clientLeft||0;return{top:e.top+n-s,left:e.left+a-d}}(this.moduleNode)},i.toString=function(){return lo},e}(co),po="Format[FlyRollAlwaysFly]",fo={embeddedPosition:"absolute",zIndex:2147483646,ignoreCreatePlayerElement:!0,canFlyModeStart:!0},go=function(t){function e(e,i){var r,o=i&&i.ancestor&&i.ancestor+":"+po||"::"+po;return(r=t.call(this,e,function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?st(Object(e),!0).forEach(function(i){dt(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):st(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({},fo,{},i,{ancestor:o}))||this)[po]=o,r}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._getTopLeftForEmbedded=function(){return{top:0,left:0}},i._setMode=function(e){e===no._FLOATING&&(this._switchOffObservableAdvancedNode(),t.prototype._setMode.call(this,e))},i._updateFakeVideoSlot=function(){},i._updateModuleNodeSize=function(){},i._initDOM=function(){t.prototype._initDOM.call(this);var e=this.moduleNode;Object(Wi.p)(e)&&Object(Wi.b)(e,{height:0})},i.toString=function(){return po},e}(ho),bo="Format[FlyRollRegular]",mo={zIndex:1,embeddedPosition:"relative"},vo=function(t){function e(e,i){var r,o=i&&i.ancestor&&i.ancestor+":"+bo||"::"+bo;return(r=t.call(this,e,lt({},mo,{},i,{ancestor:o}))||this)[bo]=o,r}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._updateEmbeddedBlockStyle=function(t){return lt({},t,{position:"absolute"})},i._getTopLeftForEmbedded=function(){return{top:0,left:0}},i.toString=function(){return bo},e}(co),yo={"Loading video...":" ...","Skip ad in {{x}} sec":"   {{x}} ","{{x}} sec":"{{x}} ","Going after":" ","Learn more":"",Advertisement:"","Watch video":" ","Watch video<br/>after ad":"</br> ","Pull to skip<br/>{{x}}":",<br/> <br/>{{x}}","Push to watch<br/>360 video":",  <br/>360- ","The ad will end in {{x}} sec":"   {{x}} "},Oo={ru:yo},_o=!1,Ao="en",wo=function(t){for(var e=String.raw,i=arguments.length,r=Array(1<i?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if(_o||function(){var t=(navigator.language||navigator.userLanguage).substr(0,2);_o=!0,Oo[t]&&(Ao=t)}(),"en"===Ao){if(e)return e(t,r);if(!Oo[Ao]){var n=Oo[Ao]={};Object.keys(yo).forEach(function(t){n[t]=t})}}var a=t.join(""),s=Oo[Ao],d="";return Object.keys(s).forEach(function(t){d||t.replace(/{{x}}/g,"")!==a||(d=s[t],r&&r.forEach(function(t){d=d.replace(/{{x}}/g,t)}))}),d||e(t,r)},So=i(23),jo=i.n(So),Po=i(24),Co=i.n(Po),Eo="Format[SlideRoll]",Do={playerElement:null,playerAfter:null,playerBefore:null,playerFactor:.5,closeFactor:.3,transitionDuration:0},Io={videoSlot:{boxShadow:"0 0 20px 5px rgba(0, 0, 0, 0.5)"},title:{top:"10px",left:"10px",padding:"5px 10px",lineHeight:"15px",color:"white",backgroundColor:"rgba(0, 0, 0, 0.289)",borderRadius:"3px",cursor:"default",pointerEvents:"none"},logo:{top:"5px",right:"5px",bottom:"auto",left:"auto"},play:null,skipAd:null,skipAdCountdown:{display:"none",position:"absolute",top:"auto",right:"auto",bottom:"5px",left:"50%",width:"160px",margin:"0 auto 5px auto",padding:"5px",borderRadius:"3px",backgroundColor:"rgba(0, 0, 0, 0.7)",transform:"translateX(-50%)",textAlign:"center"},subtitle:{bottom:"25%"}},To=function(t){function e(e,i){var r;if(!Fi.f)throw new Error("Mobile not detected");return(r=t.call(this,e,function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?pt(Object(e),!0).forEach(function(i){ft(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):pt(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({},Do,{},i,{ancestor:Eo}))||this).waitingForInitialScroll=!0,r.onResize=function(){this._updateModuleSize()}.bind(gt(r)),r.onScroll=function(){var t=this._getDimensions(),e=t.moduleTop,i=t.visiblePercent,r=this.options.closeFactor;if(this._updateModuleState(),fr||gr||!(i>1-r)||window.scrollTo(window.scrollX,e),Fi.e){var o=this.module._getControlNode("volume"),n=.6*(window.innerHeight-document.querySelector("html").clientHeight);Object(Wi.b)(o,{marginBottom:n+"px"})}}.bind(gt(r)),r.onTouchEnd=function(){fr=!1,this._removeDOMEventListener(window,"touchend",this.onTouchEnd),this._removeDOMEventListener(this.wrapper,"touchend",this.onTouchEnd);var t=this.module,e=this.options.closeFactor,i=this._getDimensions(),r=i.visiblePercent,o=i.moduleTop;ki.b.none(Eo+" updateModuleState("+r+") "+t.state),this.waitingForInitialScroll&&r>e&&(this._scrollTo(o),this.waitingForInitialScroll=!1),this._updateModulePosition(),this._updateModuleState()}.bind(gt(r)),r.onTouchStart=function(){fr=!0,gr=null,this._addDOMEventListener(window,"touchend",this.onTouchEnd),this._addDOMEventListener(this.wrapper,"touchend",this.onTouchEnd)}.bind(gt(r)),r._scrollTo=function(t,e){var i;e&&(br=e),fr||gr||(gr=t,window.requestAnimationFrame(function t(e){if(void 0===e&&(e=0),(!fr||br)&&gr){var r=Di(1,(e-(i=i||e))/1e3*2),o=(gr-window.scrollY)*r;if(0<r&&.05>Pi(o))return br&&br(),window.scrollTo(window.scrollX,gr),br=null,void(gr=null);window.scrollTo(window.scrollX,Ci(window.scrollY+o)),window.requestAnimationFrame(t)}})),gr=t}.bind(gt(r)),r}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._initDataXml=function(){var t=this;return new Promise(function(e){var i=t.module,r=t.options,o=window.innerWidth,n=T(r,""+t),a=n.moduleNode,s=n.moduleInnerNode;t.moduleNode=t._addDOMNode(a),t.moduleInnerNode=t._addDOMNode(s);var d=t.slot=t._initSlotNode();Object(Wi.b)(a,{position:"relative"}),Object(Wi.b)(s,{clip:"rect(0,0,0,0)"});var c=a.getBoundingClientRect(),l=c.left,u=c.right;Object(Wi.b)(a,{marginLeft:"-"+l+"px",marginRight:"-"+(o-u)+"px"}),Object.keys(Io).forEach(function(t){var e=Io[t];i._setControlData(t,{css:e})}),i._setControlData("logo",{content:jo.a}),i._setControlData("slot",{node:d}),t._addVPAIDEventListener(i,"AdLoaded",function(){var t=this.module,e=this.slot,i=t.getAdAspectRatio();if(!i)throw new Error(Eo+" Invalid aspect ratio  ("+i+")");var r=t._getControlNode("iframe");this.wrapper=t._getControlNode("wrapper"),Object(Wi.b)(r,{position:"absolute",left:0,bottom:0,width:"100%"}),Object(Wi.b)(e,{display:"",transform:"translate3d(0,0,0)"}),this._createSlideToSkipAd(t),this._addDOMEventListener(window,"resize",this.onResize),this._addDOMEventListener(window,"scroll",this.onScroll),this._addDOMEventListener(window,"touchstart",this.onTouchStart,{passive:!0}),this._addDOMEventListener(window,"touchend",ko,{passive:!0}),this._addDOMEventListener(this.wrapper,"touchstart",this.onTouchStart,{passive:!0}),this._addDOMEventListener(this.wrapper,"touchend",ko,{passive:!0}),this._updateModuleState(),this._updateModuleSize()}.bind(t)),t._addVPAIDEventListener(i,"AdResumed",function(){this._updateModuleState()}.bind(t)),t._addVPAIDEventListener(i,"AdVideoStart",function(){this._updateModuleSize(),this._updateModulePosition(),this._updateModuleState()}.bind(t)),t._addVPAIDEventListener(i,"AdSkippableStateChange",function(){this.module.getAdSkippableState(),this._updateModuleState()}.bind(t)),t._addVPAIDEventListener(i,"AdStopped",function(){var t=this,e=this.module,i=this._getDimensions(),r=i.visiblePercent,o=i.moduleBottom;0<r?(pr=function(){fr=!1,t._scrollTo(o,function(){e._destroy()})},!fr&&ko()):e._destroy()}.bind(t)),t._addVPAIDEventListener(i,"AdDestroyed",function(){return t._destroy()}),e()})},i._destroy=function(){t.prototype._destroy.call(this);var e=this._getDimensions().moduleTop;window.scrollTo(window.scrollX,e),Object.assign(this,{onScroll:null,onResize:null,onTouchEnd:null,onTouchStart:null,module:null,moduleNode:null,moduleInnerNode:null,slot:null,_scrollTo:null})},i._createSlideToSkipAd=function(){var t=this.module,e=t._getControlNode("wrapper"),i=Object(Wi.a)(e,"div",{display:"none",position:"absolute",zIndex:5,top:"auto",right:"auto",bottom:"10px",left:"50%",width:"160px",margin:"0 auto",padding:"5px",borderRadius:"3px",backgroundColor:"rgba(0, 0, 0, 0.7)",transform:"translateX(-50%)",textAlign:"center",lineHeight:1,pointerEvents:"none"},wo(ht(),Co.a)),r=function(){var e=t.getAdSkippableState();Object(Wi.b)(i,{display:e?"":"none"})};r(),this._addVPAIDEventListener(t,"AdSkippableStateChange",r),t._setControlData("slideToSkipAd",{node:i})},i._initSlotNode=function(){var t=this.moduleInnerNode;return Object(Wi.a)(t,"div",{position:"fixed",zIndex:2147483647,left:0,bottom:0,backgroundColor:"#000",transform:"translate3d(0,0,0)"})},i._updateModuleState=function(){var t=this.module,e=this.options,i=e.playerFactor,r=e.closeFactor,o=this._getDimensions(),n=o.visiblePercent,a=o.moduleTop;(ki.b.none(Eo+" updateModuleState("+n+") "+t.state),!gr&&!fr&&this.waitingForInitialScroll&&n>r&&(this._scrollTo(a),this.waitingForInitialScroll=!1),t._inState("loaded")&&n>i&&t.startAd(),t._inState(["paused","pausing"])&&n>i&&t.resumeAd(),t._inState("playing")&&n<i&&t.pauseAd(),t._inState("playing"))&&(t.getAdSkippableState()||window.scrollTo(window.scrollX,a))},i._updateModulePosition=function(){var t=this.module,e=this.options.closeFactor,i=this._getDimensions(),r=i.visiblePercent,o=i.moduleTop,n=i.viewportTop;!fr&&t._inState("playing")&&r>1-e&&this._scrollTo(o),0===r&&o<n&&t.skipAd()},i._updateModuleSize=function(){var t=this.module,e=this.moduleNode,i=this.moduleInnerNode,r=this.slot,o=window,n=o.innerWidth,a=o.innerHeight;Object(Wi.b)(i,{clip:"rect(0,"+n+"px,"+a+"px,0)"}),Object(Wi.b)([e,r],{width:n+"px",height:a+"px"}),t.resizeAd(n,a)},i._getDimensions=function(){var t=this.moduleNode,e=window,i=e.scrollY,r=e.innerWidth,o=e.innerHeight,n=o,a=i,s=i+o,d=a+t.getBoundingClientRect().top,c=Ei(a,d),l=Di(s,d+n),u=Ei(0,Di(n,l-c));return{viewportWidth:r,viewportHeight:n,viewportTop:a,viewportBottom:s,moduleHeight:n,moduleTop:d,moduleBottom:d+n,visibleTop:c,visibleBottom:l,visibleHeight:u,visiblePercent:n&&u/n}},i.toString=function(){return Eo},e}(Rr),ko=function(){pr&&pr(),pr=null},xo=i(25),No=i.n(xo),Mo="Format[CollapsingThumbnail]",Ro=500,Vo={left:"5%",top:"67%",width:"25%",boxShadow:"0 0 10px rgba(0, 0, 0, 0.5)",transitionDuration:350,skipControlsTransitionDuration:350,skipControlsTransitionDelay:20,getThumbnailTimeout:500,countdownBackgroundColor:"#d3d3d3",countdownBackgroundHoverColor:"#aaa",countdownColor:"black",countdownHoverColor:"#eee",thumbnailBackgroundColor:"#f2f2f2"},Lo={wrapper:{paddingTop:0,paddingBottom:0},logo:{},skipAd:{top:0,right:0,padding:"5px",margin:"0 5px 5px 0"},skipAdCountdown:Wi.m,title:{top:0,right:"40px",left:"auto",margin:"5px 0",padding:"5px",color:"white",background:"rgba(0, 0, 0, 0.27)"},vnAfterplay:{marginTop:0},play:{marginTop:0}},Fo=function(t){function e(e,i,r,o){var n,a=i&&i.ancestor&&i.ancestor+":"+Mo||"Module::"+Mo;return(n=t.call(this,_t({},i,{ancestor:a}))||this)[Mo]=a,n.module=e,n._getCurrentPlayer=r,n._getVpaidDuration=o,n.options=_t({},Vo,{},i),n.TIMER_NAME=n.MODULE_ID+":RemainingTimeChange",n.adWidthPrev=null,n.mainTransitionWasStarted=!1,n.mainTransitionWasFinished=!1,n}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.init=function(){var t=this,e=this.module;St.call(this).then(function(){}),wt.call(this),this._addVPAIDEventListener(e,"AdStarted",Pt.bind(this,e)),this._addVPAIDEventListener(e,"AdVideoStart",function(){t.update.call(t,!0,!0,!0,!1)}),this._addVPAIDEventListener(e,"AdVideoComplete",function(){this._removeTimeout(this.TIMER_NAME)}.bind(this)),this._addVPAIDEventListener(e,"AdUserClose",this._removeTimeout.bind(this,this.TIMER_NAME)),this._addVPAIDEventListener(e,"AdSkipped",function(){t._removeTimeout(t.TIMER_NAME)}),this._addVPAIDEventListener(e,"AdStopped",function(){t._removeTimeout(t.TIMER_NAME)}),this._addVPAIDEventListener(e,"AdError",function(){this._removeTimeout(this.TIMER_NAME)}.bind(this))},i.update=function(t,e,i,r){function o(){var t=this;e&&function(t,e){var i=this._overlayControls,r=this._thumbnailWrapper,o=this.options,n=o.left,a=o.top,s=o.transitionDuration,d=0^parseFloat(t),c=0^parseFloat(e);this.overlayControlsTargetWidth=t,this.overlayControlsTargetHeight=e,Object(Wi.b)([i,r],{transitionDuration:s+"ms"}),setTimeout(function(){Object(Wi.b)(i,{left:n,top:a,width:Object(Li.r)(d),height:Object(Li.r)(c)}),Object(Wi.b)(r,{width:"66%"})},1),this._getCurrentPlayer()||Object(Wi.b)(i,{transition:"width 1ms, height 1ms",left:"-"+t})}.call(this,c,l),r&&jt.call(this,g),this._addTimeout("waitManualCheckId",function(){(function(){function t(){this.mainTransitionWasFinished?clearInterval(e):this.updateAfterTransitionEndWithBind({forceUpdate:!0})}var e;this.mainTransitionWasFinished||(t.call(this),e=setInterval(t.bind(this),500))}).call(t)},s+10)}var n=this;void 0===t&&(t=!1),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===r&&(r=!0);var a=this.module,s=this.options.transitionDuration,d=function(){var t=this.module,e=this.options.width,i=t.getAdWidth()*(parseInt(e,10)/100);return{blockWidth:i+"px",blockHeight:i/2.5+"px"}}.call(this),c=d.blockWidth,l=d.blockHeight,u=Ct.call(a),h=u.time,p=u.duration,f=u.adDuration,g=0>=h&&p<=f;this.mainTransitionWasStarted||this.adWidthPrev===c&&!t||(this.mainTransitionWasStarted=!0,i&&function(t){var e=this._thumbnailDefaultText;return St.call(this).then(function(i){return e&&Object(Wi.b)(e,{fontSize:parseInt(t,10)/6+"px"}),i})}.call(this,l).then(function(){o.call(n)}).catch(function(){o.call(n)}),this.adWidthPrev=c)},i.setZIndex=function(t){this._overlayControls&&(this._overlayControls.style.zIndex=t)},e}(Nr.a),Wo="Format[ViqeoPlayerRoll]",zo={playerPlaybackClass:"vn-playback-viqeo-roll",destroyTimeout:5e3,playerDesktopStartFactor:.5,playerDesktopStopFactor:0,playerMobileStartFactor:.5,playerMobileStopFactor:0},Ho={},Bo=function(t){function e(e,i){var r;if(i=Dt({},zo,{},i,{ancestor:Wo}),(r=t.call(this,e,i)||this).slot=e._getControlNode("slot"),!r.slot)throw Error(Wo+" player don't give the slot");Object(Wi.b)(r.slot,{display:"block",opacity:0}),r._initModule();var o=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r).options,n=o.playerDesktopStartFactor,a=o.playerDesktopStopFactor,s=o.playerMobileStartFactor,d=o.playerMobileStopFactor;return r._startFactor=parseFloat(Fi.f?s:n),r._stopFactor=parseFloat(Fi.f?d:a),r.vqPlayer=e.environmentVars.vqPlayer,r.scrollNode=Object(Wi.j)(i.scrollElement)||window,r.collapsingThumbnail=new Fo(e,i,function(){return r.vqPlayer}),r}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.isFloatingMode=function(){var t=this.vqPlayer;return!(!t||!t.inMode("flying"))},i._initModule=function(){var t=this,e=this.module,i=this.slot;e._applyLayout(Dt({},Lo,{},Ho)),this._addVPAIDEventListener(e,"AdLoaded",function(){var e=(t.options.moduleAPI||{}).isVpaidJs;e&&e()&&(t.collapsingThumbnail.options.transitionDuration=0),t.collapsingThumbnail.init()}),this._addVPAIDEventListener(e,"AdVideoStart",function(){Object(Wi.b)(t.slot,{opacity:1}),Object(Wi.b)(i,{zIndex:1e4})})},i.setZIndex=function(t){var e=this.collapsingThumbnail;e&&e.setZIndex(t)},i._updateModuleState=function(){var t=this.module,e=this._startFactor,i=this._stopFactor;Object(Li.m)(this.slot).then(function(r){var o=r.intersectionRatio;t._inState(["paused","pausing"])&&o>=e&&t.resumeAd(),t._inState("playing")&&o<i&&t.pauseAd()})},i._vpaidInitAd=function(){var e=this.scrollNode,i=this.options.moduleAPI||{},r=i.addVPAIDEventListener,o=i.extendEnvironmentVars;return o&&o({forceAspectRatio:!Fi.f}),r("AdLoaded",Tt.bind(this),this),r("AdStarted",function(){this._updateModuleState()}.bind(this),this),r("AdVideoStart",function(){kt.call(this,!0),this._updateModuleState()}.bind(this),this),r("AdStopped",function(){kt.call(this,!1)}.bind(this),this),r("AdDestroyed",function(){var t=this;kt.call(this,!1);var e=this.options.destroyTimeout;setTimeout(function(){return t._destroy()},e)}.bind(this),this),r("AdSizeChange",function(){var t=this.module,e=this.collapsingThumbnail;t._inState(["pausing","paused","resuming","playing"])&&e.update(!0)}.bind(this),this),this._addDOMEventListener(e,"scroll",function(){this._updateModuleState()}.bind(this)),t.prototype._vpaidInitAd.call(this)},i.getModuleOptions=function(){return{isInsideTextContent:!1,disableHoverAudio:!0,startingVolume:0,vpaidJsVideoSlotShouldBeMuted:!0}},i.hasReachInventoryFactory=function(){return!0},i.getReachInventoryFactory=function(){var t=this;return{markNode:"",waiterCreator:function(){return t._waitAdvStart()},destroy:null,id:"vn-visible-inventory-mark_"+this}},i._waitAdvStart=function(){var t=this;return new Promise(function(e){(function(t,e){this.vqPlayer.subscribe(t,e)}).call(t,e,"advStart")})},i._getModuleDimensions=function(){var t=this.vqPlayer,e=t.getModuleDimensions(),i=e.viewportHeight,r=e.viewportTop,o=e.viewportBottom,n=e.moduleTop;return{viewportHeight:i,viewportWidth:t.getSize().width,viewportTop:r,viewportBottom:o,moduleTop:n}},i.toString=function(){return Wo},e}(Rr),Uo="Format[AmpRoll]",qo=Uo,Xo={playerDefaultClass:"vn-player",playerPlaybackClass:"vn-playback",playerSelectorPercent:"100%",widthElement:null,playerElement:"#c",lookupElement:"#c",playerSelectorTotalMin:1,playerDesktopStartFactor:.6,playerDesktopStopFactor:.6,playerMobileStartFactor:.5,playerMobileStopFactor:.2,preloadDistance:190,maxSegments:1,minSegments:0,minDistance:1,destroyTimeout:5e3,doNotWatchVisibility:!0},Go=function(t){function e(e,i){var r,o=i&&i.ancestor&&i.ancestor+":"+Uo||"Module::"+Uo;(r=t.call(this,e,function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?xt(Object(e),!0).forEach(function(i){Nt(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):xt(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({},Xo,{},i,{ancestor:o}))||this)[qo]=o,r.lastPostponedAction=null,r.adLoaded=!1,r.intersectionRatio=0,r.unlistenObserveIntersection=null,window.context.observeIntersection&&(r.unlistenObserveIntersection=window.context.observeIntersection(r._ampObserveIntersection.bind(Mt(r))));var n=new Li.a;return r.visibleInventoryPromise=n.promise,r.visibleInventoryResolve=n.resolve,(0,Mt(r).options.moduleAPI.setControlData)("wrapper",{css:{position:"absolute"}}),r}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._requestDataXml=function(t){return Promise.resolve(t)},i._vpaidInitAd=function(){var e=this.module;this._addVPAIDEventListener(e,"AdLoaded",function(){var t=this;window.context.reportRenderedEntityIdentifier&&window.context.reportRenderedEntityIdentifier("videonow"),this.adLoaded=!0;var e=this.lastPostponedAction;e&&e(),setTimeout(function(){return t._updateModuleNodeSize()},1)}.bind(this)),this._addVPAIDEventListener(e,"AdStarted",function(){var t=this;if(window.context.renderStart){var e=this.options.moduleAPI.getIndents,i=e&&e()||{},r=i.outsideWidth,o=i.outsideHeight;r&&o&&(ki.b.log(this[qo]+".onAdStarted() renderStart("+r+", "+o+")",2,"green"),window.context.onResizeSuccess(function(){setTimeout(function(){return t._updateModuleNodeSize()},1)}),window.context.renderStart({width:r,height:o}))}}.bind(this));var i=t.prototype._vpaidInitAd.call(this);return Object(Fr.e)(e.environmentVars,{forceAspectRatio:!1}),i},i.abort=function(){window.context.noContentAvailable&&window.context.noContentAvailable()},i._destroy=function(){this.unlistenObserveIntersection&&this.unlistenObserveIntersection(),t.prototype._destroy.call(this)},i._ampObserveIntersection=function(t){var e=this;t.forEach(function(t){var i=t.intersectionRatio;0<i&&e.visibleInventoryResolve(),ki.b.none(e[qo]+"._ampObserveIntersection() intersectionRatio="+i+" this.intersectionRatio="+e.intersectionRatio),e.intersectionRatio!==i&&(e.intersectionRatio=i,ki.b.none(e[qo]+"._ampObserveIntersection() intersectionRatio="+i+" this.adLoaded="+e.adLoaded),e.adLoaded?e._updateModuleState():e.lastPostponedAction=e._updateModuleState.bind(e))})},i.hasReachInventoryFactory=function(){return!0},i.getReachInventoryFactory=function(){var t=this;return{id:"vn-visible-inventory-mark_"+this,waiterCreator:function(){return t.visibleInventoryPromise},destroy:null,markNode:""}},i._moduleResizeAd=function(t,e){var i=this.options.moduleAPI,r=i.resizeAd,o=i.getIndents,n=o&&o()||{},a=n.top,s=n.bottom,d=window.getComputedStyle(t),c=Di(window.innerWidth,Ci(t.clientWidth-parseFloat(d.paddingLeft)-parseFloat(d.paddingRight))),l=Di(window.innerHeight-a-s,Ci(c*e));r&&r(c,l)},i.canExecuteNoAd=function(){return!0},i._getModuleShown=function(){return this.intersectionRatio},i._updateModuleState=function(){var t=this.intersectionRatio;this._applyModuleState({intersectionRatio:t,moduleSquare:1})},i._updateModuleNodeSize=function(){var t=this.moduleNode,e=this.options.moduleAPI,i=e.getControlNode,r=e.getIndents,o=t&&t.parentElement||{},n=o.clientWidth,a=o.clientHeight;Object(Wi.b)(t,{width:Object(Li.r)(n),height:Object(Li.r)(a)});var s=i&&i("iframe");Object(Wi.b)(s,{position:"absolute",left:0,top:0,width:"100%",height:"100%"});var d=(r&&r()||{}).outsideHeight,c=i&&i("wrapper"),l=c&&c.parentElement;if(l){var u=Object(Li.h)(l).height;u=Di(a,u),c&&u&&Object(Wi.b)(c,{top:Object(Li.r)(u/2-d/2)})}},i.getModuleOptions=function(){return{isInsideTextContent:!0,canExecuteNoAd:!0}},i.toString=function(){return Uo},e}(Qr),Yo="Format[Overlay]",Jo={},Qo=function(t){function e(e,i){var r;if(!Fi.f)throw new Error("Mobile not detected");if(!Zo)throw new Error("Fixed positioning support not detected");r=t.call(this,e,function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?Rt(Object(e),!0).forEach(function(i){Vt(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Rt(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({},Jo,{},i||{},{ancestor:Yo}))||this;var o=window,n=o.innerWidth,a=o.innerHeight,s=r.overlayNode=r._addDOMNode(Object(Wi.a)(document.body,"div",{visibility:"hidden",position:"fixed",zIndex:-1,top:0,left:0,width:n+"px",height:a+"px",background:"rgba(0, 0, 0, .9)"}));r._addDOMEventListener(s,"touchmove",Wi.c);var d=Object(Wi.a)(s,"div",{position:"absolute",top:0,right:0,bottom:0,left:0,width:"100%",height:"100%"});e._setControlData("underplay",{node:d});var c=r.slotNode=Object(Wi.a)(s,"div",{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:n+"px",height:"0px"}),l=Lt(r).options.moduleAPI.addVPAIDEventListener;return window.savedRequestAnimationFrame=null,r.savedRequestAnimationFrameCallbacks=[],e._setControlData("slot",{node:c}),l("AdLoaded",function(){this.module.startAd()}.bind(Lt(r)),Lt(r)),l("AdVideoStart",function(){var t=this;this._resize(),Object(Wi.b)(document.body,{overflow:"hidden"}),Object(Wi.b)(this.overlayNode,{visibility:"",zIndex:2147483647}),window.savedRequestAnimationFrame||(window.savedRequestAnimationFrame=window.requestAnimationFrame,window.requestAnimationFrame=function(e){t.savedRequestAnimationFrameCallbacks.push(e)})}.bind(Lt(r)),Lt(r)),l("vn_hideOverlayFormatWrapper",function(){r.hide()},Lt(r)),l("AdDestroyed",function(){this._close(),Object(Wi.b)(document.body,{overflow:""}),window.savedRequestAnimationFrame&&(window.requestAnimationFrame=window.savedRequestAnimationFrame,this.savedRequestAnimationFrameCallbacks.forEach(requestAnimationFrame),window.savedRequestAnimationFrame=null,this.savedRequestAnimationFrameCallbacks=[])}.bind(Lt(r)),Lt(r)),l("resize",function(){var t=this;(window.savedRequestAnimationFrame||requestAnimationFrame)(function(){return t._resize()})}.bind(Lt(r)),Lt(r)),l("VnVPAIDCreated",function(t){var e=t.vpaid,i=(this.options||{}).setSizeByMedia;if(Object(Li.s)(i)){var r=e&&e.getMediaInfo()||{},o=r.width,n=r.height;o&&n&&(this.forceInsideHeight=n,this.forceInsideWidth=o,this._resize())}}.bind(Lt(r)),Lt(r)),r}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._resize=function(){var t=this.module,e=this.overlayNode,i=this.slotNode,r=this.isFullscreen,o=window,n=o.innerWidth,a=o.innerHeight,s=t.getAdAspectRatio();r||Di(n*s,a);Object(Wi.b)(e,{width:n+"px",height:a+"px"}),Object(Wi.b)(i,{width:n+"px",height:a+"px"}),t.resizeAd(n,a,r);var d=this.forceInsideHeight,c=this.forceInsideWidth;if(d&&c){var l=t._getControlNode("vpaidSlot");l&&Object(Wi.b)(l,{position:"relative",display:"inline-block",verticalAlign:"middle",width:Object(Li.r)(Di(c,n)),height:Object(Li.r)(Di(d,a))})}},i.hide=function(){var t=this.overlayNode;t&&Object(Wi.b)(t,{height:0,opacity:0,zIndex:-1})},i._close=function(){var t=this.slotNode,e=this.overlayNode;Object(Wi.b)(t,{transition:"all 300ms ease-out"}),setTimeout(function(){Object(Wi.b)(t,{height:0,opacity:.5})},50),setTimeout(function(){Object(Wi.s)(e)},500)},i.getModuleOptions=function(){return{isInsideTextContent:!0,vpaidJsVideoSlotShouldBeMuted:!0}},i.fullscreenSwitchOn=function(){this.isFullscreen=!0},i.getModuleNode=function(){return this.overlayNode},i.getSlotNode=function(){return this.slotNode},i.toString=function(){return Yo},e}(Rr),Zo=function(){var t=!1;if(document.createElement){var e=document.createElement("div");if(e&&e.style){e.style.position="fixed",e.style.top="10px";var i=document.body;i&&i.appendChild&&i.removeChild&&(i.appendChild(e),t=10===e.offsetTop,i.removeChild(e))}}return t}(),Ko="::Formats",$o={vpaid:Vr,instream:Vr,contentroll:Qr,continuousroll:eo,flyroll:function(t,e){var i=e||{},r=i.alwaysFly,o=i.flyrollAbsTop;return!0===o||"true"===o?new ho(t,e):!0===r||"true"===r?new go(t,e):new vo(t,e)},slideroll:To,overlay:Qo,viqeoplayerroll:Bo,amproll:Go},tn=function(t,e,i){var r=t&&t.getAPI&&t.getAPI().logger||ki.b;if("string"==typeof e){var o=e.toLowerCase(),n=t.options,a=n&&n.amp;if(a){if("contentroll"!==o.toLowerCase())return null;o="amproll"}var s=$o[o];if(s){r.log(Ko+".getFormat("+e+" -> "+o+")");var d=t.format;d&&(r.log(Ko+" Destroying existing format"),d._destroy()),r.log(Ko+" Initializing format ("+e+" -> "+o+")");var c=t.options[o],l=t.getAPI(),u=Object(Fr.e)({},a?{}:i,c,{moduleAPI:l});return a&&(u.amp=!0),new s(t,u)}}return null},en=function(){function t(t){var e=t||{},i=e.destroyIframeAction,r=e.logger;this.logger=r||ki.b,this.destroyIframeAction=i,this._controlData=this._rootControlData={}}var e=t.prototype;return e.push=function(){this._controlData=Object.create(this._controlData)},e.pop=function(){if(this._controlData){var t=this._controlData;Object.prototype.hasOwnProperty.call(t,"iframe")&&t.iframe.node&&this.destroyIframeAction();var e=Object.getPrototypeOf(t);e&&(this._controlData=e)}},e.updateControlData=function(t,e,i){var r,o;Object(Fr.e)(this._controlData,((r={})[t]=e,r)),i&&Object(Fr.e)(this._rootControlData,((o={})[t]=e,o))},e.setControlData=function(t,e,i){if(e){var r=i?this._rootControlData:this._controlData;r||i||(r=this._controlData={}),r[t]="solid"===e[Fr.b]||Array.isArray(e)||"object"!=typeof e?e:Object(Fr.e)({},Object.prototype.hasOwnProperty.call(r,t)&&r[t]||{},e)}},e.getControlData=function(t,e,i,r){void 0===i&&(i=!1),r||(r=function(){return!0});for(var o,n,a,s=this._rootControlData,d=this._controlData,c=i?s:d;c&&((a=Object.prototype.hasOwnProperty.call(c,t)&&c[t])&&(void 0===o&&r(a)&&(o=e?null!=a[e]&&void 0!==a[e]?a[e]:void 0:a),o&&a[Fr.a]&&(n=e?a[e]:a)),void 0===n||!o);c=Object.getPrototypeOf(c));return Object(Fr.f)(void 0===n?o:n)},e.getControlRawUnionData=function(t,e,i){return Ft.call(this,t,e,i)},e.getControlUnionData=function(t,e,i){return Ft.call(this,t,e,i,Fr.f.bind(null))},e.getControlNode=function(t){var e=this.getControlUnionData(t);return e?e&&e.node:null},t}();"undefined"!=typeof exports&&(exports.ControlsDataStack=en);var rn,on="q1tracking",nn="::Plugin[noAdCallback]",an="::Plugin[ViewableImpressionChecker]",sn="timer",dn="period_checking_timer",cn="repeat_start_timer",ln=2e3,un=.5,hn={threshold:[un]},pn=function(t){function e(e){var i,r=e&&e.getAPI&&e.getAPI().logger||ki.b;return(i=t.call(this,{ancestor:an,logger:r})||this).module=e,i._checkingIsFinished=!1,i._observer=null,i._observerOptions=hn,i._addVPAIDEventListener(e,"AdImpression",function(){return i.start()}),i._addVPAIDEventListener(e,"AdPlaying",function(){return i.start()}),i._addVPAIDEventListener(e,"AdPaused",function(){return i.reset()}),i._addVPAIDEventListener(e,"AdVideoComplete",function(){return i.stop()}),i._addVPAIDEventListener(e,"AdDestroyed",function(){return i.stop()}),i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.start=function(t){var e=this;if(void 0===t&&(t=0),this._removeTimeout(cn),!(this._checkingIsFinished||t>=10)){this.reset();var i=this.module,r=i._getControlNode("videoSlot"),o=i._getControlNode("slot"),n=i._getControlNode("iframe"),a=o&&(o.clientHeight||parseInt(getComputedStyle(o).height,10))||0,s=r&&getComputedStyle(r)||{},d=r&&(r.clientHeight||parseInt(s.height,10))||0,c=!(!s.display||"none"===s.display),l=n&&(n.clientHeight||parseInt(getComputedStyle(n).height,10))||0,u=r&&c&&d?r:o&&a?o:n&&l?n:null;if(!u)return void this._addTimeout(cn,function(){return e.start(t+1)},50);if(window.IntersectionObserver)(this._observer=new IntersectionObserver(function(t){var e=this;t.forEach(function(t){var r=t.isIntersecting,o=t.intersectionRatio;r&&o>=un?e._addTimeout(sn,function(){i._trackUrls("ViewableImpression:viewable").then(function(){return e.logger.log(an+" ViewableImpression:viewable tracked",1)}),e.stop()},ln):e._removeTimeout(sn)})}.bind(this),this._observerOptions)).observe(u);else(function(){var t=!1;(function e(){var r=this;Object(Li.m)(u).then(function(o){o.intersectionRatio>=un?!t&&(t=!0,r._addTimeout(sn,function(){i._trackUrls("ViewableImpression:viewable").then(function(){return r.logger.log(an+" ViewableImpression:viewable tracked",1)}),r.stop()},ln)):(t=!1,r._removeTimeout(sn)),r._addTimeout(dn,e.bind(r),100)})}).call(this)}).call(this)}},i.stop=function(){this._removeTimeout(dn),this._checkingIsFinished=!0,this.reset(),this._destroy()},i.reset=function(){this._removeTimeout(sn),this._removeTimeout(dn),this._observer&&(this._observer.disconnect(),this._observer=null)},e}(Nr.a),fn="wrapper",gn=function(t){function e(e){var i,r;r=t.call(this,fn,e)||this;var o=e._getControlNode("iframe"),n=e._getControlUnionData(fn,"css")||{},a=Object(Wi.a)((null===o||void 0===o||null===(i=o.contentDocument)||void 0===i?void 0:i.body)||o,"div",function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?Wt(Object(e),!0).forEach(function(i){zt(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Wt(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({position:"relative",margin:"auto",width:"100%",height:"100%",boxSizing:"border-box",zIndex:0,color:"white",lineHeight:1.5,userSelect:"none",fontFamily:"Arial, Helvetica, sans-serif",fontSize:"14px"},n));return e._setControlData(fn,{node:a}),r.node=a,a.classList&&a.classList.add("__vnm_"+e.mainModuleId+"_"),setTimeout(function(){return e.trigger("slotSizeChanged")},1),r}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.showMarginTop=function(){var t=this.node,e=this.module,i=(t&&getComputedStyle(t)||{}).paddingTop;parseFloat(i)<25&&(Object(Wi.b)(t,{paddingTop:Object(Li.r)(25)}),setTimeout(function(){return e.trigger("slotSizeChanged")},1))},i.hideTopSpace=function(){var t=this.node,e=this.module,i=(t&&getComputedStyle(t)||{}).paddingTop;25===parseFloat(i)&&(Object(Wi.b)(t,{paddingTop:0}),setTimeout(function(){return e.trigger("slotSizeChanged")},1))},e}(zi.a),bn="container",mn=function(t){function e(e){var i=t.call(this,bn,e)||this,r=e._getControlNode("wrapper"),o=Object(Wi.a)(r,"div",function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?Ht(Object(e),!0).forEach(function(i){Bt(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Ht(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({position:"relative",width:"100%",height:"100%",textAlign:"center",background:"black",overflow:"hidden",zIndex:1},e._getControlUnionData(bn,"css"),{},e._getControlUnionData("background","css"),{},e._getControlUnionData("containerBackground","css")));return e._setControlData(bn,{node:o}),i}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e}(zi.a),vn={shouldCreateIframe:!0,cssClass:"vn-container-iframe",attributes:{height:"100%",width:"100%",hspace:0,vspace:0,marginHeight:0,marginWidth:0},iframeAttributes:{allow:"autoplay",allowfullscreen:"",mozallowfullscreen:"",webkitallowfullscreen:""},styles:{position:"relative",zIndex:1,width:"100%",height:"100%",padding:0,margin:0,border:"none",overflow:"hidden",maxWidth:"initial",maxHeight:"initial"},sandbox:"allow-same-origin allow-scripts allow-popups"},yn="containerIframe",On=function(t){function e(e){var i=t.call(this,yn,e)||this,r=new Li.a;i.createdPromise=r.promise,i.createdResolve=r.resolve;var o=e._getControlNode("container");return i.loaded=!1,Xt(o,{shouldCreateIframe:!1,logger:i.logger}).then(function(t){(function(t){var i,r;this.loaded=!0;var o=(null===t||void 0===t||null===(i=t.contentWindow)||void 0===i||null===(r=i.document)||void 0===r?void 0:r.body)||t;Object(Wi.b)(o,{minHeight:"100%",padding:0,margin:0,textAlign:"center",overflow:"hidden",fontFamily:"Arial, Helvetica, sans-serif",fontSize:"14px"}),Object(Wi.a)(o,"div",{display:"inline-block",height:"100%",verticalAlign:"middle"}),e._setControlData(yn,{node:t}),this.createdResolve(t)}).call(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i),t)}),i}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.prototype.isReady=function(){return this.createdPromise},e}(zi.a),_n="vpaidSlot",An=function(t){function e(e){var i=t.call(this,_n,e)||this,r=e._getControlNode("containerIframe"),o=r&&r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.body||r,n=function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?Gt(Object(e),!0).forEach(function(i){Yt(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Gt(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({position:"absolute",top:0,left:0,width:"100%",height:"100%",textAlign:"justify",zIndex:2},e._getControlUnionData(_n,"css")),a=Object(Wi.a)(o,"div",n);return e._setControlData(_n,{node:a}),i}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e}(zi.a),wn="title",Sn=function(t){function e(e){var i=t.call(this,wn,e)||this,r=e._getControlNode("wrapper"),o=Math.random().toString(36).substr(2,10),n=e._getLastExistsTrackUrl("vnCreative:debug"),a=n&&n.split&&n.split("?")[0],s=e._getControlUnionData(wn,"css"),d=e._getControlUnionData(wn,"text"),c=Object(Wi.a)(r,"div",function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?Qt(Object(e),!0).forEach(function(i){Zt(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Qt(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({display:"inline-block",position:"absolute",zIndex:3,top:0,left:0,padding:"5px",cursor:"default",color:"white",lineHeight:1},s),d||wo(Jt()),a&&Yi.b.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i),a+"/"+o));return n&&i._addDOMEventListener(c,"click",function(){e.postDebug(o,n)}),e._setControlData(wn,{node:c}),i}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.getName=function(){return wn},e}(zi.a),jn=i(26),Pn=i.n(jn),Cn=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,e)||this).moduleAPI=e.moduleAPI,i.starting=!1,i.adRemainingTimeChecker=e.adRemainingTimeChecker,i.getTimeBeforeSkip=e.getTimeBeforeSkip,i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.start=function(t){var e=this;if(void 0===t&&(t=7),!this.starting){this.starting=!0;var i=this.moduleAPI,r=this.getTimeBeforeSkip,o=i||{},n=o.getAdDuration,a=o.addVPAIDEventListener,s=o.removeVPAIDEventListener,d=o.setAdSkippableState,c=n&&n();if(d(!(r&&r())),c)this.waitAdRemainingTimeAndCallInvokeRemainingTimeChecker(0);else{var l="manualCheck",u=a("AdDurationChange",function(){s("AdDurationChange",u),e._removeTimeout(l),setTimeout(e.waitAdRemainingTimeAndCallInvokeRemainingTimeChecker.bind(e,0),1)},this);0<--t&&this._addTimeout(l,function(){e.starting=!1,e.start.call(e,t)},500)}}},i.waitAdRemainingTimeAndCallInvokeRemainingTimeChecker=function(t){if(void 0===t&&(t=0),!(10<t)){var e=this.moduleAPI||{},i=e.getAdRemainingTime,r=e.getAdDuration,o=r&&r();return i&&i()&&o?void this.invokeRemainingTimeChecker():void setTimeout(this.waitAdRemainingTimeAndCallInvokeRemainingTimeChecker.bind(this,t+1),150)}},i.invokeRemainingTimeChecker=function(){var t=this;this._addTimeout("RemainingTimeChange",function(){t.adRemainingTimeChecker.call(t)&&t.invokeRemainingTimeChecker()},500)},e}(Nr.a),En="skipAd",Dn="Module::Control["+En+"]:ReservedSkipAd",In=function(t){function e(e){var i;(i=t.call(this,En,e)||this).moduleAPI=e.getAPI();var r=te(i),o=r.invisible,n=r.logger,a=r.moduleAPI,s=a||{},d=s.setControlData,c=s.getControlUnionData,l=s.getControlNode,u=s.addVPAIDEventListener,h=i.timeBeforeSkip=c(En,"timeBeforeSkip");if(!o&&h<1/0){var p=l("wrapper"),f=c(En,"css")||{},g=Object(Wi.a)(p,"div",function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?Kt(Object(e),!0).forEach(function(i){$t(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Kt(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({position:"absolute",zIndex:5,top:0,right:0,padding:"10px",cursor:"pointer",opacity:1},f,{display:"none"}),Pn.a,function(){e.skipAd()});if(!Fi.f)c(En,"hover")&&(Object(Wi.b)(g,{opacity:0}),i._addDOMEventListener(p,"mouseenter",function(){return Object(Wi.b)(g,{opacity:1})}),i._addDOMEventListener(p,"mouseleave",function(){return Object(Wi.b)(g,{opacity:0})}));d(En,{node:g})}var b=new Cn({getTimeBeforeSkip:function(){return h},moduleAPI:a,logger:n,adRemainingTimeChecker:function(){var t=this.totalTimeCountdown,e=this.invisible,i=this.reservedSkipAdTimerHandler,r=this.moduleAPI,o=r.getAdElapsedTime,n=r.getControlNode,a=r.getAdRemainingTime,s=r.getAdSkippableState,d=r.setAdSkippableState,c=r.getAdDuration,l=this.timeBeforeSkip||0,u=s(),h=a(),p=c();if(0>p)return!0;if(h>p&&!i)return this.reservedSkipAdTimerHandler=this._addTimeout(Dn,function(){d(!0)},100*l),!1;if((l===1/0||l>p)&&!t||u&&(!t||t&&!h))return!1;if(0>h)return!0;if(!n(En)&&!e)return!1;var f=o(),g=0===p?h:Ci(Di(p,l)-f);return this.targetSkippebaleStateReached||h&&(!(0>=g)||!(l<=p)&&0!==p)||(d(!0),this.targetSkippebaleStateReached=!0,!1)}.bind(te(i))});return u("AdSkippableStateChange",ee.bind(te(i))),u("AdStarted",function(){b.start(),ee.call(te(i))},te(i)),ee.call(te(i)),i}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.getName=function(){return En},e.prototype.ifBlockedAction=function(){this.invisible=!0},e}(zi.a),Tn="skipAdCountdown",kn="Module::Control["+Tn+"]:ReservedSkipAd",xn=10,Nn=function(t){function e(e){var i;(i=t.call(this,Tn,e)||this).moduleAPI=e.getAPI(),void 0===i.invisible&&(i.invisible=!1);var r=de(i),o=r.invisible,n=r.moduleAPI,a=n.setControlData,s=n.getControlUnionData,d=n.getControlNode,c=n.addVPAIDEventListener,l=i.timeBeforeSkip=s(Tn,"timeBeforeSkip"),u=s(Tn,"totalTimeCountdown");if(i.totalTimeCountdown="show"===u||Object(Li.s)(u),!l&&!i.totalTimeCountdown)return de(i);if(i.isSmallSizeModule=Fi.f,i.starting=!1,!o){var h=d("wrapper"),p=s(Tn,"css"),f=Object(Wi.a)(h,"div",function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?ae(Object(e),!0).forEach(function(i){se(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ae(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({position:"absolute",zIndex:1,top:"10px",right:Object(Li.r)(xn),padding:"5px 10px",lineHeight:"15px",color:"white",backgroundColor:"rgba(0, 0, 0, 0.289)",borderRadius:"3px",cursor:"default",pointerEvents:"none"},p,{display:"none"}));a(Tn,{node:f})}var g=de(i),b=g.logger,m=g.moduleAPI,v=m||{},y=v.getAdDuration,O=v.getAdRemainingTime,_=i.remainTimeChecker=new Cn({getTimeBeforeSkip:function(){return l},moduleAPI:m,logger:b,adRemainingTimeChecker:ce.bind(de(i))});return c("AdStarted",function(){return _.start()},de(i)),c("AdVideoStart",function(){return _.start()},de(i)),c("AdVideoComplete",function(){le.call(this)}.bind(de(i)),de(i)),c("AdSkippableStateChange",function(){y&&O&&y()&&O()&&setTimeout(ce.bind(de(i)),1)},de(i)),c("vnFormatStateChanged",function(t){y&&O&&y()&&O()&&(i.isSmallSizeModule=Fi.f||t&&!0===t.isFloating,setTimeout(ce.bind(de(i)),1))},de(i)),c("AdSkipAdPositionChanged",function(t){var e=t.offsetWidth;if(!i.invisible){var r=d(Tn);Object(Wi.b)(r,{right:Object(Li.r)(e||xn)})}}),i}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.getName=function(){return Tn},e.prototype.ifBlockedAction=function(){this.invisible=!0},e}(zi.a),Mn=i(27),Rn=i(30),Vn=i.n(Rn),Ln=i(31),Fn=i.n(Ln),Wn="volume",zn=function(t){return t?Vn.a:Fn.a},Hn=function(t){function e(e){var i=t.call(this,Wn,e)||this,r=e.options,o=r.disableHoverAudio,n=r.disableSmoothVolumeChange,a=e.getAdVolume(),s=e._getControlNode("wrapper"),d=Object(Wi.a)(s,"div",he({position:"absolute",zIndex:1,bottom:0,right:0,width:"40px",height:"40px",padding:"10px",cursor:"pointer",stroke:"white",display:"none",boxSizing:"content-box"},e._getControlUnionData(Wn,"css")),zn(a),function(t){t.preventDefault(),t.stopPropagation();var i=e.getAdVolume();e.setAdVolume(i?0:1,{smoothUpdate:!0})});i._updateVolumeTimeoutId=null;var c=fe(i);return e._setControlData(Wn,{node:d}),i._addVPAIDEventListener(e,"AdExpandedChange",function(){var t=this.getAdExpanded(),e=this.getAdVolume();this.setAdVolume(+t?e:0,{step:1})}.bind(e)),i._addVPAIDEventListener(e,"AdVolumeChange",function(){ge.call(this)}.bind(e)),i._addVPAIDEventListener(e,"AdVideoComplete",function(){this.cancelVolumeUpdate()}.bind(fe(i))),i._addVPAIDEventListener(e,"AdDestroyed",function(){this.cancelVolumeUpdate()}.bind(fe(i))),i._addVPAIDEventListener(e,"AdAudioDisabled",function(){var t=this._getControlNode(Wn);Object(Wi.b)(t,Wi.m)}.bind(e)),i._addVPAIDEventListener(e,"AdLoadedVideoData",be.bind(e)),i._addVPAIDEventListener(e,"AdVideoStart",be.bind(e)),i.originalSetAdVolume=i._patchMethod(e,"setAdVolume",function(t,e){void 0===e&&(e={});var i=he({},{step:.05,invoker:null,smoothUpdate:null},{},e),r=i.step,o=i.invoker,a=i.smoothUpdate,s=this.getAdVolume(),d=!o||o===c;if((this.useExistsVideoSlot||d||this.canChangeVolume()||!(0<t)&&!(0<s))&&(ge.call(this),s!==t)){if(n||d&&!a)return c.cancelVolumeUpdate(),void c.originalSetAdVolume(t,{invoker:this});(function t(e,i,r){ki.b.none("Module::Control["+Wn+"].updateVolume("+e.toFixed(2)+", "+i.toFixed(2)+", "+r+")"),c.cancelVolumeUpdate();var o=Object(Li.d)(e+r,0,1);(0>r&&o<i||0<r&&o>i)&&(o=i),c.originalSetAdVolume(o,{invoker:this}),o===i?ge.call(this):this._updateVolumeTimeoutId=setTimeout(t.bind(this,o,i,r),16)}).call(this,s,t,r*(s>t?-1:1))}}),Fi.f||o||Fi.g||function(t){var e=this;if(!this.mouseEventsAlreadySet){var i=t._getControlNode("container");this._addDOMEventListener(i,"mouseenter",function(){t.setAdVolume(1,{invoker:e})}),this._addDOMEventListener(i,"mouseleave",function(){t.setAdVolume(0,{invoker:e})}),this.mouseEventsAlreadySet=!0}}.call(fe(i),e),e.setAdVolume(a,{step:1,invoker:fe(i)}),i.canChangeVolume=e.canChangeVolume.bind(e),i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.cancelVolumeUpdate=function(){clearTimeout(this._updateVolumeTimeoutId),this._updateVolumeTimeoutId=null},i.updateInProgress=function(){return null!=this._updateVolumeTimeoutId},e.getName=function(){return Wn},e}(zi.a),Bn=i(32),Un=i.n(Bn),qn="play",Xn=function(t){function e(e){var i=t.call(this,qn,e)||this,r=Object(Wi.a)(e._getControlNode("wrapper"),"div",function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?me(Object(e),!0).forEach(function(i){ve(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):me(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({display:"none",position:"absolute",zIndex:3,top:0,right:0,bottom:0,left:0,width:"inherit",background:"rgba(0, 0, 0, .7)",cursor:"pointer"},e._getControlUnionData(qn,"css")),Un.a,function(t){t.preventDefault(),e.resumeAd()});return Object(Wi.b)(r.firstChild,{position:"absolute",top:"50%",left:"50%",margin:"-32px 0 0 -32px"}),e._setControlData(qn,{node:r}),i._addVPAIDEventListener(e,"AdPaused",function(){var t=this._getControlNode(qn);Object(Wi.b)(t,{display:""})}.bind(e)),i._addVPAIDEventListener(e,"AdPlaying",function(){var t=this._getControlNode(qn);Object(Wi.b)(t,{display:"none"})}.bind(e)),i}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.getName=function(){return qn},e}(zi.a),Gn="progress",Yn="progressBar",Jn=function(t){function e(e){var i=t.call(this,Gn,e)||this,r=e._getControlNode("wrapper"),o=Object(Wi.a)(r,"div",Oe({position:"absolute",zIndex:2,bottom:0,left:0,width:"100%",height:"2px",background:"rgba(0, 0, 0, .5)"},e._getControlUnionData(Gn,"css"))),n=Object(Wi.a)(o,"div",Oe({position:"absolute",width:"0%",height:"2px",background:"#aab445"},e._getControlUnionData(Yn,"css")));return e._setControlData(Gn,{node:o}),e._setControlData(Yn,{node:n}),i._addVPAIDEventListener(e,"AdVideoStart",function(){var t=this._getControlNode(Yn);t&&Object(Wi.b)(t,{width:"0%"})}.bind(e)),i._addVPAIDEventListener(e,"AdVideoComplete",function(){var t=this._getControlNode(Yn);t&&Object(Wi.b)(t,{width:"100%"})}.bind(e)),i._addVPAIDEventListener(e,"AdRemainingTimeChange",function(){var t=this._getControlNode(Yn);if(t){var e=this.getAdDuration(),i=this.getAdRemainingTime();Object(Wi.b)(t,{width:100*(1-i/e)+"%"})}}.bind(e)),i}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.getName=function(){return Gn},e}(zi.a),Qn="advLogo",Zn=10,Kn=10,$n=.3,ta=function(t){function e(e){var i=t.call(this,Qn,e,!0)||this,r=e._getControlNode("wrapper"),o=e._getControlUnionData(Qn,"css")||{};o.width&&o.height||(o.width="160px",o.height="40px");var n=parseInt(o.width,10),a=parseInt(o.height,10),s=Object(Wi.a)(r,"div",function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?Ae(Object(e),!0).forEach(function(i){we(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Ae(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({position:"absolute",zIndex:4,left:0,marginTop:"10px",backgroundRepeat:"no-repeat",cursor:"pointer",visibility:"hidden"},o));Fi.f||(i._addDOMEventListener(s,"mouseenter",function(){return Object(Wi.b)(s,{opacity:.8})}),i._addDOMEventListener(s,"mouseleave",function(){return Object(Wi.b)(s,{opacity:1})}));var d=e._getControlUnionData(Qn,"url");i._addDOMEventListener(s,"click",function(){e.vpaid?e.vpaid.trigger("AdClickThru",d||null,null,!0):Yi.b.call(e,d)}),e._setControlData(Qn,{node:s});var c=getComputedStyle(r).marginBottom,l=Ei(s.offsetHeight+Zn,parseInt(c,10));return Object(Wi.b)(r,{marginBottom:l+"px"}),i._addVPAIDEventListener(e,"AdSizeChange",Se.bind(e,n,a)),i._addVPAIDEventListener(e,"AdStarted",function(){var t=this._getControlNode(Qn);Object(Wi.b)(t,{visibility:"visible"})}.bind(e)),i}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.getName=function(){return Qn},e}(zi.a),ea=i(21),ia=i.n(ea),ra="callButton",oa="#f8f8f8",na=.5,aa=10,sa=33,da=.3,ca=.1,la=10,ua=640,ha=9,pa=10,fa=5,ga=function(t){function e(e){var i=t.call(this,ra,e,!0)||this,r=e._getControlNode("wrapper"),o=e._getControlUnionData(ra,"css")||{},n=Object(Wi.a)(r,"div",function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?je(Object(e),!0).forEach(function(i){Pe(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):je(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({position:"absolute",zIndex:4,right:0,top:"100%",height:sa+"px",padding:fa+"px",marginTop:aa+"px",backgroundColor:oa,border:"1px solid rgba(0, 0, 0, "+na+")",borderRadius:"3px",cursor:"pointer",visibility:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},o),ia.a);if(Object(Wi.a)(n,"span",{padding:pa+"px "+pa+"px "+pa+"px 0",color:"#000",lineHeight:"15px",textAlign:"center"},e._getControlUnionData(ra,"text")||"  "),e._setControlData(ra,{node:n}),!Fi.f){var a=e._getControlUnionData(ra,"hoverBackgroundColor");i._addDOMEventListener(n,"mouseenter",function(){return Object(Wi.b)(n,{backgroundColor:a||"#dedede",border:"1px solid rgba(0, 0, 0, 0.75)"})}),i._addDOMEventListener(n,"mouseleave",function(){return Object(Wi.b)(n,{backgroundColor:o.backgroundColor||oa,border:"1px solid rgba(0, 0, 0, "+na+")"})})}var s=e._getControlUnionData(ra,"url");i._addDOMEventListener(n,"click",function(){e.vpaid?e.vpaid.trigger("AdClickThru",s||null,null,!0):Yi.b.call(e,s)});var d=getComputedStyle(r).marginBottom,c=Ei(n.offsetHeight+2*aa,parseInt(d,10));return Object(Wi.b)(r,{marginBottom:c+"px"}),i._addVPAIDEventListener(e,"AdSizeChange",Ce.bind(e)),i._addVPAIDEventListener(e,"AdStarted",function(){var t=this._getControlNode(ra);Object(Wi.b)(t,{visibility:"visible"})}.bind(e)),i}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.getName=function(){return ra},e}(zi.a),ba="moreInfo",ma="#fff",va="rgba(0, 0, 0, 0.7)",ya="rgba(0, 0, 0, 0.2)",Oa="rgba(0, 0, 0, 0.5)",_a=.3,Aa=.22,wa="bottom",Sa=function(t){function e(e){var i=t.call(this,ba,e,!0)||this,r=e._getControlNode("wrapper"),o=e._getControlUnionData(ba,"css")||{},n=Object(Wi.a)(r,"div",function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?De(Object(e),!0).forEach(function(i){Ie(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):De(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({position:"absolute",zIndex:4,padding:"10px",borderRadius:"2px",transition:"0.3s",color:o.color||ma,border:"1px solid "+(o.color||ma),textShadow:"1px 1px 19px "+va,backgroundColor:o.backgroundColor||ya,cursor:"pointer",visibility:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},o));Object(Wi.a)(n,"span",{lineHeight:"15px",textAlign:"center"},e._getControlUnionData(ba,"text")||wo(Ee())),e._setControlData(ba,{node:n});var a=e._getControlUnionData(ba,"hoverBackgroundColor"),s=e._getControlUnionData(ba,"hoverColor");Fi.f?Object(Wi.b)(n,{backgroundColor:a||Oa,color:s||ma,borderColor:s||ma,textShadow:"1px 1px 19px "+va}):(i._addDOMEventListener(n,"mouseenter",function(){return Object(Wi.b)(n,{backgroundColor:a||Oa,color:s||ma,borderColor:o.color||ma,textShadow:"1px 1px 19px rgba(0, 0, 0, 0.85)"})}),i._addDOMEventListener(n,"mouseleave",function(){return Object(Wi.b)(n,{backgroundColor:o.backgroundColor||ya,color:o.color||ma,borderColor:o.color||ma,textShadow:"1px 1px 19px "+va})}));var d=e._getLastDataXml(),c=Object(wr.d)(d,"ClickThrough");return c&&i._addDOMEventListener(n,"click",function(){e.vpaid?e.vpaid.trigger("AdClickThru",c||null,null,!0):Yi.b.call(e,c)}),Te.call(e),i._addVPAIDEventListener(e,"AdSizeChange",function(){var t=this._getControlNode(ba),e=this.format.isFloatingMode()?"hidden":"visible",i=this.getAdWidth()*(Fi.f?_a:Aa);Object(Wi.b)(t,{width:i+"px",visibility:e}),Te.call(this)}.bind(e)),i._addVPAIDEventListener(e,"AdStarted",function(){var t=this._getControlNode(ba);Object(Wi.b)(t,{visibility:"visible"})}.bind(e)),i}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.getName=function(){return ba},e}(zi.a),ja="bottomBorder",Pa=15,Ca=15,Ea=function(t){function e(e){var i;(i=t.call(this,ja,e,!0)||this)._prevIsFloatingMode=null;var r=e._getControlNode("wrapper"),o=e._getControlUnionData(ja,"css")||{};i._displayNoneForEmbeddedMode=o&&"none"===o.display;var n=getComputedStyle(r).marginBottom;n=parseInt(n,10);var a=Object(Wi.a)(r,"div",function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?xe(Object(e),!0).forEach(function(i){Ne(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):xe(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({position:"absolute",zIndex:4,left:0,top:"calc(100% + "+n+"px)",height:Pa+"px",width:"100%",marginBottom:Ca+"px",borderTop:"1px solid rgb(248, 248, 248)",background:"radial-gradient(ellipse farthest-side at 50% -30%, rgba(0, 0, 0, 0.15), rgba(97, 97, 97, 0.0) 95%)"},o));return e._setControlData(ja,{node:a}),i._addVPAIDEventListener(e,"AdSizeChange",function(t,e){var i=t._getControlNode(ja),r=t._getControlNode("iframe"),o=t._getControlNode("wrapper"),n=t.format.isFloatingMode();if(this._prevIsFloatingMode!==n){var a=Object(Li.h)(o).outsideHeight;n?(Object(Wi.b)(i,{display:"none"}),Object(Wi.b)(o,{marginBottom:Object(Li.r)(e)}),Object(Wi.b)(r,{height:Object(Li.r)(Object(Li.h)(o).outsideHeight)})):!this._displayNoneForEmbeddedMode&&(Object(Wi.b)(i,{display:"block"}),Object(Wi.b)(o,{marginBottom:Object(Li.r)(e+(Pa+Ca))}),Object(Wi.b)(r,{height:Object(Li.r)(Object(Li.h)(o).outsideHeight)})),a!==Object(Li.h)(o).outsideHeight&&t.trigger("slotSizeChanged")}this._prevIsFloatingMode=n}.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i),e,n)),i}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.getName=function(){return ja},e}(zi.a),Da="spinner",Ia=function(t){function e(e){var i;(i=t.call(this,Da,e)||this).videoProgressId=null,i.oldCurrentTime=null,i.attemptsCounter=0,i.attemptLimit=e._getControlUnionData(Da,"attemptLimit")||5;var r=e._getControlNode("wrapper"),o=Object(Wi.e)(r,50);return Object(Wi.b)(o,{zIndex:3,display:"none",width:"50px",height:"50px"}),e._setControlData(Da,{node:o}),i._addVPAIDEventListener(e,"AdVideoStart",Le.bind(Me(i),e)),i._addVPAIDEventListener(e,"AdPlaying",Le.bind(Me(i),e)),i._addVPAIDEventListener(e,"AdPaused",Fe.bind(Me(i),e)),i._addVPAIDEventListener(e,"AdStopped",Fe.bind(Me(i),e)),i._addVPAIDEventListener(e,"AdVideoComplete",Fe.bind(Me(i),e)),i._addVPAIDEventListener(e,"AdSkipped",Fe.bind(Me(i),e)),i._addVPAIDEventListener(e,"AdDestroyed",Fe.bind(Me(i),e)),i}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.getName=function(){return Da},e}(zi.a),Ta=i(14),ka="{weborama_data}",xa="//wam.solution.weborama.fr/fcgi-bin/dispatch.fcgi?d.A=prd&d.key=n9d9C9I4XN1I&d.format=json&d.top_clusters=10",Na="{roxot_data}",Ma="vnProhibitedWords",Ra="::Extension["+Ma+"]",Va="::Extension[vnTargetedWords]",La="::Extension[controls]",Fa={adlabel:"title",countdown:"skipAdCountdown",soundbtn:"volume",logo:"logo"},Wa={"-1":{display:"none"},0:{display:"none"},1:{display:""},TL:{position:"absolute",top:"10px",right:"auto",bottom:"auto",left:"10px"},TR:{position:"absolute",top:"10px",right:"10px",bottom:"auto",left:"auto"},BL:{position:"absolute",top:"auto",right:"auto",bottom:"10px",left:"10px"},BR:{position:"absolute",top:"auto",right:"10px",bottom:"10px",left:"auto"}},za="vnBrowserCache",Ha="extSkipTime",Ba="subtitle",Ua={srt:function(t){var e=/(\d+)\n([\d:.,]+)\s*-->\s*([\d:.,]+)\n((?:.|\n)+)/m;return t.replace(/^[^\S\n]*(.+)[^\S\n]*$/gm,"$1").replace(/\r/g,"\n").split("\n\n").map(function(t){var i=e.exec(t);return i?{id:i[1],startTime:Object(wr.g)(i[2]),endTime:Object(wr.g)(i[3]),text:i[4]}:null}).filter(Boolean)}},qa=function(t){var e=t.type,i=t.data,r=Ua[e.toLowerCase()];if("function"!=typeof r)return null;var o=r(i);return Array.isArray(o)?o:null},Xa=function(t){return function(t){return new Promise(function(e){var i=t.querySelector("data");if(i){var r=Object(wr.d)(i),o=i.getAttribute("type");if(!o)throw new Error("Data type is not defined");e({type:o,data:r})}else{var n=t.querySelector("url");if(!n)throw new Error('Neither "data" nor "url" provided');var a=Object(wr.d)(n),s=n.getAttribute("type");if(!s)throw new Error("Url type is not defined");Object(Yi.f)(a).then(function(t){e({type:s,data:t.target.responseText})}).catch(function(t){throw new Error("Data request error ("+t+")")})}})}(t).then(qa)},Ga=i(33),Ya=i.n(Ga),Ja=i(34),Qa=i.n(Ja),Za="vnAfterplay",Ka="::Extension["+Za+"]",$a=function(t){function e(e){var i,r=e.module,o=r&&r.getAPI&&r.getAPI().logger||ki.b;return(i=t.call(this,{ancestor:Ka,logger:o})||this).moduleAPI=r&&r.getAPI&&r.getAPI(),i.afterplayTimeoutId=null,i._isActive=!1,i._isReplay=!1,i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.isActive=function(){return this._isActive},i.isReplay=function(){return this._isReplay},i.init=function(t){var e=this;return new Promise(function(i){t[Za]=e;var r=(t._getLastParameters()||{})[Za];r&&t._setControlData(Za,r,r.global),(r=t._getControlUnionData(Za,null,function(t){return t.parsePoint}))&&(e._addVPAIDEventListener(t,"AdVideoComplete",Ze.bind(e,t,r)),e._addVPAIDEventListener(t,"AdSkipped",Ze.bind(e,t,r)),e._addVPAIDEventListener(t,"AdDestroyed",function(t){var e=this.afterplayTimeoutId,i=t.function;clearTimeout(e);var r=window[i];if(r){var o=this._formatExpandingDuration;setTimeout(function(){try{r()}catch(t){}},(o||0)+100)}}.bind(e,r)),e._isActive=!0,e._isReplay=!1),i(t)})},i._destroy=function(){t.prototype._destroy.call(this)},e}(Nr.a),ts=i(35),es=i.n(ts),is="vnUnderplay",rs="vnFormat",os="vnCache",ns="vnCreative",as=i(22),ss="vnNoAd",ds="::Extension[vnNoAd]",cs="vnAdEvents",ls=function(t){function e(e){var i=e.module,r=i&&i.getAPI&&i.getAPI().logger||ki.b;return t.call(this,{ancestor:"::Extension["+cs+"]",logger:r})||this}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.prototype.init=function(t){var e=this;return new Promise(function(i){t.vnAdEvents=e;var r=t._getLastParameters(),o=r&&r[cs]||{},n=o.global,a=o.handlerName,s=o.vnFunction,d=o.vnScriptUrl,c=o.events;(a||s||d||c&&c.length)&&t._setControlData(cs,{handlerName:a,vnFunction:s,vnScriptUrl:d,events:c},n),a=t._getControlUnionData(cs,"handlerName"),c=t._getControlUnionData(cs,"events"),s=t._getControlUnionData(cs,"vnFunction"),(d=t._getControlUnionData(cs,"vnScriptUrl"))||s||(a&&c.forEach(function(i){return e._addVPAIDEventListener(t,i,function(){window[a]&&window[a](t.moduleId,i)})}),i(t))})},e}(Nr.a),us=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdResumed","AdPlaying","AdVideoComplete","AdClickThru","AdLog","AdError"],hs="vnPageChanged",ps=function(t){function e(e){var i,r=e.module,o=r&&r.getAPI&&r.getAPI().logger||ki.b;return(i=t.call(this,{ancestor:"::Extension["+hs+"]",logger:o})||this).module=r,i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.init=function(){var t=this,e=this.module;return new Promise(function(i){e.vnPageChanged=t;var r=e._getLastParameters(),o=r&&r[hs]||{},n=o.global,a=o.important,s=o.handlerName,d=o.eventName;s&&e._setControlData(hs,{handlerName:s,important:a},n),(s=e._getControlUnionData(hs,"handlerName"))&&(window[s]=function(){e._abort()}),d&&e._setControlData(hs,{eventName:d,important:a},n),(d=e._getControlUnionData(hs,"eventName"))&&t._addDOMEventListener(window.document,d,function(){e._abort()}),i(e)})},i._destroy=function(){t.prototype._destroy.call(this);var e=this.module._getControlUnionData(hs,"handlerName");e&&delete window[e]},e}(Nr.a),fs="vnShowViqeo",gs="vnEventsParams",bs="vnVisibleInventory",ms=function(){function t(t,e,i){void 0===i&&(i=console),this.handler=e,this.timeout=t,this.log=i&&i.trace||console.log,this.id=null,this.startedTime=null,this.isStarted=!1,this.log(" InterruptibleTimeout constructor() timeout="+t)}var e=t.prototype;return e.start=function(){var t=this,e=this.timeout,i=this.handler;!this.startedTime&&e&&(this.startedTime=Date.now(),this.isStarted=!0,this.id=setTimeout(function(){t.log(" InterruptibleTimeout.start() setTimeout global timeout "+e+" expired this.id:"+t.id+" "),t.stop(),i()},e),this.log(" InterruptibleTimeout.start() global timeout starts with "+e+" id:"+this.id))},e.pause=function(t){void 0===t&&(t="was paused");var e=this.id,i=this.timeout,r=this.startedTime,o=this.handler,n=this.isStarted;if(e&&i&&r&&n){this.isStarted=!1;var a=Date.now()-r;this.startedTime=0,clearTimeout(e),this.timeout-=a,this.log(" InterruptibleTimeout.pause() global timeout "+t+". the rest of timeout is "+this.timeout+" dif="+a+" id:"+e),0>=this.timeout&&(this.stop(),o&&o())}},e.stop=function(){this.log(" InterruptibleTimeout stop() id:"+this.id),this.id&&this._destroy()},e._destroy=function(){this.log(" InterruptibleTimeout _destroy() id:"+this.id),clearTimeout(this.id),this.isStarted=!1,this.timeout=0,this.id=null},t}(),vs="Module",ys="ModuleGlobalRemainingTimeChangeTimeId",Os=500,_s="ModuleStartAdTimerId",As="vpaidInitAdTimeoutId",ws="AdStoppedWaitAdVideoCompleteTimerId",Ss={vpaidInitAdTimeout:7e3,dataRequestTimeout:7e3,startAdTimeout:3e3,stopAdTimeout:1e3,skipAdTimeout:500,disableHoverAudio:!0,startingVolume:Fi.f||Fi.g?0:void 0,forceStartingVolume:void 0,maxAds:1,beforeStopAdTimeout:700,minSlotWidthPercent:.4,adIgnoreSizeErrorState:!1,hideSpinnerControl:!1,hideTitleControl:!1,viqeoParentSlotClassName:"viqeo-parent-slot",listenWindowMessages:!1,passUrlParams:["vn_dsp","vn_campaign"],triggerAdStoppedAfterAdSkipped:!1,canExecuteNoAd:!1,checkTrackingResponse:!0,viqeoStarterUrl:"https://cdn.viqeo.tv/js/vq_starter.js"},js=function(t){function e(e){var i,r,o=Math.random().toString(36).substring(2,5),n=e||{},a=n.logLevel,s=n.ancestor,d=n.module,c=void 0===a?ki.c:a,l=e&&(e.logger||e.module&&e.module.logger||e.moduleAPI&&e.moduleAPI.logger);try{var u=window.parent;r=u&&u!==window&&(u.vn_module_id||u.parent&&u.parent.vn_module_id||u.parent.parent&&u.parent.parent.vn_module_id)}catch(e){}if(r||(r=s||d&&d.mainModuleId),!l){var h=r?r+" >> ":"",p=Object(ki.d)(c,function(){return"["+(new Date).toISOString().slice(11,-1)+"] "+h+"("+o+") "+vs});l=Object(ki.a)(c,p)}l.log(".constructor()",2),(i=t.call(this,ni({},Ss,{},e,{ancestor:vs,logger:l}))||this).mainModuleId=o,i.logLevel=c,i.startAdShouldBeInvoked=!1,i.adIgnoreSizeErrorState=i.options.adIgnoreSizeErrorState,i.subscribe(function(){i._adsLeft-=1},"AdStarted"),i.subscribe(function(){},"AdError"),i.pauseWasStartedByVPAID=!1,i.pausedWasStartedByVisibilityChange=!1,i.vpaid=null,i._adHasBeenLoaded=!1,i.lastPendingCommands={},i.data=[],i._controls=[],i._controlsDataStack=new en({destroyIframeAction:i._destroyIframe.bind(si(i)),logger:i.logger}),i.lastPendingVolumeCommand=null,i.reachInventories={},i._trackedErrorsFormats={},i._useExistsVideoSlot=!1,i.visibleInventoryWasSent=!1,i._adImpressionHappened=!1,i._completeWasTracked=!1,Ps.forEach(function(t){return t(si(i))});var f=function(){var t=this,e=function(e){var i=ni({},{intersectionRatio:0,visibility:0,moduleSquare:0,screenSquare:0,relationSize:null},{},e);return t._setControlData("vnMacros",{"[SQUARE]":i.moduleSquare}),t._setControlData("vnMacros",{"[VISIBILITY]":i.visibility}),t._setControlData("vnMacros",{"[SIZE]":i.relationSize}),i};try{var i,r,o=this._getControlNode("videoSlot"),n=o&&o.clientHeight?o:(i=this._getControlNode("slot"))&&i.clientHeight?i:(r=this._getControlNode("iframe"))&&r.clientHeight?r:null;return n?Li.m.call(this,n).then(function(t){return e(t)}):Promise.resolve(e())}catch(t){return t&&t.message,Promise.resolve(e())}}.bind(si(i)),g=function(){var t=this.format,e=t.getSlotSize&&t.getSlotSize()||{},i=e.width,r=e.height;return this._setControlData("vnMacros",{"[WIDTH]":i||0,"[HEIGHT]":r||0,"[ACTUAL-WIDTH]":i||0,"[ACTUAL-HEIGHT]":r||0}),Promise.resolve({width:i,height:r})}.bind(si(i));return i._moduleCharacteristicsRelations={"[LOCATION]":function(){try{var t=Object(Li.l)(window,document),e=t&&encodeURIComponent(t);return this._setControlData("vnMacros",{"[LOCATION]":e||"null"}),Promise.resolve(e)}catch(t){return t&&t.message,Promise.resolve()}}.bind(si(i)),"[SIZE]":f,"[SQUARE]":f,"[VISIBILITY]":f,"[WIDTH]":g,"[HEIGHT]":g,"[ACTUAL-WIDTH]":g,"[ACTUAL-HEIGHT]":g},i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.setOptions=function(t){void 0===t&&(t={}),this.savedOptions||(this.savedOptions=ni({},this.options)),this.options=ni({},this.savedOptions,{},t),this._applyOptions()},i._updateOptionsFromVpaid=function(t){var e=this;t.format&&(this.format&&this.format.updateOptions&&this.format.updateOptions(t.format),delete t.format),this.options=ni({},this.options,{},t);var i=this.options,r=i.controlsActions,o=i.destroyControls;o&&o.forEach(function(t){return t&&e._destroyControl(t)}),r&&r.forEach(function(t){var i=t.name,r=t.action,o=e._getControlNode(i);o&&r&&r(o)});var n=(t||{}).forceStartingVolume;if(void 0!==n)this.setAdVolume(n);else if("startingVolume"in t){var a=t.startingVolume;(0===a||a)&&a!==this.adVolume&&this.setAdVolume(a)}this._applyOptions()},i._applyOptions=function(){var t=this.options,e=t||{},i=e.maxAds,r=e.forceStartingVolume,o=(t||{}).startingVolume,n=!1!==this.options.isInsideTextContent;this.options.disableHoverAudio=void 0===this.options.disableHoverAudio?n:this.options.disableHoverAudio,this.options.triggerAdStoppedAfterAdSkipped=Object(Li.s)(this.options.triggerAdStoppedAfterAdSkipped),this.options.canExecuteNoAd=Object(Li.s)(this.options.canExecuteNoAd),o=this.options.startingVolume=void 0===r?void 0===o?n?0:1:o:r;try{JSON.stringify(this.options,function(t,e){return"logger"===t?void 0:e})}catch(e){}this._adsLeft=i,this.adVolume=o,this.options.listenWindowMessages&&!this._messagesListener&&function(){var t=this,e=["startAd","stopAd","pauseAd","resumeAd","skipAd"];this._messagesListener||window!==window.top&&(this._messagesListener=this._addDOMEventListener(window,"message",function(i){var r=i.data;e.filter(function(t){return t===r}).forEach(function(e){t[e].call(t)})}))}.call(this)},i.toString=function(){return vs},i.trigger=function(e){for(var i=this,r=arguments.length,o=Array(1<r?r-1:0),n=1;n<r;n++)o[n-1]=arguments[n];var a=(this._getControlUnionData("vnEventsParams")||{}).eventsParams,s=a&&a[e];Oi.call(this,s).then(function(r){o.length&&"object"==typeof o[0]?(o[0]=ni({},o[0],{},r),t.prototype.trigger.apply(i,[].concat(e,o))):t.prototype.trigger.apply(i,[].concat(e,o,r))})},i.initAd=function(e,i,r,o,n,a){var s=this;if(void 0===n&&(n={}),void 0===a&&(a={}),t.prototype.initAd.call(this,e,i,r,o,n,a),this._adImpressionHappened=!1,!this.adIgnoreSizeErrorState&&a.slot&&0!==e){var d=ii.call(this,e),c=d.error,l=d.message;c&&this._trackError(ri(l),!1)}this._disableExtensions=[];var u=a||{},h=u.disableExtensions,p=u.advancedParams;if(this.advancedParams=p,h)if(Array.isArray(h))this._disableExtensions=h;else try{this._disableExtensions=[].concat(JSON.parse(h))}catch(e){}n||(n={});var f=n.mainContainerIsIframe;void 0!==f&&(this.options.mainContainerIsIframe=Object(Li.s)(f)),function(){var t=Object(wr.h)(Object(Li.i)(window,document))||{},e=t.startAdTimeout,i=t.vpaidInitAdTimeout,r=t.dataRequestTimeout,o=t.triggerAdStoppedAfterAdSkipped,n=t.timeout,a=t.disableSmoothVolumeChange,s=t.viqeoStarterUrl,d=t.mainContainerIsIframe;e&&(this.options.startAdTimeout=e),i&&(this.options.vpaidInitAdTimeout=i),r&&(this.options.dataRequestTimeout=r),s&&(this.options.viqeoStarterUrl=s),n&&(this.options.timeout=n),o&&(this.options.triggerAdStoppedAfterAdSkipped=o),null!==a&&(this.options.disableSmoothVolumeChange=Object(Li.s)(a)),void 0!==d&&(this.options.mainContainerIsIframe=Object(Li.s)(d))}.call(this),this.setOptions();var g,b=n.isABTesting,m=n.AdParameters||n,v="string"==typeof m;if(v)try{g=JSON.parse(m)}catch(e){if(!g)try{g=Object(wr.h)("?"+m.trim())||m||{}}catch(e){}}else g="object"==typeof m?ni({},m):{};var y=n.dataUrl||g.dataUrl;b&&(y=y+(~y.indexOf("?")?"&":"?")+"ver=v2.30.15");var O=null,_=null,A=null;if(m.vnData){var w={};try{w=JSON.parse(m.vnData)}catch(e){}if(w.parameters)A="string"==typeof w.parameters?JSON.parse(w.parameters):w.parameters;else if(w.key)try{A=JSON.parse(sessionStorage.getItem(w.key))}catch(e){}w.disableExtensions&&(this._disableExtensions=this._disableExtensions.concat(w.disableExtensions)),A&&Array.isArray(A)||(wi.call(this)&&this.trigger("AdError",Ti.a.GENERAL_VPAID_ERROR,"Parsed parameters is not valid"),this._destroy())}else if(!v||y||g.dataXml)g.dataXml&&(O=Object(wr.i)(g.dataXml));else try{_=JSON.parse(m)}catch(t){}var S,j=this.options.timeout||n.timeout||g.timeout;j&&(S=this.globalTimeoutProvider=new ms(j,function(t){this._removeTimeout(As),this._removeTimeout(_s),this._trackUrls("skip"),fi.call(this,"AdSkipped"),this.trigger("AdSkipped"),this._failedData(!0,{code:Ti.a.GENERAL_VPAID_ERROR,msg:"Global timeout("+t+") is timed out"})}.bind(this,j),this.logger),this._addDestroyableObject(S),S.start());var P=this.environmentVars||{},C=P.videoSlot,E=P.iframe,D=P.parentFormat;this.parentFormat=D,(this._useExistsVideoSlot=C&&Object(Wi.p)(C,"video"))&&this._setControlData("videoSlot",{node:C}),this._setControlData("slot",{node:a.slot}),this._setControlData("iframe",{node:E}),this._setControlData("wrapper",{node:a.parentSlot});var I,T=a.format||{},k=T.name,x=void 0===k?"InStream":k,N=T.options;try{if(!(I=tn(this,x,N)))return void this._abort({errorEventParams:{code:Ti.a.FORMAT_ERROR,msg:".initAd() Unable to initialize format ("+x+")"}});this._setFormat(I)}catch(t){return void this._abort({errorEventParams:{code:t.code||Ti.a.GENERAL_VPAID_ERROR,msg:".initAd() Unable to initialize format ("+x+") "+t}})}if(!A){var M=this._parseExtData();Object(Li.p)(M)||(this.data.push({dataXml:null,defaultAdXml:null,parameters:M}),Object(Li.f)(Is,this),this._controlsDataStack.push())}if(A)this.vnParsedParameters=A,this.data.push({parameters:this.vnParsedParameters.shift()}),this._processParsedTreeNode();else if(_){var R=this._parseDataParameters(_);this.data.push({dataXml:null,defaultAdXml:null,parameters:R}),R?(I&&this._setFormat(I),this._processTreeNode(R)):this._failedData()}else O?this._processDataXml(O,I):y&&(S&&S.pause(),function(t){var e=this.advancedParams;if(Object(Li.p)(e)||Object(Li.p)(e.pass))return Promise.resolve(t);var i,r,o=e.pass,n=e.pass,a=n._decorateName,s=n._decorateValue;a&&"function"==typeof a?(i=a,delete o._decorateName):i=function(t){return"pass_"+t},s&&"function"==typeof s?(r=s,delete o._decorateValue):r=function(t){return t};var d=Object(wr.a)(t,Object.keys(o).reduce(function(t,e){return o[e]&&(t[i(e)]=r(o[e])),t},{}));return Promise.resolve(d)}.call(this,y).then(function(t){return function(t){var e=(this.options||{}).passUrlParams;if(!e||!e.length)return Promise.resolve(t);var i=Object(Li.i)(window,document),r=Object(wr.h)(i),o=Object.keys(r).reduce(function(t,i){return~e.indexOf(i)&&(t[i]=r[i]),t},{});return Promise.resolve(Object(wr.a)(t,o))}.call(s,t)}).then(function(t){return I&&I._requestDataXml(t)||t}).then(function(t){return S&&S.start(),t}).then(function(t){return s._requestDataXml(t,I)}))},i._parseDataParameters=function(t){var e=t&&t.Media&&t.Media.MediaFiles;e&&(t.Media.MediaFiles=e.reduce(function(t,e){return(t[e.type]||(t[e.type]=[])).push(e),t},{})),t.Trackings||(t.Trackings={});var i=t.vnCreative,r=t.Trackings;i&&Object.keys(i).forEach(function(t){i[t]&&(r["vnCreative:"+t]=[i[t]])});var o=t.ViewableImpression;o&&Object.keys(o).forEach(function(t){o[t]&&(r["ViewableImpression:"+t]=o[t])});var n=t.vnControls;return n&&!n.controls&&(t.vnControls={controls:n}),t},i._parseExtData=function(){var t={},e=this.environmentVars,i=this._disableExtensions,r=(e||{}).ext||{},o=r.vnShowViqeo,n=r.vnFormat;if(o&&0>i.indexOf("vnShowViqeo")){var a=o.important,s=Object(wr.e)(o);t.vnShowViqeo={options:s,important:a,global:!0}}if(n){var d=function(t){if((this.logger||ki.b).trace(".parseObjectVnFormat()"),t){var e=t.name,i=t.global,r=t.important,o=t.overwrite,n=Object(wr.e)(t),a={name:e,global:i,important:r};return n&&(a.options=n),o&&(a.overwrite=o),a}return null}.call(this,n);d&&(d.global=!0,t.vnFormat=d)}return t},i._parseDataXML=function(t){if(!t||!t.querySelector)return this._failedData(),null;var e=this._disableExtensions,i={},r=Object(wr.b)(t);r&&1<r.length&&(r=Array.from(r).filter(function(t){return null===t.getAttribute("sequence")}));var o=r&&r.length&&r[0],n=o.querySelectorAll("Impression");n&&(i.Impression=Array.from(n).map(function(t){return Object(wr.d)(t)})),i.id=o&&o.getAttribute("id"),i.AdSystem=Object(wr.d)(o,"AdSystem"),i.ClickThrough=Object(wr.d)(o,"ClickThrough");var a=o.querySelector("Wrapper");if(a){var s=Object(wr.d)(a,"VASTAdTagURI");if(!s)return null;i.wrapperUrl=s}i.vnControls=function(t){this.getAPI&&this.getAPI().logger||ki.b;var e={controls:{},global:!1},i=t&&t.querySelector('Extension[type="vnControls"]');if(i){e.global=Object(wr.c)(i,"global");var r=i.querySelectorAll("control");r&&Array.from(r).forEach(function(t){var i={},r=t.getAttribute("id");i.id=r,i.parsePoint=!0;try{var o=Object(wr.d)(t);o&&(i.css=JSON.parse(o)),t&&t.getAttributeNames&&t.getAttributeNames().forEach(function(e){return i[e]=t.getAttribute(e)});var n=i.global;i.global=n&&Object(Li.s)(n)}catch(t){}r&&(e.controls[r]=i)})}return e}.call(this,o),i.vnFormat=function(t){(this.logger||ki.b).trace(".parseVnFormat()");var e=t&&t.querySelector('Extension[type="vnFormat"]');if(e){var i=e.getAttribute("name"),r=Object(wr.c)(e,"global"),o=Object(wr.c)(e,"important")||e.getAttribute("important"),n=Object(wr.j)(e),a={name:i,global:r,important:o};n&&(a.options=n);var s=e.getAttribute("overwrite")||Object(wr.c)(e,"overwrite");return s&&(a.overwrite=s),a}return null}.call(this,o),i.vnCreative=function(t){var e=t&&t.querySelector('Extension[type="'+ns+'"]'),i=Object(wr.c)(e,"global"),r=Object(wr.c)(e,"important"),o={},n=function(t){var n=e&&e.querySelector(t);if(n){var a=Object(wr.c)(n),s=Ke(n,"global"),d=Ke(n,"important");o[t]={url:a,important:$e(r,d),global:$e(i,s)}}};return n("debug"),n("passed"),n("select"),n("impression"),o.impression||(o.impression={url:null,global:i}),o}.call(this,o),i.vnNoAd=function(t){var e=t&&t.querySelector('Extension[type="vnNoAd"]'),i=e&&e.querySelector("function"),r=e&&e.querySelector("scriptUrl"),o=Object(wr.c)(e,"global"),n=Object(wr.c)(e,"important");return r?{functionUrl:Object(wr.c)(r),important:n,global:o}:i?{functionText:Object(wr.c)(i),important:n,global:o}:null}.call(this,o),i.vnCreativeBlock=as.b.call(this,o),i.vnBrowserCache=function(t){var e=t&&t.querySelector('Extension[type="'+za+'"]');return e?{enabled:"true"===e.getAttribute("enabled"),global:"true"===e.getAttribute("global"),important:"true"===e.getAttribute("important")}:null}.call(this,o),i.vnCache=function(t){var e=t&&t.querySelector('Extension[type="'+os+'"][caching="true"]');if(e){var i="true"===e.getAttribute("global"),r="true"===e.getAttribute("important");return{serverUrl:e.getAttribute("serverUrl"),strict:"true"===e.getAttribute("strict"),global:i,important:r}}return null}.call(this,o),i.vnProhibitedWords=function(t){var e=t&&t.querySelector('Extension[type="'+Ma+'"]');if(e){var i=Object(wr.j)(e),r=Object(wr.c)(e,"global"),o=Object(wr.c)(e,"important")||e.getAttribute("important"),n=Object(wr.c)(e,"fatal"),a=e&&e.querySelector("words"),s=a&&Object(wr.d)(a).replace(/[,\s]+$/g,"").split(/\s*,\s*/i).join("|"),d=Object(wr.d)(e,"selector")||"",c=e.querySelectorAll("blockedMetrics");return{options:i,pattern:s,global:r,selector:d,trackings:c&&Array.from(c).map(function(t){return Object(wr.d)(t)}),fatal:n,important:o}}return null}.call(this,o);var d=i.extSkipTime=qe.call(this,o),c=function(t){var e=Object(Ii.b)(t);return{rawDuration:e,duration:Object(wr.g)(e),MediaFiles:xr.reduce(function(e,i){return e[i]=Object(Ii.c)(t,i,!0),e},{})}}(o);i.Media=ni({},c,{},d);var l=o.querySelectorAll("Tracking");i.Trackings=l&&Array.from(l).reduce(function(t,e){e&&_i(t,e.getAttribute("event"),Object(wr.d)(e));return t},{})||{},i.adParameters=function(t){var e=t&&t.querySelector("InLine > Creatives > Creative > Linear > AdParameters");return e?Object(wr.d)(e):null}(o),i.Impression.forEach(function(t){return _i(i.Trackings,"Impression",t)}),i.vnVisibleInventory=function(t){var e=t&&t.querySelector('Extension[type="'+bs+'"]'),i=e&&e.querySelectorAll("url"),r=i&&Array.from(i).map(function(t){return Object(wr.d)(t)}),o=Object(Li.s)(Object(wr.c)(e,"global"));return(o||r&&r.length)&&{global:o,urls:r}}(o);var u=o.querySelectorAll("VideoClicks ClickTracking");u&&Array.from(u).forEach(function(t){_i(i.Trackings,"ClickTracking",Object(wr.d)(t))});var h=o.querySelectorAll('Extension[type="vnCreative"] > *');h&&Array.from(h).forEach(function(t){t.tagName&&_i(i.Trackings,"vnCreative:"+t.tagName.toLowerCase(),Object(wr.d)(t))});var p=o.querySelectorAll("ViewableImpression > *");p&&Array.from(p).forEach(function(t){t.tagName&&_i(i.Trackings,"ViewableImpression:"+t.tagName.toLowerCase(),Object(wr.d)(t))});var f=o.querySelectorAll('Tracking[event="progress"]');return f&&Array.from(f).forEach(function(t){var e=Object(wr.d)(t),r=t.getAttribute("offset"),o=Object(wr.g)(r),n=Object(wr.f)(r);_i(i,"Progress",{url:e,offset:r,percentValue:n,timeValue:o})}),i.vnAfterplay=function(t){var e=t&&t.querySelector('Extension[type="'+Za+'"]');if(e){var i={fgColor:Object(wr.d)(e,"color","white"),bgColor:Object(wr.d)(e,"bgColor","black"),function:Object(wr.d)(e,"function"),timeout:Object(wr.g)(Object(wr.d)(e,"time"))},r=e.querySelector("replay");if(r){var o=Object(wr.d)(r,"label","  "),n={},a=r.querySelectorAll("clickTracking");n.clicks=a&&Array.from(a).map(function(t){return Object(wr.d)(t)}),i.replay={title:o,trackings:n}}var s=e.querySelector("close");if(s){var d=s&&Object(wr.d)(s,"label",""),c={},l=s.querySelectorAll("clickTracking");c.clicks=l&&Array.from(l).map(function(t){return Object(wr.d)(t)}),i.close={title:d,trackings:c}}var u=e.querySelector("advertiser");if(u){var h=Object(wr.d)(u,"label","   "),p=Object(wr.d)(u,"url")||Object(wr.d)(t,"ClickThrough"),f={};if(Object(wr.d)(u,"clickTracking",!1)){var g=u.querySelectorAll("clickTracking");f.clicks=g&&Array.from(g).map(function(t){return Object(wr.d)(t)})}else{var b=t.querySelectorAll("VideoClicks ClickTracking");f.clicks=b&&Array.from(b).map(function(t){return Object(wr.d)(t)})}i.advertiser={title:h,url:p,trackings:f}}var m=e.querySelector("featured");if(m){var v=Object(wr.d)(m,null,"");i.featured={html:v}}return i.global=Object(wr.c)(t,"global"),i[Fr.a]=Object(wr.c)(t,"important"),i.parsePoint=!0,i}return null}.call(this,o),i.vnAdEvents=function(t){var e=t&&t.querySelector('Extension[type="vnAdEvents"]'),i=e&&e.querySelector("function"),r=e&&e.querySelector("scriptUrl"),o=r&&decodeURIComponent(r),n=Object(wr.c)(e,"global"),a=Object(wr.c)(e,"handlerName"),s=Object(wr.c)(e,"events"),d=s&&s.length?"*"===s?"*":s.split(/[\s+,]/):null;return{global:n,handlerName:a,events:d&&d.length?"*"===d?us:us.filter(function(t){return-1<d.indexOf(t)}):null,vnFunction:i,vnScriptUrl:o}}(o)||{},i.vnPageChanged=function(t){var e=t&&t.querySelector('Extension[type="'+hs+'"]'),i=Object(wr.c)(e,"eventName"),r=Object(wr.c)(e,"handlerName");return{global:Object(wr.c)(e,"global"),important:Object(wr.c)(e,"important"),eventName:i,handlerName:r}}(o)||{},i.vnEventsParams=function(t){var e=t&&t.querySelector('Extension[type="'+gs+'"]');return e?{eventsParams:Object(wr.j)(e,{optionName:"Event",onlyTopLevel:!0}).reduce(function(t,e){var i=e.getAttribute("name"),r=Object(wr.j)(e,{optionName:"Parameter"});return i&&r&&(t[i]=r),t},{}),global:Object(wr.c)(e,"global"),important:Object(wr.c)(e,"important")||e.getAttribute("important")}:null}(o)||{},i.vnUnderplay=function(t){var e=t&&t.querySelector('Extension[type="'+is+'"]');if(!e)return null;var i=e.querySelector("url > clickTracking"),r=Object(wr.d)(e,"url > url"),o=Object(wr.d)(e,"html",""),n=Object(wr.c)(e,"global"),a=Object(wr.c)(e,"important"),s=Object(wr.d)(e,"color"),d=Object(wr.d)(e,"bgColor"),c=Object(wr.d)(e,"bgImage"),l=Object(wr.d)(e,"bgPosition","cover"),u=Object(wr.d)(e,"opacity","1"),h=e.querySelector("close");return{global:n,important:a,html:o,clickTracking:i,openWindowUrl:r,color:s,backgroundColor:d,backgroundImage:c,backgroundSize:l,opacity:u,closeData:h&&{img:h.getAttribute("img"),time:h.getAttribute("time"),top:h.getAttribute("top"),right:h.getAttribute("right"),bottom:h.getAttribute("bottom"),left:h.getAttribute("bottom"),width:h.getAttribute("width"),height:h.getAttribute("height")}}}(o)||{},0>e.indexOf("vnShowViqeo")&&(i.vnShowViqeo=function(t){var e=t&&t.querySelector('Extension[type="'+fs+'"]');return e?{options:Object(wr.j)(e),global:Object(wr.c)(e,"global"),important:Object(wr.c)(e,"important")||e.getAttribute("important")}:null}(o)),i},i.resizeAd=function(t,e,i){void 0===i&&(i=this.viewMode);var r=this._adHasBeenLoaded,o=this.vpaid,n=this.format;if(r){this.lastPendingCommands.resizeAd&&delete this.lastPendingCommands.resizeAd;var a=Object(Li.o)(this.adWidth,t)||Object(Li.o)(this.adHeight,e);this.adWidth=t,this.adHeight=e,this.viewMode=i;var s=this._getControlNode("container"),d=this._getControlNode("vpaidSlot"),c=this._getControlNode("videoSlot"),l="absolute"!==(d&&getComputedStyle(d)||{}).position;if(l&&this.logger.log(' was detected that vpaid changed vpaidSlot position from "absolute"',2,"pink"),c&&"hidden"!==getComputedStyle(c).display&&c.clientHeight){var u=this._getControlNode("videoSlotParent");u&&c.parentElement!==u&&(this._setControlData("videoSlot",{node:null}),c=null)}if(a&&o&&o.resizeAd(t,e,i),s){var h=(n&&n.getOptions()||{}).setSizeByMedia,p=s.getBoundingClientRect()||{},f=p.width,g=p.height,b=c&&getComputedStyle(c)||{},m=b.width,v=void 0===m?"0":m,y=b.height,O=void 0===y?"0":y,_=f-(v=~v.indexOf("%")?f*parseFloat(v)/100:parseFloat(v)),A=g-(O=~O.indexOf("%")?g*parseFloat(O)/100:parseFloat(O));if(c&&(0<g||l))l||0>_||0>A&&-.5>A?(this._saveVideoSlotParams(c),Object(Wi.b)(c,{position:"absolute",left:"50%",top:"50%",marginLeft:Object(Li.r)(-t/2),marginTop:Object(Li.r)(-e/2),width:Object(Li.r)(t),height:Object(Li.r)(e)})):(this._saveVideoSlotParams(c),Object(Wi.b)(c,{position:"relative",left:0,top:0,verticalAlign:"middle",marginLeft:2<_?"0":Object(Li.r)(-2<_&&0>_&&_||0),marginTop:0}));else if(Object(Li.s)(h)){var w=this._getControlNode("wrapper"),S=w&&Object(Li.h)(w),j=S.outsideHeight,P=S.insideHeight,C=e+(j||0)-(P||0);w&&Object(Wi.b)(w,{height:Object(Li.r)(C)});var E=this._getControlNode("iframe");E&&Object(Wi.b)(E,{height:Object(Li.r)(C)})}else if(!c&&d&&0<g){var D=Di(t,f),I=Di(e,g);Object(Wi.b)(d,{position:"absolute",left:"50%",top:"50%",marginLeft:Object(Li.r)(-D/2),marginTop:Object(Li.r)(-I/2),width:Object(Li.r)(D),height:Object(Li.r)(I)})}s&&Object(Wi.b)(s,{textAlign:c&&"absolute"===c.style.position?"initial":"center"})}}else this.lastPendingCommands.resizeAd=this.resizeAd.bind(this,t,e,i)},i.startAd=function(t){var e=this;if(Si.call(this)){var i=(t||{}).checkVisibility,r=this.format&&this.format.getStartMethod&&"manual"===this.format.getStartMethod();if(i&&r){this.startingWithCheckVisibility=!0;var o=this.format;this._setState("waitStarting"),o&&o._updateModuleState&&o._updateModuleState()}else if(this._inState(["loaded","complete"])||this.startingWithCheckVisibility&&this._inState("waitStarting")){this.startingWithCheckVisibility=!1,this._setState("starting");var n=this.vpaid,a=(this.options||{}).startAdTimeout;a&&(this._addTimeout(_s,function(){n&&n.stopAd(),e._failedData()},a),n.subscribeOnce(function(){e._removeTimeout(_s)},"AdStarted"),n.subscribeOnce(function(){e._removeTimeout(_s)},"AdError")),this.globalTimeoutProvider&&this.globalTimeoutProvider.start(),n.startAd()}else this._inState(["playing","started"])||(this.startAdShouldBeInvoked=!0)}},i.pauseAd=function(t){this.pausedWasStartedByVisibilityChange=!(!t||!t.method||"onvisibilitychange"!==t.method.toLowerCase()),this._inState(["playing","started"])&&(this._setState("pausing"),this.vpaid.pauseAd())},i.resumeAd=function(){this._inState(["paused","pausing"])&&(this._setState("resuming"),this.vpaid.resumeAd())},i.stopAd=function(){var t=this;if(!this._inState(["stopped","stopping"])){this._inState("stopped")||this._setState("stopping");var e=this.vpaid,i=(this.options||{}).stopAdTimeout,r="ModuleStopAdTimerId";if(e&&!this._adStoppedWasCalled)try{e.subscribe(function(){t._removeTimeout(r)},"AdError"),e.subscribe(function(){t._removeTimeout(r)},"AdStopped"),e.stopAd()}catch(t){var o=t;(!o.code||o.code<Ti.a.GENERAL_LINEAR_ERROR)&&((o=new Error(t)).code=Ti.a.VPAID_JS_ERROR),this._trackError(o)}this._adStoppedWasCalled?li.call(this):i&&this._addTimeout(r,function(){li.call(t)},i)}},i.skipAd=function(){var t=this,e=this.getAdSkippableState();if(!this._inState("skipping")&&e){var i="ModuleSkipAdTimerId",r=this.vpaid,o=this.options.skipAdTimeout;this._setState("skipping"),this._restoreVideoSlotParams(),r&&(r.subscribeOnce(function(){t._removeTimeout(i)},"AdSkipped"),setTimeout(function(){return r.skipAd()},1)),o&&this._addTimeout(i,function(){ui.call(t)},o)}},i.getAdRemainingTime=function(){return this.vpaid&&this.vpaid.getAdRemainingTime()||0},i.getAdElapsedTime=function(){return this.vpaid&&this.vpaid.getAdElapsedTime()||t.prototype.getAdElapsedTime.call(this)},i.getAdDuration=function(){return 0<=this.adDuration&&this.adDuration||(this.vpaid?this.adDuration=this.vpaid.getAdDuration():0)},i.getAdAspectRatio=function(){var e=this.vpaid;return e&&e.getAdAspectRatio()||t.prototype.getAdAspectRatio.call(this)},i.setAdVolume=function(e,i){if(!Si.call(this))return null;var r=(i=ni({},{invoker:null},{},i)).invoker,o=this._getControlInstance("volume");this._useExistsVideoSlot&&!r&&o&&o.cancelVolumeUpdate();var n=this.canChangeVolume();return!this.vpaid||e&&!n?void(this.canChangeVolume()&&(this.lastPendingVolumeCommand=this.setAdVolume.bind(this,e,i))):(this.vpaid.setAdVolume(e,i),t.prototype.setAdVolume.call(this,e,i))},i._destroy=function(){var e=this;if(!this._inState(["destroying","destroyed"])){this.isVpaidJs()&&(this._delayRemovingControls={containerIframe:{delay:3e3}}),this.lastPendingCommands={},this._setState("destroying"),this._stopObserveIframe(),Ai.call(this,this.vnShowViqeo?["AdStarted"]:[]);var i=this.vpaid,r=this.globalTimeoutProvider;this._restoreVideoSlotParams(),this._removeTimeout(ys),r&&r.stop(),this.subscribeOnce(function(){e._controls=[],i&&(i.subscribeOnce(function(){e.vpaid=null},"AdDestroyed"),i._destroy(),e.vnAdEvents&&e.vnAdEvents._destroy(),e.vnPageChanged&&e.vnPageChanged._destroy()),e.format=null,e.data=[],e._setState("destroyed")},"AdDestroyed"),t.prototype._destroy.call(this)}},i._restoreVideoSlotParams=function(){var t=this._getControlUnionData("videoSlot")||{},e=t.node,i=t.savedCss;if(e&&i&&i.length){var r=i[0].style;r&&Object(Wi.b)(e,r)}},i._saveVideoSlotParams=function(t){if(this._useExistsVideoSlot){var e=this._getControlUnionData("videoSlot"),i=(t||e.node||{}).style,r=i?{style:{width:i.width,height:i.height}}:null,o=e.savedCss;(o||(o=[])).push(r),this._setControlData("videoSlot",{node:e.node||t,savedCss:o})}},i._destroyControls=function(){this._controls.forEach(function(t){t._destroy()})},i._destroyControl=function(t){this._controls=this._controls.filter(function(e){return!(e.getName&&e.getName()===t&&(e._destroy(),1))})},i._createControls=function(t,e){var i=this;void 0===t&&(t=!1),void 0===e&&(e=!1);var r=this._getControlUnionData("adSpectorControls");this._destroyControls();var o=t&&"1"!==r?Es.filter(function(t){var e=i._getControlUnionData(t.getName(),"enableWithVPAID");return Object(Li.s)(e)}):Es;this._useExistsVideoSlot&&this._setControlData("container",{css:{background:"none"}});var n=[].concat(Cs);return this.options.hideSpinnerControl||n.push(Ia),this.options.hideTitleControl||n.push(Sn),[].concat(e?[]:n,o).reduce(function(t,e){return t.then(function(){var t;try{t=new e(i),i._controls.push(t)}catch(t){}return t&&t.isReady?t.isReady():Promise.resolve()})},Promise.resolve()).then(function(){return function(){var t=this._getControlNode("wrapper"),e=Object(Li.h)(t).paddingTop,i=this._getControlNode("title"),r=this._getControlNode("logo");t&&e&&i&&0===i.getBoundingClientRect().height&&r&&0===r.getBoundingClientRect().height&&(Object(Wi.b)(t,{paddingTop:0}),this.trigger("slotSizeChanged"))}.call(i),!0})},i._setState=function(t){this.state=t},i._inState=function(t){return-1!==[].concat(t).indexOf(this.state)},i._setFormat=function(t){this.format=t,this._destroyIframe(),t.hasReachInventoryFactory&&t.hasReachInventoryFactory()&&!Object(Li.p)(this._getLastParameters())&&ei(this),gi.call(this);var e=t.getModuleOptions();e&&this.setOptions(e),t.subscribe(function(t){this.trigger("vnFormatStateChanged",t),t&&"isFloating"in t&&(this.adIgnoreSizeErrorState=!0===t.isFloating)}.bind(this),"vnFormatStateChanged",t),this.anckorElement=t.getAnchorElement&&t.getAnchorElement();var i=t.getSlotSize&&t.getSlotSize()||{},r=i.width,o=i.height;this._setControlData("vnMacros",{"[WIDTH]":r||0,"[HEIGHT]":o||0})},i._getLastDataXml=function(t){void 0===t&&(t=0);var e=this.data;if(!e||e.length<t)return null;var i=e[e.length-(t+1)];return i&&i.dataXml},i._getLastParameters=function(t){void 0===t&&(t=0);var e=this.data;if(!e||e.length<t)return null;var i=e[e.length-(t+1)];return i&&i.parameters},i._preprocessDataUrl=function(t){return Object(Li.b)(Ds,{url:t,module:this}).then(function(t){return t.url})},i._requestDataXml=function(t,e){var i=this;if(this._inState(["destroying","destroyed"]))return null;var r=(this.options||{}).dataRequestTimeout;return this.replaceMacros(t).then(this._preprocessDataUrl.bind(this)).then(function(t){Object(Yi.f)(t,{overrideMimeType:"text/xml",timeout:r}).then(function(t){var r=t.target.responseXML||t.target.response&&(new DOMParser).parseFromString(t.target.response,"text/xml");i._processDataXml(r,e)}).catch(function(t){t.type,i._failedData()})})},i._processDataXml=function(t,e){if(!this._inState(["destroying","destroyed"])){if(!t||!t.querySelector)return void this._failedData();var i=Object(wr.b)(t),r=i&&i.length||0;if(1<r&&Array.from(i).every(function(t){return null!==t.getAttribute("sequence")}))return this.data.push({dataXml:t,defaultAdXml:null,parameters:null}),this._trackError({code:Ti.a.FORMAT_ERROR,message:"Can not play Ad Pods("+r+")"}),void this._failedData();var o=1===r?i:r&&Array.from(i).filter(function(t){return null!==t.getAttribute("sequence")});if(!o||!o.length)return void this._failedData();var n=o[0];this.ad=n;var a=n.querySelector('Extension[type="vnDefaultAd"]');a&&a.parentNode.removeChild(a);var s=this._parseDataXML(t);this.data.push({dataXml:t,defaultAdXml:a,parameters:s}),e&&this._setFormat(e),s?this._processTreeNode(s):this._failedData()}},i._processTreeNode=function(t){var e=this;this._controlsDataStack.push(),Object(Li.f)(Is,this).then(function(){e._trackPassedWrapper();var i=t.wrapperUrl;if(i){var r=e.globalTimeoutProvider;r&&r.pause(),e.replaceMacros(i).then(function(t){return e.format&&e.format._requestDataXml(t)}).then(function(t){return r&&r.start(),t}).then(e._requestDataXml.bind(e))}else e.format._initDataXml().then(e._vpaidInit.bind(e)).catch(function(t){return yi.call(e,t,"._vpaidInit() failed "),!1})}).catch(function(t){yi.call(e,t,"._processTreeNode(): One of custom extensions prevented start.")})},i._processParsedTreeNode=function(){var t=this,e=this._getLastParameters();this._disableExtensions&&this._disableExtensions.forEach(function(t){e&&delete e[t]}),this._controlsDataStack.push(),Object(Li.f)(Is,this).then(function(){t._trackPassedWrapper(),e.wrapperUrl?(t.data.push({parameters:t.vnParsedParameters.shift()}),t._processParsedTreeNode()):t.format._initDataXml().then(t._vpaidInit.bind(t)).catch(function(e){yi.call(t,e,"._vpaidInit() failed ",function(){t.data.push({parameters:t.vnParsedParameters.shift()}),t._processParsedTreeNode()})})}).catch(function(e){yi.call(t,e,"._processParsedTreeNode(): One of custom extensions prevented start.")})},i._failedData=function(t,e){var i=this;void 0===t&&(t=!1);var r=(this.options||{}).canExecuteNoAd;if(this._adImpressionHappened=!1,this.lastPendingCommands={},this._adHasBeenLoaded=!1,0>=this._adsLeft){(this.options||{}).maxAds;this._abort({errorEventParams:e})}else{var o=null;do{var n=this._getControlUnionData("vnNoAd")||{};if(this._controlsDataStack.pop(),o=(this.data.pop()||{}).defaultAdXml,(!this.data.length&&!o||t)&&!this._runningVnNoAd)return this._trackError({code:Ti.a.GENERAL_VPAID_ERROR,message:"No playable sources found"}),void(n&&!0===r?(this._runningVnNoAd=!0,ti(this,n).then(function(){return i.logger.log(".executing vnNoAd")}).catch(function(){return i._abort({errorEventParams:e})})):this._abort({errorEventParams:e}))}while(this.data.length&&!o||t);this._processDataXml(o)}},i._abort=function(t){var e=(t||{}).errorEventParams||{},i=e.code,r=e.msg,o=e.cancel;this.format&&this.format.abort(),this.vnShowViqeo||o||!wi.call(this)||(this.trigger("AdError",i,r),fi.call(this,"AdError")),this._destroy()},i._replay=function(){var t=this.vpaid;t&&t._destroy&&t._destroy(),this._useExistsVideoSlot||this._setControlData("videoSlot",{node:null}),this.vpaid=null,this._vpaidInit()},i._vpaidInit=function(t){var e=this;void 0===t&&(t=!1);var i=this._getLastParameters()||{},r=i.Media,o=i.adParameters;return o&&(this.creativeData.AdParameters=o),this._vpaidCreate(r,o,t).then(function(t){e.vpaid=t;var i=t||{},r=i.adWidth,o=i.adHeight;return t instanceof Xi&&!r&&!o&&t.getLinkedVpaid&&t.getLinkedVpaid().then(function(t){if(~t.toString().indexOf("VpaidExternalJs")){var i=e.format;i&&i.fullscreenSwitchOn&&i.fullscreenSwitchOn()}}),t.setAdExpanded(e.getAdExpanded()),t.setAdSkippableState(e.getAdSkippableState()),t.setAdVolume(e.getAdVolume()),e.progressTrackingEvents=[],e.data.forEach(function(t){var i=t.parameters.Progress;i&&i.forEach(function(t){e.progressTrackingEvents.push(t)})}),t.subscribe(e._trackProgress.bind(e),"AdRemainingTimeChange"),t.subscribe(di.bind(e),"AdLoaded"),t.subscribe(ci.bind(e),"AdStarted"),t.subscribe(li.bind(e),"AdStopped"),t.subscribe(ui.bind(e),"AdSkipped"),t.subscribe(function(){this.adSkippableState=this.vpaid.getAdSkippableState()}.bind(e),"AdSkippableStateChange"),t.subscribe(function(){}.bind(e),"AdSizeChange"),t.subscribe(function(){this.vpaid.getAdLinear()}.bind(e),"AdLinearChange"),t.subscribe(function(){}.bind(e),"AdDurationChange"),t.subscribe(function(){this.adExpanded=this.vpaid.getAdExpanded()}.bind(e),"AdExpandedChange"),t.subscribe(function(){this.adRemainingTime=this.getAdRemainingTime()||0,this.adDuration=this.getAdDuration()||0}.bind(e),"AdRemainingTimeChange"),t.subscribe(function(){var t=this.vpaid;if(t){var e=t.getAdVolume();(0===e||1===e?this.logger.log:this.logger.trace)(" @AdVolumeChange adVolume="+e.toFixed(2),2),this.adVolume.toFixed(2)!==(100*e).toFixed(2)&&(this._inState("playing")&&(0<this.adVolume&&0===e&&this._trackUrls("mute"),0===this.adVolume&&0<e&&this._trackUrls("unmute")),this.adVolume=e)}}.bind(e),"AdVolumeChange"),t.subscribe(hi.bind(e),"AdImpression"),t.subscribe(pi.bind(e),"AdVideoStart"),t.subscribe(function(){fi.call(this,"AdVideoFirstQuartile"),this._trackUrls("firstQuartile")}.bind(e),"AdVideoFirstQuartile"),t.subscribe(function(){fi.call(this,"AdVideoMidpoint"),this._trackUrls("midpoint")}.bind(e),"AdVideoMidpoint"),t.subscribe(function(){fi.call(this,"AdVideoThirdQuartile"),this._trackUrls("thirdQuartile")}.bind(e),"AdVideoThirdQuartile"),t.subscribe(function(t){var e=this;if(void 0===t&&(t={}),t||(t={}),!this._inState(["complete","completing","destroy","destroying","stopping","stopped"])){if(this._adVideoCompletedWasCalled=!0,this._setState("completing"),fi.call(this,"AdVideoComplete"),!this._adImpressionHappened){var i="Get @AdVideoComplete but not get @AdImpression media="+this._media;this._trackError({code:Ti.a.AD_IMPRESSION_NOT_HAPPENED_ERROR,message:i})}var r=!1!==t.shouldDestroy,o=this._completeWasTracked,n=this.format,a=this.vnAfterplay;(!a||!a.isActive())&&n&&n.hide&&n.hide(),(o&&Promise.resolve()||this._trackUrls("complete")).then(function(){if(e._completeWasTracked=!0,e._setState("complete"),e.trigger("AdVideoComplete"),e._inState("stopped")&&r)e._destroy();else if(!(a&&a.isActive()||e._adStoppedWasCalled)){var t=(e.options||{}).beforeStopAdTimeout,i="AdStopped",o=function t(){e.unsubscribe(t,i),e._removeTimeout("beforeAdStoppedTimeout"),e._inState("stopped")&&r&&e._destroy()};e._addTimeout("beforeStopAdTimeout",function(){e.unsubscribe(o,i),e._inState("stopped")&&r&&e._destroy(),e._inState("stopping")&&r&&e.subscribeOnce(function(){return e._destroy()},"AdStopped")},t),e.subscribe(o,i),e.stopAd()}})}}.bind(e),"AdVideoComplete"),t.subscribe(function(){this._trackUrls("complete"),this._completeWasTracked=!0}.bind(e),"AdVideoCompleteTrackOnly"),t.subscribe(function(t,e,i){this._trackUrls("ClickTracking");var r=this._getControlUnionData("videoclick","action");return!this._inState(["paused","paused"])||this.pauseWasStartedByVPAID||this.pausedWasStartedByVisibilityChange?(this._inState("playing")&&this.pauseAd(),i&&(t?Object(Yi.b)(t):this.data.forEach(function(t){var e=t.parameters;return Object(Yi.b)(e.ClickThrough)})),this.trigger("AdClickThru",t,e,!1),void("close"===r&&this.skipAd())):void this.resumeAd()}.bind(e),"AdClickThru"),t.subscribe(function(){}.bind(e),"AdInteraction"),t.subscribe(function(){}.bind(e),"AdUserAcceptInvitation"),t.subscribe(function(){}.bind(e),"AdUserMinimize"),t.subscribe(function(){this.getAdSkippableState()&&(this.trigger("AdSkipped"),fi.call(this,"AdSkipped"),this._destroy())}.bind(e),"AdUserClose"),t.subscribe(function(){this.pauseWasStartedByVPAID=!this._inState("pausing"),this._setState("paused"),this._trackUrls("pause"),fi.call(this,"AdPaused")}.bind(e),"AdPaused"),t.subscribe(function(){fi.call(this,"AdPlaying"),this._inState("resuming")&&(this._setState("playing"),this._trackUrls("resume"))}.bind(e),"AdPlaying"),t.subscribe(function(t){this.trigger("AdLog",t)}.bind(e),"AdLog"),t.subscribe(function(t,e){this._trackError({code:t,message:e}),this._failedData()}.bind(e),"AdError"),Ts.forEach(function(i){return t.subscribe(e.trigger.bind(e,i),i)}),t}).then(function(){var t,i=null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.mainContainerIsIframe,r=(e._getControlUnionData("mainContainer")||{}).isIframe;return void 0!==r&&(i=r),function(t){var e=this;void 0===t&&(t=!0);var i=this.vpaid,r=this.parentFormat;return this.vpaidIsExternal=i instanceof Vi,this._stopObserveIframe(),new Promise(function(o){var n=e._getControlNode("slot");if(!Object(Wi.p)(n))throw new Error("Invalid environmentVars.slot ("+n+")");var a=n.offsetWidth||parseInt(getComputedStyle(n).width,10)||0;if(!e.adIgnoreSizeErrorState){var s=ii.call(e,a),d=s.error,c=s.message;d&&e._trackError(ri(c),!1)}var l=e._getControlNode("iframe");l?r?(l.setAttribute("allow","autoplay"),Object(Wi.v)(l,{onload:function(){var t=e._getControlNode("wrapper");if(t&&r){var n=(t&&Object(Li.h)(t)||{}).paddingTop;n&&r.updateControlsLayout&&r.updateControlsLayout(n,!1,e.getAPI())}e._createControls(e.vpaidIsExternal,!0).then(function(){return o(i)})}})):Object(Wi.v)(l,{onload:function(){e._createControls(e.vpaidIsExternal,!1).then(function(){return o(i)})}}):Xt(n,{shouldCreateIframe:t,logger:e.logger,sandbox:"allow-forms allow-same-origin allow-pointer-lock allow-scripts allow-popups allow-top-navigation"}).then(function(t){var i;e._addDOMNode(t),e._setControlData("iframe",{node:t}),e._useExistsVideoSlot&&Object(Wi.b)(t,{position:"absolute",left:0,top:0,zIndex:null}),t.contentDocument&&Object(Wi.b)(t.contentDocument.documentElement,{minHeight:"100%"});var r=(null===t||void 0===t||null===(i=t.contentDocument)||void 0===i?void 0:i.body)||t;Object(Wi.b)(r,{minHeight:"100%",padding:0,margin:0,overflow:"hidden",fontFamily:"Arial, Helvetica, sans-serif",fontSize:"14px"})}).then(function(){return o(i)})})}.call(e,i)}).then(function(){return e._createControls(e.vpaidIsExternal)}).then(function(){return e.format._vpaidInitAd()}).then(this._vpaidInitAd.bind(this)).then(function(t){return t.getModuleOptions&&t.getModuleOptions().then(function(t){t&&e._updateOptionsFromVpaid(t)}),e.lastPendingVolumeCommand&&e.lastPendingVolumeCommand(),e.lastPendingVolumeCommand=null,t}).then(function(t){return e.trigger("VnVPAIDCreated",{vpaid:t}),t}).catch(function(t){if(t&&t.code===Ti.a.FAIL_MEDIA_START&&!e._inState("destroyed")&&!e._inState("destroying")){e._stopObserveIframe();var i=e.vpaid;return i&&i._destroy(),e._vpaidInit(!0)}throw t instanceof Error?t:Error(t)})},i.getAPI=function(){var t=this;return{getMainModuleId:function(){return t.mainModuleId},getFormat:function(){return t.format},setControlData:this._setControlData.bind(this),getControlUnionData:this._getControlUnionData.bind(this),getControlNode:this._getControlNode.bind(this),getControlInstance:this._getControlInstance.bind(this),getLastParameters:this._getLastParameters.bind(this),getOptions:function(){return ni({},t.options)},getEnvironmentVars:function(){return ni({},t.environmentVars)},extendEnvironmentVars:function(e){return Object(Fr.e)(t.environmentVars,e)},getAdWidth:function(){return t.getAdWidth()},getAdHeight:function(){return t.getAdHeight()},getIndents:this._getIndents.bind(this),saveVideoSlotParams:this._saveVideoSlotParams.bind(this),getAdAspectRatio:this.getAdAspectRatio.bind(this),getAdSkippableState:this.getAdSkippableState.bind(this),setAdSkippableState:this.setAdSkippableState.bind(this),getAdRemainingTime:this.getAdRemainingTime.bind(this),getAdElapsedTime:this.getAdElapsedTime.bind(this),getAdDuration:this.getAdDuration.bind(this),resizeAd:this.resizeAd.bind(this),setWrapperSize:function(t){var e=this._getControlNode("wrapper");return e&&Object(Wi.b)(e,{height:Object(Li.r)(t)}),e}.bind(this),inState:this._inState.bind(this),startAd:this.startAd.bind(this),pauseAd:this.pauseAd.bind(this),resumeAd:this.resumeAd.bind(this),trackStrongUrls:function(e){return t._trackStrongUrls(e)},addVPAIDEventListener:function(e,i,r){return void 0===r&&(r=t),r._addVPAIDEventListener(t,e,i)},removeVPAIDEventListener:function(e,i,r){return void 0===r&&(r=t),r._removeVPAIDEventListener(t,e,i)},isVpaidJs:this.isVpaidJs.bind(this),trigger:this.trigger.bind(this),logger:this.logger}},i._vpaidCreate=function(t,e,i){void 0===i&&(i=!1);try{JSON.stringify(t,null,"\t")}catch(e){}return new kr(t,e,this,i).getVpaidPromise()},i._vpaidInitAd=function(){var t=this;if(this._inState(["destroying","destroyed"]))return Promise.reject();var e=this.viewMode,i=this.desiredBitrate,r=this.vpaid,o=this.format,n=this.options,a=n.vpaidInitAdTimeout,s=n.observeIframe,d=this.creativeData.AdParameters,c=this.environmentVars.videoSlotCanAutoPlay,l=this._getControlNode("iframe"),u=this._getControlNode("vpaidSlot")||this._getControlNode("slot"),h=this._getControlNode("wrapper"),p=h||this._getControlNode("slot"),f=this._getControlNode("videoSlot"),g=this._getControlUnionData("vnShowViqeo");g&&(this.setAdVolume(0),(f=f&&Object(Wi.a)(u,"video",{width:"1px",height:"1px"}))&&(this._addDOMNode(f),f.volume=0,f.mute=!0));var b=getComputedStyle(h||u||l.contentWindow.document.body),m=b.paddingTop,v=b.paddingRight,y=b.paddingBottom,O=b.paddingLeft,_=this.environmentVars.forceAspectRatio,A=this.getAdWidth()||r.getAdWidth()||p.offsetWidth,w=this.getAdHeight()||r.getAdHeight()||0^A*(r.getAdAspectRatio()||9/16),S=o.correctAdSize(A,w),j=S.adWidth,P=S.adHeight;return isNaN(a),this._removeTimeout(As),this._addTimeout(As,function(){t._failedData(),t.vpaid=null},a),r.subscribe(function(){t._removeTimeout(As)},"AdLoaded"),r.subscribe(function(){t._removeTimeout(As)},"AdError"),s&&this._observeClearingIframe(l,u),r.initAd(g?1:j,g?1:P,e,i,{AdParameters:d},{top:m,right:v,bottom:y,left:O,iframe:l,slot:u,parentSlot:p,videoSlot:f,videoSlotCanAutoPlay:c,forceAspectRatio:_,useExistsVideoSlot:this._useExistsVideoSlot,parentFormat:o,moduleAPI:{setControlData:this._setControlData.bind(this),getControlNode:this._getControlNode.bind(this)}})},i._observeClearingIframe=function(t,e){var i=this;if("undefined"!=typeof MutationObserver&&t&&e){var r=t.body||t.contentWindow.document.body,o=new MutationObserver(function(){Object(Wi.o)(e,r)||(o.disconnect(),wi.call(i)&&i.trigger("AdError",Ti.a.VPAID_JS_ERROR,vs+" slot disappeared from DOM"),i._failedData())});o.observe(r,{childList:!0,attributes:!1,characterData:!1,subtree:!0}),this._iframeObserver=o}},i._stopObserveIframe=function(){this._iframeObserver&&(this._iframeObserver.disconnect(),this._iframeObserver=null)},i._destroyIframe=function(){if(this.environmentVars&&this.environmentVars.iframe)return!1;var t=this._getControlNode("iframe");return t&&(t.onload=null,this._removeDOMNode(t)),this._setControlData("iframe",{node:null}),!0},i._getControlInstance=function(t){var e=this._controls.filter(function(e){return e.name===t})[0];return e},i._getControlData=function(t,e,i,r){return void 0===i&&(i=!1),this._controlsDataStack.getControlData(t,e,i,r)},i._getControlUnionData=function(t,e,i){return this._controlsDataStack.getControlUnionData(t,e,i)},i._getControlNode=function(t){return this._controlsDataStack.getControlNode(t)},i._setControlData=function(t,e,i){return this._controlsDataStack.setControlData(t,e,i)},i._applyLayout=function(t){var e=this;Object.keys(t).forEach(function(i){var r=e._getControlUnionData(i,"css"),o=t[i]||{};r=r?ni({},r,{},o):ni({},o),e._setControlData(i,{css:r})})},i._getIndents=function(){var t=this._getControlNode("wrapper");return Object(Li.h)(t)},i._track=function(t){var e=this;if(!this._isTrackingAvailable())return Promise.resolve();var i=this._checkTrackingResponseAvailable()&&this._trackError.bind(this);return Promise.all(this.data.reduce(function(r,o){var n=o.dataXml;return r.concat(Object(Yi.e)(n,t,e.replaceMacros.bind(e),i))},[]))},i._trackUrls=function(t){var e=this;if(!this._isTrackingAvailable())return Promise.resolve();var i=this._checkTrackingResponseAvailable()&&this._trackError.bind(this);return Promise.all(this.data.reduce(function(r,o){var n=o.parameters;return n.Trackings&&n.Trackings[t]&&r.concat(Object(Yi.d)(n.Trackings[t],e.replaceMacros.bind(e),i))||r},[]))},i._getLastExistsTrackUrl=function(t){if(!this._isTrackingAvailable())return null;var e=this.data.reduceRight(function(e,i){var r=i.parameters;return e||r.Trackings&&r.Trackings[t]},null);return e&&e.length?e[0]:null},i._trackStrongUrls=function(t){if(!this._isTrackingAvailable())return Promise.resolve();var e=this._checkTrackingResponseAvailable()&&this._trackError.bind(this);return Promise.all(Object(Yi.d)(t,this.replaceMacros.bind(this),e))},i._trackError=function(t,e){var i=this;if(this._isTrackingAvailable()){var r=t.code,o=t.message,n=t.format,a=function(t){return t&&Object(Yi.c)(t.replace("[ERRORCODE]",encodeURIComponent(r)).replace("[MESSAGE]",encodeURIComponent(o)))},s=function(){return e&&wi.call(i)&&i.trigger("AdError",o)};r===Ti.a.FORMAT_ERROR&&n&&!this._trackedErrorsFormats[n]&&(this._trackedErrorsFormats[n]=!0,s());var d=function(t,e){var i=(t||{}).dataXml,r=Object(wr.b)(i),o=r&&r.length&&r[0].querySelectorAll(e);o&&Array.from(o).forEach(function(t){return a(Object(wr.d)(t))})};this.data.forEach(function(t){d(t,"InLine>Error"),d(t,"Wrapper>Error")}),s()}},i._trackProgress=function(){var t=this.getAdDuration(),e=this.getAdRemainingTime(),i=(t-e)/t,r=this.progressValue;this.progressTrackingEvents.forEach(function(e){e.offset;var o=void 0===e.timeValue?e.percentValue:e.timeValue/t;void 0!==o&&i>=o&&(void 0===r||r<o)&&e&&Object(Yi.c)(e.url)}),this.progressValue=i},i._isTrackingAvailable=function(){return!this._getControlUnionData("vnShowViqeo")},i._checkTrackingResponseAvailable=function(){var t=(this.options||{}).checkTrackingResponse;return Object(Li.s)(t)},i.isMediaUrlBlocked=function(t){var e=this._getControlUnionData("vnCreativeBlock","urls");if(!e)return!1;var i=Object.keys(e).some(function(i){return t.split("?")[0].replace(/^(https*:)*\/\//,"").toLowerCase()===e[i]});return i},i.setSelectedCreative=function(t,e,i){void 0===i&&(i=null);var r=encodeURIComponent(t);if(r&&(this._media=r),i=i&&i.replace&&i.replace(/[\t\n\r ]/gi,""),this._setControlData("vnMacros",{"[ASSETURI]":r,"[ASSETDURATION]":e,"[ASSETADPARAMS]":i}),this._isTrackingAvailable()){var o=this._getLastExistsTrackUrl("vnCreative:select");o&&this.replaceMacros(o).then(Yi.c)}},i._trackPassedWrapper=function(){if(this._isTrackingAvailable()){var t=(this._getLastParameters()||{}).Trackings,e=t&&t["vnCreative:passed"];e&&this._trackStrongUrls(e)}},i.postDebug=function(t,e){var i,r,o;if(e){var n=this._getControlUnionData("vnMacros"),a=n&&n["[ASSETADPARAMS]"]||this._getControlUnionData("vnMacros","[ASSETADPARAMS]"),s=n&&n["[ASSETURI]"]||this._getControlUnionData("vnMacros","[ASSETURI]"),d=this._getLastDataXml(),c=this.format&&this.format.getModuleNode&&this.format.getModuleNode(),l=Object(Wi.p)(c)&&c.outerHTML||"",u=this._getControlNode("iframe"),h=(null===u||void 0===u||null===(i=u.contentWindow)||void 0===i||null===(r=i.document)||void 0===r||null===(o=r.body)||void 0===o?void 0:o.outerHTML)||"",p=this._getControlNode("container"),f=p&&Array.from(p.querySelectorAll("iframe")).map(function(t){try{return t.contentWindow.document.body.outerHTML}catch(t){return null}});this.replaceMacros(e).then(function(e){return Object(Yi.f)(e,{method:"POST",requestHeaders:{"Content-Type":"application/json"},body:JSON.stringify({id:t,log:ki.b.archive.join("\n"),vast:d&&(d.innerHTML||d.documentElement.innerHTML),params:a,media:s,node:l,iframe:h,iframes:f&&f.length?f.filter(function(t){return!!t}):[]})})})}},i.postImpressionData=function(){var t=this._getLastExistsTrackUrl("vnCreative:impression");if(t){var e=this._getControlUnionData("vnMacros"),i=e&&e["[ASSETADPARAMS]"]||this._getControlUnionData("vnMacros","[ASSETADPARAMS]"),r=e&&e["[ASSETURI]"]||this._getControlUnionData("vnMacros","[ASSETURI]"),o=e&&e["[ASSETDURATION]"]||this._getControlUnionData("vnMacros","[ASSETDURATION]"),n=this._getLastDataXml(),a=n&&Object(wr.c)(n,"VideoClicks > ClickThrough","");this.replaceMacros(t).then(function(t){return Object(Yi.f)(t,{method:"POST",requestHeaders:{"Content-Type":"application/json"},body:JSON.stringify({params:i,duration:o,media:r,clickthrough:a})})})}},i.replaceMacros=function(t){var e=this;t=t.replace(/%%SITE%%/g,location&&location.hostname||"").replace(/%%SCHEME%%/g,location&&location.protocol||"").replace(/%%.*?%%/g,"");var i=Object(wr.h)(t);return Oi.call(this,i).then(function(){return e.substituteMacroValue(t)})},i.substituteMacroValue=function(t){var e=this._getControlUnionData("vnMacros");return e?Object.keys(e).reduce(function(t,i){return t&&t.replace(i,e[i])},t):t},i.canChangeVolume=function(){return this._inState(["started","playing","paused","loaded"])},i.vpaidJsVideoSlotShouldBeMuted=function(){return this.options&&this.options.vpaidJsVideoSlotShouldBeMuted},i.isVpaidJs=function(){return this.vpaid&&~this.vpaid.toString().indexOf("VpaidJs")},i.getAnchorElement=function(){return this.anckorElement},e}(Ii.a),Ps=[function(t){return new Promise(function(e){t&&t.getAPI&&t.getAPI().logger||ki.b;var i=[],r=function(e){var r=t._getLastDataXml();if(r){var o=t._checkTrackingResponseAvailable()&&t._trackError.bind(t),n=Object(Yi.e)(r,'Extension[type="CustomTracking"] Tracking[event="'+e+'"]',t.replaceMacros.bind(t),o);i.push.apply(i,n)}},o=t.waitAsyncTrackings;t.waitAsyncTrackings=function(){return Promise.all([o.apply(t),Promise.all(i)])};var n=t.skipAd;t.skipAd=function(){return r("onSkipAd"),n.apply(t,arguments)};var a=t._processDataXml;t._processDataXml=function(e){(a.apply(t,arguments),e&&e.querySelector)&&(r("onVastLoad"),!e.querySelector("Wrapper,MediaFile")&&r("onVastEmpty"))},e(t)})},function(t){var e=t&&t.getAPI&&t.getAPI().logger||ki.b,i=t.options.externalTracking;"object"==typeof i&&(e.log("::Plugin[externalTracking] Init"),Object.keys(i).forEach(function(e){var r=i[e];t.subscribe(function(){[].concat(r).forEach(Yi.c)},e)}))},function(t){function e(){c&&(o=Date.now(),d._addTimeout(on,r,c))}function i(){d._destroy()}function r(){i(),t._trackError({code:Ti.a.TIMEOUT_OF_MEDIA,message:"Neither AdVideoFirstQuartile nor AdVideoMidpoint event happened during "+s+"ms after AdVideoStart event"})}var o,n=t&&t.getAPI&&t.getAPI().logger||ki.b,a=t.options.videoStartTimeout,s=void 0===a?2e4:a,d=new Nr.a({ancestor:"::Plugin[q1Tracking]",logger:n}),c=s;d._addVPAIDEventListener(t,"AdVideoStart",e),d._addVPAIDEventListener(t,"AdPaused",function(){d._removeTimeout(on),c-=Ei(0,Date.now()-o)}),d._addVPAIDEventListener(t,"AdPlaying",e),d._addVPAIDEventListener(t,"AdVideoFirstQuartile",i),d._addVPAIDEventListener(t,"AdVideoMidpoint",i),d._addVPAIDEventListener(t,"AdStopped",i),d._addVPAIDEventListener(t,"AdDestroyed",i)},function(t){var e=t&&t.getAPI&&t.getAPI().logger||ki.b,i=t.options.noAdCallback,r=window[i]||i;"function"==typeof r&&(e.log(nn+" Init"),t.subscribe(function(){e.log(nn+" Executing");var i=t.getAnchorElement();setTimeout(function(){return r({anchorElement:i})})},"AdError"))},function(t){return new pn(t)}],Cs=[gn,mn,On,An],Es=[Nn,In,Mn.a,Hn,Xn,Jn,ta,ga,Sa,Ea],Ds=[function(t){var e=t.url,i=t.module;return new Promise(function(t){if(i&&i.getAPI&&i.getAPI().logger||ki.b,Ta.a.CLIENT_INFO_DOMAINS.some(function(t){return~e.indexOf(t)})){Fi.d||(e=Object(wr.a)(e,{flash:0}));var r=i.adWidth,o=i.adHeight;r&&o&&(e=Object(wr.a)(e,{w:r,h:o}));var n=Object(Li.i)(window,document);n&&(e=Object(wr.a)(e,{location:n}))}t({url:e,module:i})})},function(t){var e=t.url,i=t.module;return new Promise(function(t){i&&i.getAPI&&i.getAPI().logger||ki.b,-1!==e.indexOf(ka)?new Promise(function(t){var e,i=Date.now();try{e=JSON.parse(localStorage.getItem(xa))}catch(t){}e&&e.timestamp>i-864e5?t(e):Object(Yi.f)(xa).then(function(e){var r={};try{r=JSON.parse(e.target.responseText)}catch(t){}t({timestamp:i,data:r})}).catch(function(){t({})})}).then(function(t){return new Promise(function(e){try{localStorage.setItem(xa,JSON.stringify(t))}catch(t){}finally{e(t)}})}).then(function(t){return new Promise(function(i){var r=t&&t.data||{},o=r.socio_demographics||{},n="&"+Object(wr.a)("",{puid33:o.gender||"",puid34:o.age||"",puid35:o.social_class||"",puid36:(r.clusters||[]).slice(0,10).join(":"),puid37:(r.audiences||[]).slice(0,10).join(":")}).substr(1).replace("%3A",":");i(e.replace(ka,n))})}).then(function(e){return t({url:e,module:i})}):t({url:e,module:i})})},function(t){var e=t.url,i=t.module;return new Promise(function(t){if(i&&i.getAPI&&i.getAPI().logger||ki.b,-1!==e.indexOf(Na)){var r={};[{key:"roxot-group-id",f:We.bind(null,1e3)},{key:"roxot-sector-id",f:We.bind(null,100)},{key:"roxot-deep",f:We.bind(null,100)},{key:"roxot-event-group-id",f:ze.bind(null)},{key:"roxot-event",f:ze.bind(null)},{key:"roxot-event-deep",f:ze.bind(null)},{key:"roxot-minutes",f:function(){return(new Date).getUTCMinutes().toString()}},{key:"roxot-hours",f:function(){return(new Date).getUTCHours().toString()}},{key:"roxot-day",f:function(){return(new Date).getUTCDay().toString()}}].forEach(function(t){r[t.key]=t.f(t.key)}),t({url:e.replace(Na,Object(wr.a)("",r).substr(1)),module:i})}else t({url:e,module:i})})}],Is=[function(t){return new Promise(function(e){var i=t&&t.getAPI&&t.getAPI()||{},r=i.logger||ki.b,o=i.getLastParameters,n=i.setControlData,a=i.getControlUnionData,s=i.trackStrongUrls,d=o(),c=d&&d[Ma]||{};if(Object.keys(c).length){var l,u=c.options,h=c.pattern,p=c.global,f=c.selector,g=c.trackings,b=c.fatal,m=c.important,v=c[Fr.b],y=a(Ma)||{},O=y.pattern,_=y.selector;n(Ma,((l={options:u,pattern:h,selector:f,trackings:g,fatal:b})[Fr.a]=m,l[Fr.b]=v||(h||h!==O)&&(f||f!==_)?"solid":"",l),p)}var A=a(Ma)||{},w=A.pattern,S=A.selector,j=A.trackings,P=A.fatal;if(w){var C=new RegExp(w,"i"),E=(function(t){var e;try{(e=window.top.document.querySelectorAll(t))&&e.length||(e=window.top.document.querySelectorAll("body"))}catch(e){}if(!e||!e.length)try{e=document.querySelectorAll(t)}catch(e){}return e&&e.length||(e=document.querySelectorAll("body")),Array.from(e).map(function(t){return t.innerText||t.textContent}).join("\n")}(S)||"").match(C);if(E){s(j);var D=Error(Ra+" Pattern matched: "+E);throw D.fatal=!!P,D}r.log(Ra+" Pattern not matched: "+w)}e(t)})},function(t){return new Promise(function(e){var i=t&&t.getAPI&&t.getAPI().logger||ki.b,r=t._getLastDataXml(),o=r&&r.querySelector('Extension[type="vnTargetedWords"]');if(o){var n=Object(wr.c)(o,"fatal"),a=o&&o.querySelector("words");if(!a)return void e(t);var s=Object(wr.d)(a).replace(/[,\s]+$/g,"").split(/\s*,\s*/i).join("|"),d=new RegExp(s,"i"),c=(function(t){var e;try{e=document.querySelectorAll(t)}catch(e){}return e&&e.length||(e=document.querySelectorAll("body")),Array.from(e).map(function(t){return t.textContent||t.innerText}).join("\n")}(Object(wr.d)(o,"selector"))||"").match(d);if(!c){var l=new Error(Va+" Pattern not matched: "+s);throw l.fatal=!!n,l}i.log(Va+" Pattern matched: "+c),t._track('Extension[type="vnTargetedWords"] targetedMetrics')}e(t)})},function(t){return new Promise(function(e){var i=t&&t.getAPI&&t.getAPI().logger||ki.b,r=t._getLastDataXml(),o=r&&r.querySelector('Extension[type="controls"]');if(o){i.log(La+" Init");var n=o.querySelectorAll("control");if(n&&n.length)Array.from(n).forEach(function(e){var i=e.getAttribute("id"),r=e.getAttribute("layout");Fa[i]&&t._setControlData(Fa[i],{css:Wa[r]||{}})}),i.log(La+" Layout applied");else{var a=Object(wr.d)(o);("1"===a||"0"===a)&&t._setControlData("adSpectorControls",a)}}e(t)})},function(t){return new Promise(function(e){t&&t.getAPI&&t.getAPI().logger||ki.b;var i,r=(t._getLastParameters()||{})[za]||{},o=r.enabled,n=r.global,a=r.important;(o||n||a)&&t._setControlData(za,((i={enabled:o})[Fr.a]=a,i),n);e(t)})},ei,function(t){return new Promise(function(e){t&&t.getAPI&&t.getAPI().logger||ki.b;var i={adlabel:"title",countdown:"skipAdCountdown",close:"skipAd",logo:"logo",soundbtn:"volume",progress:"progress",progressbar:"progressBar",advlogo:"advLogo",callbutton:"callButton",moreinfo:"moreInfo",bottomborder:"bottomBorder",video:"slot",play:"play",videoclick:"videoclick"},r={background:"background",containerbackground:"containerBackground",videobackground:"videobackground",maincontainer:"mainContainer"},o={layout:function(t){return"0"===t?{css:Wi.m}:{css:Wi.r}},display:function(t){return{css:{display:t}}},action:function(t){return{action:t}},enablewithvpaid:function(t){return{enableWithVPAID:t}},width:function(t){return{css:{width:t}}},height:function(t){return{css:{height:t}}},color:function(t){return{css:{color:t,fill:t,stroke:t}}},bgcolor:function(t){return{css:{backgroundColor:t}}},hoverbgcolor:function(t){return{hoverBackgroundColor:t}},hovercolor:function(t){return{hoverColor:t}},imgsrc:function(t){return{css:{backgroundImage:"url("+t+")"}}},padding:function(t){return{css:{padding:t}}},text:function(t){return{text:t}},url:function(t){return{url:t}},type:function(t){return void 0===t?{}:{isIframe:"iframe"===t.toLowerCase()}},position:function(t){return{position:t}},marginh:function(t){return{marginH:t}},marginv:function(t){return{marginV:t}},valign:function(e){var i=t._getControlNode("slot");i&&Object(Wi.b)(i,{top:e,transform:"translate(-50%, -"+e+")"})},overwrite:function(t){var e;return(e={})[Fr.b]=t,e},logosrc:function(t){return{customerlogo:{logoSrc:t}}},logoheight:function(t){return{customerlogo:{logoHeight:t}}},logowidth:function(t){return{customerlogo:{logoWidth:t}}},totaltimecountdown:function(t){return{totalTimeCountdown:t}},remove:function(t){return{remove:Object(Li.s)(t)}},important:function(t){var e;return(e={})[Fr.a]=Object(Li.s)(t),e}},n=t._getLastParameters(),a=n&&n.vnControls&&n.vnControls.controls;if(!a)return e(t);var s=n.vnControls.global;return Object.keys(a).forEach(function(e){var n=a[e],d=n.global||s,c=n.css,l=!0,u=i[e.toLowerCase()];u||(u=r[e.toLowerCase()],l=!1);var h=Object(Li.s)(n.important);delete n.important;var p=l?Be({},Wi.r,{display:"initial"}):{},f=Object.keys(n).reduce(function(t,e){var i=o[e.toLowerCase()],r=n[e],a=r&&i&&i(r);return a&&Object.keys(a).forEach(function(e){var i,r=a[e];"object"!=typeof r||null===r?t[e]=((i={})[Fr.d]=r,i[Fr.c]=!0,i):t[e]=Be({},t[e],{},r);h&&(t[e][Fr.a]=!0)}),t},{css:c||p});l&&(f.parsePoint=n.parsePoint),Object(Li.p)(f)||t._setControlData(u,f,d),["hover","afterplay"].forEach(function(e){var i;n[e]&&t._setControlData(u,((i={})[e]=!0,i),d)})}),e(t)})},function(t){return new Promise(function(e,i){t&&t.getAPI&&t.getAPI().logger||ki.b,t.maxSkipTime=null;var r,o=t._getLastParameters(),n=o&&o[Ha]||{},a=n,s=a.strict,d=a.important,c=a.global,l=n.skipTime;c&&t._setControlData(Ha,((r={skipTime:l,strict:s})[Fr.a]=d,r.global=c,r),c);var u,h=t._getControlUnionData(Ha,null,function(t){return t.strict})||{},p=h.skipTime,f=h.strict;!c&&l<1/0&&t._setControlData(Ha,((u={skipTime:l,strict:s})[Fr.a]=d,u.global=c,u),c);l=((n=t._getControlUnionData(Ha))||{}).skipTime;var g=f&&p;g&&(t.maxSkipTime=g);var b=g||0===g,m=l;if(l||b){if(b&&l&&f&&g<l){var v=Error('skipTime has attribute "strict" == true and value of skipTime('+l+") is more than parent skipTime("+g+")");return v.code=Ti.a.GENERAL_VPAID_ERROR,i(v)}m=f?Di(g||1/0,0===l?0:l||1/0):l||0}return t._setControlData("skipAdCountdown",{timeBeforeSkip:m}),t._setControlData("skipAd",{timeBeforeSkip:m}),e(t)})},function(t){return new Promise(function(e){t&&t.getAPI&&t.getAPI().logger||ki.b;var i=t._getLastDataXml(),r=i&&i.querySelector('Extension[type="vnSubtitles"]');r?Xa(r).then(function(e){t.subscribe(Ye.bind(t),"AdLoaded"),t.subscribe(function(t){var e=this._getControlNode("subtitle"),i=this.getAdElapsedTime(),r=t.find(function(t){var e=t.startTime,r=t.endTime;return e<=i&&i<r});r?(Object(Wi.b)(e,{display:""}),e.innerHTML=r.text):(Object(Wi.b)(e,{display:"none"}),e.innerHTML="")}.bind(t,e),"AdRemainingTimeChange"),t.subscribe(function(){var t=this._getControlNode("subtitle");Object(Wi.b)(t,{display:"none"}),t.innerHTML=""}.bind(t),"AdVideoComplete")}).catch(function(){}).then(function(){return e(t)}):e(t)})},function(t){var e=t.vnAfterplay;return e&&e._destroy(),t.vnAfterplay=null,new $a({module:t}).init(t)},function(t){return new Promise(function(e){t&&t.getAPI&&t.getAPI().logger||ki.b;var i=t.environmentVars,r=t._getLastParameters(),o=i&&i.forceFormat&&i.forceFormat||r.vnFormat;if(o){var n=o.overwrite,a=o.important;n&&(o[Fr.b]=n,delete o.overwrite),a&&(o[Fr.a]=a,delete o.important),t._setControlData(rs,o,o.global)}var s=t._getControlUnionData(rs);if(s){var d=s.name,c=s.options,l=t.options&&t.options.amp;if(l&&"contentroll"!==d.toLowerCase())throw new Error("::Extension["+rs+"] Failed to create format ("+d+") because only the ContentRoll format is available for amp");var u=i&&i.format&&i.format.options,h=Object(Fr.e)({},c,u);l&&(h.amp=!0);var p=tn(t,d||"InStream",h);p&&t._setFormat(p)}e(t)})},function(t){return new Promise(function(e){var i=t&&t.getAPI&&t.getAPI().logger||ki.b,r=(t._getLastParameters()||{})[is]||{},o=r,n=o.global,a=o[Fr.a];if(delete r.global,(!Object(Li.p)(r)||a||n)&&t._setControlData(is,r,n),r=t._getControlUnionData(is),Object(Li.p)(r))return e(t);var s=r||{},d=s.html,c=s.clickTracking,l=s.openWindowUrl,u=s.color,h=s.backgroundColor,p=s.backgroundImage,f=s.backgroundSize,g=s.opacity,b=s.closeData,m=t._getControlNode("underplay")||Object(Wi.a)(document.body,"div",{},"");if(m.addEventListener("click",function(e){e.preventDefault(),c&&t._trackStrongUrls([c]),l&&Object(Yi.b)(l),t.skipAd()}),Object(Wi.b)(m,{position:"fixed",zIndex:-1,top:0,right:0,bottom:0,left:0,width:"100%",height:"100%",transition:"opacity 500ms ease-out",color:u,backgroundColor:h,backgroundImage:p,backgroundSize:f,opacity:g}),m.innerHTML=d,!Object(Li.p)(b)){var v=b.img,y=b.top,O=b.right,_=b.bottom,A=b.left,w=b.width,S=b.height,j=b.time,P=v?"":es.a,C=Object(Wi.a)(m,"div",{position:"absolute",zIndex:1,top:y,right:O,bottom:_,left:A,width:w,height:S,backgroundSize:"cover",backgroundImage:"url("+(v||"")+")",cursor:"pointer"},P,function(){return t.skipAd()});C.addEventListener("touchstart",function(e){e.preventDefault(),t.skipAd()});var E=Object(wr.g)(j)||t._getControlUnionData("skipAdCountdown","timeBeforeSkip");if(E){Object(Wi.b)(C,{display:"none"});t.subscribe(function e(){t.getAdElapsedTime()>=E&&(Object(Wi.b)(C,{display:""}),t.unsubscribe(e,"AdRemainingTimeChange"))},"AdRemainingTimeChange")}t.subscribe(function(){i.log("::Extension["+is+"] Removing underplay"),Object(Wi.b)(m,{opacity:0}),setTimeout(function(){Object(Wi.s)(m)},500)},"AdDestroyed")}return e(t)})},function(t){return new Promise(function(e){t&&t.getAPI&&t.getAPI().logger||ki.b;var i,r=(t._getLastParameters()||{})[os]||{},o=r.serverUrl,n=r.strict,a=r.global,s=r.important;(o||n||a||s)&&t._setControlData(os,((i={serverUrl:o,strict:n})[Fr.a]=s,i),a);e(t)})},function(t){return new Promise(function(e){t&&t.getAPI&&t.getAPI().logger||ki.b;var i=(t._getLastParameters()||{})[ns]||{},r=function(e){var r,o,n=i[e]||{},a=n.url,s=n.important,d=n.global;void 0!==a&&t._setControlData(ns,((o={})[e]=((r={url:a})[Fr.a]=s,r),o),d)};r("impression"),r("debug"),r("passed"),r("select"),e(t)})},as.a,function(t){return new Promise(function(e){t&&t.getAPI&&t.getAPI().logger||ki.b;var i,r=(t._getLastParameters()||{})[ss]||{},o=r.functionUrl,n=r.functionText,a=r.important,s=r.global;(o||n||a||s)&&t._setControlData(ss,((i={functionUrl:o,functionText:n})[Fr.a]=a,i[Fr.b]="solid",i),s);e(t)})},function(t){var e=t.vnAdEvents;return e&&e._destroy(),t.vnAdEvents=null,new ls({module:t}).init(t)},function(t){var e=t.vnPageChanged;return e&&e._destroy(),t.vnPageChanged=null,new ps({module:t}).init()},function(t){return new Promise(function(e){var i=t&&t.getAPI&&t.getAPI()||{},r=(i.logger||ki.b,i.getLastParameters().vnShowViqeo);if(r){var o=r.options,n=r.global;i.setControlData(fs,{options:o},n)}e(t)})},function(t){return new Promise(function(e){var i=t&&t.getAPI&&t.getAPI()||{},r=(i.logger||ki.b,i.getLastParameters()[gs]);if(r){var o=r.eventsParams,n=r.global;o&&i.setControlData(gs,{eventsParams:o},n)}e(t)})}],Ts=["AdLoaded","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdResumed","AdPlaying","AdAudioDisabled","AdLoadedVideoData","slotSizeChanged","vn_hideOverlayFormatWrapper"];window.createVPAIDAd=function(t){return ki.b.log("Requested new module instance via window.createVPAIDAd()"),rn=new js(t)},window.getVPAIDAd=function(t){return ki.b.log("Requested module instance via window.getVPAIDAd()"),rn=rn||new js(t)}}]);