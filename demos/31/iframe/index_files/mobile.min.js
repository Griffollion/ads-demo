!function () {
    'use strict';
    $(function () {

        function a() {
            $(".jq-selectbox.jqselect").on("click", function(e){
                var t = $(this),
                    div = t.find(".jq-selectbox__dropdown ul");
                if(
                    !div.is(e.target) && div.has(e.target).length === 0
                    && (e.target.closest(".jq-selectbox__select") == null || !t.hasClass("sh"))
                ) {
                    if(t.hasClass("enable_search"))
                        t.find(".jq-selectbox__search").show();
                    t.addClass("sh").find(".jq-selectbox__dropdown").show();
                } else {
                    t.removeClass("sh").find(".jq-selectbox__dropdown").hide();
                }
            });
            $(".jq-selectbox__dropdown ul li").on("click", function(){
                var t = $(this),
                    b = t.closest(".jq-selectbox__dropdown"),
                    s = b.find("select");
                s.find("option:contains("+ t.val()+")").prop("selected", true);
                s.change();
                b.find(".jq-selectbox__search input").val("");
                b.hide();
            });
            $(".jq-selectbox__search input").off("keyup").on("keyup", function(){
                    var t = $(this), e = t.val(),
                        b = t.closest(".jq-selectbox__dropdown"),
                        n = b.find(".jq-selectbox__not-found"),
                        l = b.find("ul"), i = 0;
                    if(e != ""){
                        l.find("li").each(function(){
                            $(this).html().match(new RegExp(".*?"+e+".*?","i"))
                                ?($(this).show(), i++)
                                :$(this).hide()
                        });
                        i>0 ? (l.show(), n.hide()) : (l.hide(), n.show());
                    }
                });
        }

        setTimeout(function(){
            a();
        }, 1000);

    });
}();